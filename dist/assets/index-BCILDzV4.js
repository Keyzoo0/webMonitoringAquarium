var IR=Object.defineProperty;var DR=(n,t,e)=>t in n?IR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var It=(n,t,e)=>DR(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function RS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Pm={exports:{}},pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb;function OR(){if(Sb)return pu;Sb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var u=null;if(o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:u,ref:r!==void 0?r:null,props:o}}return pu.Fragment=t,pu.jsx=e,pu.jsxs=e,pu}var wb;function MR(){return wb||(wb=1,Pm.exports=OR()),Pm.exports}var nt=MR(),Vm={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function kR(){if(Ab)return Ct;Ab=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,I={};function C(L,rt,ct){this.props=L,this.context=rt,this.refs=I,this.updater=ct||S}C.prototype.isReactComponent={},C.prototype.setState=function(L,rt){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,rt,"setState")},C.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function V(){}V.prototype=C.prototype;function G(L,rt,ct){this.props=L,this.context=rt,this.refs=I,this.updater=ct||S}var H=G.prototype=new V;H.constructor=G,A(H,C.prototype),H.isPureReactComponent=!0;var J=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},at=Object.prototype.hasOwnProperty;function O(L,rt,ct,ot,gt,xt){return ct=xt.ref,{$$typeof:n,type:L,key:rt,ref:ct!==void 0?ct:null,props:xt}}function R(L,rt){return O(L.type,rt,void 0,void 0,void 0,L.props)}function D(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function N(L){var rt={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ct){return rt[ct]})}var P=/\/+/g;function U(L,rt){return typeof L=="object"&&L!==null&&L.key!=null?N(""+L.key):rt.toString(36)}function M(){}function Zt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(M,M):(L.status="pending",L.then(function(rt){L.status==="pending"&&(L.status="fulfilled",L.value=rt)},function(rt){L.status==="pending"&&(L.status="rejected",L.reason=rt)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function At(L,rt,ct,ot,gt){var xt=typeof L;(xt==="undefined"||xt==="boolean")&&(L=null);var yt=!1;if(L===null)yt=!0;else switch(xt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(L.$$typeof){case n:case t:yt=!0;break;case y:return yt=L._init,At(yt(L._payload),rt,ct,ot,gt)}}if(yt)return gt=gt(L),yt=ot===""?"."+U(L,0):ot,J(gt)?(ct="",yt!=null&&(ct=yt.replace(P,"$&/")+"/"),At(gt,rt,ct,"",function(li){return li})):gt!=null&&(D(gt)&&(gt=R(gt,ct+(gt.key==null||L&&L.key===gt.key?"":(""+gt.key).replace(P,"$&/")+"/")+yt)),rt.push(gt)),1;yt=0;var Pe=ot===""?".":ot+":";if(J(L))for(var se=0;se<L.length;se++)ot=L[se],xt=Pe+U(ot,se),yt+=At(ot,rt,ct,xt,gt);else if(se=b(L),typeof se=="function")for(L=se.call(L),se=0;!(ot=L.next()).done;)ot=ot.value,xt=Pe+U(ot,se++),yt+=At(ot,rt,ct,xt,gt);else if(xt==="object"){if(typeof L.then=="function")return At(Zt(L),rt,ct,ot,gt);throw rt=String(L),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return yt}function $(L,rt,ct){if(L==null)return L;var ot=[],gt=0;return At(L,ot,"","",function(xt){return rt.call(ct,xt,gt++)}),ot}function lt(L){if(L._status===-1){var rt=L._result;rt=rt(),rt.then(function(ct){(L._status===0||L._status===-1)&&(L._status=1,L._result=ct)},function(ct){(L._status===0||L._status===-1)&&(L._status=2,L._result=ct)}),L._status===-1&&(L._status=0,L._result=rt)}if(L._status===1)return L._result.default;throw L._result}var mt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Pt(){}return Ct.Children={map:$,forEach:function(L,rt,ct){$(L,function(){rt.apply(this,arguments)},ct)},count:function(L){var rt=0;return $(L,function(){rt++}),rt},toArray:function(L){return $(L,function(rt){return rt})||[]},only:function(L){if(!D(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ct.Component=C,Ct.Fragment=e,Ct.Profiler=r,Ct.PureComponent=G,Ct.StrictMode=i,Ct.Suspense=f,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(L){return Q.H.useMemoCache(L)}},Ct.cache=function(L){return function(){return L.apply(null,arguments)}},Ct.cloneElement=function(L,rt,ct){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ot=A({},L.props),gt=L.key,xt=void 0;if(rt!=null)for(yt in rt.ref!==void 0&&(xt=void 0),rt.key!==void 0&&(gt=""+rt.key),rt)!at.call(rt,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&rt.ref===void 0||(ot[yt]=rt[yt]);var yt=arguments.length-2;if(yt===1)ot.children=ct;else if(1<yt){for(var Pe=Array(yt),se=0;se<yt;se++)Pe[se]=arguments[se+2];ot.children=Pe}return O(L.type,gt,void 0,void 0,xt,ot)},Ct.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Ct.createElement=function(L,rt,ct){var ot,gt={},xt=null;if(rt!=null)for(ot in rt.key!==void 0&&(xt=""+rt.key),rt)at.call(rt,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(gt[ot]=rt[ot]);var yt=arguments.length-2;if(yt===1)gt.children=ct;else if(1<yt){for(var Pe=Array(yt),se=0;se<yt;se++)Pe[se]=arguments[se+2];gt.children=Pe}if(L&&L.defaultProps)for(ot in yt=L.defaultProps,yt)gt[ot]===void 0&&(gt[ot]=yt[ot]);return O(L,xt,void 0,void 0,null,gt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(L){return{$$typeof:h,render:L}},Ct.isValidElement=D,Ct.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:lt}},Ct.memo=function(L,rt){return{$$typeof:g,type:L,compare:rt===void 0?null:rt}},Ct.startTransition=function(L){var rt=Q.T,ct={};Q.T=ct;try{var ot=L(),gt=Q.S;gt!==null&&gt(ct,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Pt,mt)}catch(xt){mt(xt)}finally{Q.T=rt}},Ct.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},Ct.use=function(L){return Q.H.use(L)},Ct.useActionState=function(L,rt,ct){return Q.H.useActionState(L,rt,ct)},Ct.useCallback=function(L,rt){return Q.H.useCallback(L,rt)},Ct.useContext=function(L){return Q.H.useContext(L)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(L,rt){return Q.H.useDeferredValue(L,rt)},Ct.useEffect=function(L,rt,ct){var ot=Q.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(L,rt)},Ct.useId=function(){return Q.H.useId()},Ct.useImperativeHandle=function(L,rt,ct){return Q.H.useImperativeHandle(L,rt,ct)},Ct.useInsertionEffect=function(L,rt){return Q.H.useInsertionEffect(L,rt)},Ct.useLayoutEffect=function(L,rt){return Q.H.useLayoutEffect(L,rt)},Ct.useMemo=function(L,rt){return Q.H.useMemo(L,rt)},Ct.useOptimistic=function(L,rt){return Q.H.useOptimistic(L,rt)},Ct.useReducer=function(L,rt,ct){return Q.H.useReducer(L,rt,ct)},Ct.useRef=function(L){return Q.H.useRef(L)},Ct.useState=function(L){return Q.H.useState(L)},Ct.useSyncExternalStore=function(L,rt,ct){return Q.H.useSyncExternalStore(L,rt,ct)},Ct.useTransition=function(){return Q.H.useTransition()},Ct.version="19.1.0",Ct}var xb;function Kp(){return xb||(xb=1,Vm.exports=kR()),Vm.exports}var W=Kp();const $p=RS(W);var Lm={exports:{}},yu={},Um={exports:{}},zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function NR(){return Rb||(Rb=1,function(n){function t($,lt){var mt=$.length;$.push(lt);t:for(;0<mt;){var Pt=mt-1>>>1,L=$[Pt];if(0<r(L,lt))$[Pt]=lt,$[mt]=L,mt=Pt;else break t}}function e($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var lt=$[0],mt=$.pop();if(mt!==lt){$[0]=mt;t:for(var Pt=0,L=$.length,rt=L>>>1;Pt<rt;){var ct=2*(Pt+1)-1,ot=$[ct],gt=ct+1,xt=$[gt];if(0>r(ot,mt))gt<L&&0>r(xt,ot)?($[Pt]=xt,$[gt]=mt,Pt=gt):($[Pt]=ot,$[ct]=mt,Pt=ct);else if(gt<L&&0>r(xt,mt))$[Pt]=xt,$[gt]=mt,Pt=gt;else break t}}return lt}function r($,lt){var mt=$.sortIndex-lt.sortIndex;return mt!==0?mt:$.id-lt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],g=[],y=1,v=null,b=3,S=!1,A=!1,I=!1,C=!1,V=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function J($){for(var lt=e(g);lt!==null;){if(lt.callback===null)i(g);else if(lt.startTime<=$)i(g),lt.sortIndex=lt.expirationTime,t(f,lt);else break;lt=e(g)}}function Q($){if(I=!1,J($),!A)if(e(f)!==null)A=!0,at||(at=!0,U());else{var lt=e(g);lt!==null&&At(Q,lt.startTime-$)}}var at=!1,O=-1,R=5,D=-1;function N(){return C?!0:!(n.unstable_now()-D<R)}function P(){if(C=!1,at){var $=n.unstable_now();D=$;var lt=!0;try{t:{A=!1,I&&(I=!1,G(O),O=-1),S=!0;var mt=b;try{e:{for(J($),v=e(f);v!==null&&!(v.expirationTime>$&&N());){var Pt=v.callback;if(typeof Pt=="function"){v.callback=null,b=v.priorityLevel;var L=Pt(v.expirationTime<=$);if($=n.unstable_now(),typeof L=="function"){v.callback=L,J($),lt=!0;break e}v===e(f)&&i(f),J($)}else i(f);v=e(f)}if(v!==null)lt=!0;else{var rt=e(g);rt!==null&&At(Q,rt.startTime-$),lt=!1}}break t}finally{v=null,b=mt,S=!1}lt=void 0}}finally{lt?U():at=!1}}}var U;if(typeof H=="function")U=function(){H(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Zt=M.port2;M.port1.onmessage=P,U=function(){Zt.postMessage(null)}}else U=function(){V(P,0)};function At($,lt){O=V(function(){$(n.unstable_now())},lt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function($){switch(b){case 1:case 2:case 3:var lt=3;break;default:lt=b}var mt=b;b=lt;try{return $()}finally{b=mt}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function($,lt){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var mt=b;b=$;try{return lt()}finally{b=mt}},n.unstable_scheduleCallback=function($,lt,mt){var Pt=n.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Pt+mt:Pt):mt=Pt,$){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=mt+L,$={id:y++,callback:lt,priorityLevel:$,startTime:mt,expirationTime:L,sortIndex:-1},mt>Pt?($.sortIndex=mt,t(g,$),e(f)===null&&$===e(g)&&(I?(G(O),O=-1):I=!0,At(Q,mt-Pt))):($.sortIndex=L,t(f,$),A||S||(A=!0,at||(at=!0,U()))),$},n.unstable_shouldYield=N,n.unstable_wrapCallback=function($){var lt=b;return function(){var mt=b;b=lt;try{return $.apply(this,arguments)}finally{b=mt}}}}(zm)),zm}var Cb;function PR(){return Cb||(Cb=1,Um.exports=NR()),Um.exports}var Bm={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function VR(){if(Ib)return tn;Ib=1;var n=Kp();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:g,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,tn.createPortal=function(f,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,y)},tn.flushSync=function(f){var g=u.T,y=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=g,i.p=y,i.d.f()}},tn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},tn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},tn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:S}):y==="script"&&i.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},tn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin);i.d.L(f,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(f,g){if(typeof f=="string")if(g){var y=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},tn.requestFormReset=function(f){i.d.r(f)},tn.unstable_batchedUpdates=function(f,g){return f(g)},tn.useFormState=function(f,g,y){return u.H.useFormState(f,g,y)},tn.useFormStatus=function(){return u.H.useHostTransitionStatus()},tn.version="19.1.0",tn}var Db;function LR(){if(Db)return Bm.exports;Db=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Bm.exports=VR(),Bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function UR(){if(Ob)return yu;Ob=1;var n=PR(),t=Kp(),e=LR();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function u(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,c=a;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return h(m),s;if(p===c)return h(m),a;p=p.sibling}throw Error(i(188))}if(l.return!==c.return)l=m,c=p;else{for(var T=!1,w=m.child;w;){if(w===l){T=!0,l=m,c=p;break}if(w===c){T=!0,c=m,l=p;break}w=w.sibling}if(!T){for(w=p.child;w;){if(w===l){T=!0,l=p,c=m;break}if(w===c){T=!0,c=p,l=m;break}w=w.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),H=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function Zt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case C:return"Profiler";case I:return"StrictMode";case Q:return"Suspense";case at:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case H:return(s.displayName||"Context")+".Provider";case G:return(s._context.displayName||"Context")+".Consumer";case J:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return a=s.displayName||null,a!==null?a:Zt(s.type)||"Memo";case R:a=s._payload,s=s._init;try{return Zt(s(a))}catch{}}return null}var At=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Pt=[],L=-1;function rt(s){return{current:s}}function ct(s){0>L||(s.current=Pt[L],Pt[L]=null,L--)}function ot(s,a){L++,Pt[L]=s.current,s.current=a}var gt=rt(null),xt=rt(null),yt=rt(null),Pe=rt(null);function se(s,a){switch(ot(yt,a),ot(xt,s),ot(gt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?X0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=X0(a),s=Z0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ct(gt),ot(gt,s)}function li(){ct(gt),ct(xt),ct(yt)}function As(s){s.memoizedState!==null&&ot(Pe,s);var a=gt.current,l=Z0(a,s.type);a!==l&&(ot(xt,s),ot(gt,l))}function Vi(s){xt.current===s&&(ct(gt),ct(xt)),Pe.current===s&&(ct(Pe),hu._currentValue=mt)}var xr=Object.prototype.hasOwnProperty,Rr=n.unstable_scheduleCallback,Cr=n.unstable_cancelCallback,ll=n.unstable_shouldYield,xc=n.unstable_requestPaint,In=n.unstable_now,Pd=n.unstable_getCurrentPriorityLevel,ul=n.unstable_ImmediatePriority,ka=n.unstable_UserBlockingPriority,Ir=n.unstable_NormalPriority,Vd=n.unstable_LowPriority,Na=n.unstable_IdlePriority,cl=n.log,Rc=n.unstable_setDisableYieldValue,ge=null,$t=null;function vn(s){if(typeof cl=="function"&&Rc(s),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(ge,s)}catch{}}var Ze=Math.clz32?Math.clz32:Dr,Cc=Math.log,Ld=Math.LN2;function Dr(s){return s>>>=0,s===0?32:31-(Cc(s)/Ld|0)|0}var Or=256,Mr=4194304;function Qn(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Pa(s,a,l){var c=s.pendingLanes;if(c===0)return 0;var m=0,p=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var w=c&134217727;return w!==0?(c=w&~p,c!==0?m=Qn(c):(T&=w,T!==0?m=Qn(T):l||(l=w&~s,l!==0&&(m=Qn(l))))):(w=c&~p,w!==0?m=Qn(w):T!==0?m=Qn(T):l||(l=c&~s,l!==0&&(m=Qn(l)))),m===0?0:a!==0&&a!==m&&(a&p)===0&&(p=m&-m,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:m}function kr(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function hl(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fl(){var s=Or;return Or<<=1,(Or&4194048)===0&&(Or=256),s}function dl(){var s=Mr;return Mr<<=1,(Mr&62914560)===0&&(Mr=4194304),s}function Li(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Ui(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function gl(s,a,l,c,m,p){var T=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var w=s.entanglements,k=s.expirationTimes,q=s.hiddenUpdates;for(l=T&~l;0<l;){var Z=31-Ze(l),et=1<<Z;w[Z]=0,k[Z]=-1;var Y=q[Z];if(Y!==null)for(q[Z]=null,Z=0;Z<Y.length;Z++){var K=Y[Z];K!==null&&(K.lane&=-536870913)}l&=~et}c!==0&&ui(s,c,0),p!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=p&~(T&~a))}function ui(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-Ze(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function ml(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-Ze(l),m=1<<c;m&a|s[c]&a&&(s[c]|=a),l&=~m}}function xs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Va(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Rs(){var s=lt.p;return s!==0?s:(s=window.event,s===void 0?32:yb(s.type))}function Ic(s,a){var l=lt.p;try{return lt.p=s,a()}finally{lt.p=l}}var ue=Math.random().toString(36).slice(2),Ce="__reactFiber$"+ue,Te="__reactProps$"+ue,Dn="__reactContainer$"+ue,pl="__reactEvents$"+ue,Ud="__reactListeners$"+ue,Cs="__reactHandles$"+ue,Dc="__reactResources$"+ue,Nr="__reactMarker$"+ue;function Is(s){delete s[Ce],delete s[Te],delete s[pl],delete s[Ud],delete s[Cs]}function zi(s){var a=s[Ce];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Dn]||l[Ce]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=nb(s);s!==null;){if(l=s[Ce])return l;s=nb(s)}return a}s=l,l=s.parentNode}return null}function ci(s){if(s=s[Ce]||s[Dn]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function hi(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function ln(s){var a=s[Dc];return a||(a=s[Dc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ye(s){s[Nr]=!0}var yl=new Set,La={};function Wn(s,a){Bi(s,a),Bi(s+"Capture",a)}function Bi(s,a){for(La[s]=a,s=0;s<a.length;s++)yl.add(a[s])}var Oc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mc={},Pr={};function kc(s){return xr.call(Pr,s)?!0:xr.call(Mc,s)?!1:Oc.test(s)?Pr[s]=!0:(Mc[s]=!0,!1)}function Ds(s,a,l){if(kc(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function fi(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function qe(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}var Vr,Nc;function ji(s){if(Vr===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Vr=a&&a[1]||"",Nc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vr+s+Nc}var Ua=!1;function za(s,a){if(!s||Ua)return"";Ua=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(K){var Y=K}Reflect.construct(s,[],et)}else{try{et.call()}catch(K){Y=K}s.call(et.prototype)}}else{try{throw Error()}catch(K){Y=K}(et=s())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(K){if(K&&Y&&typeof K.stack=="string")return[K.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),T=p[0],w=p[1];if(T&&w){var k=T.split(`
`),q=w.split(`
`);for(m=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(c===k.length||m===q.length)for(c=k.length-1,m=q.length-1;1<=c&&0<=m&&k[c]!==q[m];)m--;for(;1<=c&&0<=m;c--,m--)if(k[c]!==q[m]){if(c!==1||m!==1)do if(c--,m--,0>m||k[c]!==q[m]){var Z=`
`+k[c].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=c&&0<=m);break}}}finally{Ua=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?ji(l):""}function _l(s){switch(s.tag){case 26:case 27:case 5:return ji(s.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return za(s.type,!1);case 11:return za(s.type.render,!1);case 1:return za(s.type,!0);case 31:return ji("Activity");default:return""}}function Ba(s){try{var a="";do a+=_l(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function un(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function vl(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function zd(s){var a=vl(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,p=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(T){c=""+T,p.call(this,T)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ja(s){s._valueTracker||(s._valueTracker=zd(s))}function bl(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=vl(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function Lr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Bd=/[\n"\\]/g;function Se(s){return s.replace(Bd,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function bn(s,a,l,c,m,p,T,w){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),a!=null?T==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+un(a)):s.value!==""+un(a)&&(s.value=""+un(a)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),a!=null?Os(s,T,un(a)):l!=null?Os(s,T,un(l)):c!=null&&s.removeAttribute("value"),m==null&&p!=null&&(s.defaultChecked=!!p),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.name=""+un(w):s.removeAttribute("name")}function Ur(s,a,l,c,m,p,T,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;l=l!=null?""+un(l):"",a=a!=null?""+un(a):l,w||a===s.value||(s.value=a),s.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=w?s.checked:!!c,s.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T)}function Os(s,a,l){a==="number"&&Lr(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Hi(s,a,l,c){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+un(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function Jt(s,a,l){if(a!=null&&(a=""+un(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+un(l):""}function zr(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(At(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=un(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function On(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Br=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pc(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||Br.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function El(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&Pc(s,m,c)}else for(var p in a)a.hasOwnProperty(p)&&Pc(s,p,a[p])}function Tl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(s){return Hd.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Fi=null;function Mn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var qi=null,Gi=null;function Sl(s){var a=ci(s);if(a&&(s=a.stateNode)){var l=s[Te]||null;t:switch(s=a.stateNode,a.type){case"input":if(bn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Se(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var m=c[Te]||null;if(!m)throw Error(i(90));bn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&bl(c)}break t;case"textarea":Jt(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Hi(s,!!l.multiple,a,!1)}}}var di=!1;function Vc(s,a,l){if(di)return s(a,l);di=!0;try{var c=s(a);return c}finally{if(di=!1,(qi!==null||Gi!==null)&&(Ih(),qi&&(a=qi,s=Gi,Gi=qi=null,Sl(a),s)))for(a=0;a<s.length;a++)Sl(s[a])}}function jr(s,a){var l=s.stateNode;if(l===null)return null;var c=l[Te]||null;if(c===null)return null;l=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kn=!1;if(Xn)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){kn=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{kn=!1}var gi=null,Ms=null,Yi=null;function wl(){if(Yi)return Yi;var s,a=Ms,l=a.length,c,m="value"in gi?gi.value:gi.textContent,p=m.length;for(s=0;s<l&&a[s]===m[s];s++);var T=l-s;for(c=1;c<=T&&a[l-c]===m[p-c];c++);return Yi=m.slice(s,1<c?1-c:void 0)}function mi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function pi(){return!0}function Al(){return!1}function Ve(s){function a(l,c,m,p,T){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var w in s)s.hasOwnProperty(w)&&(l=s[w],this[w]=l?l(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?pi:Al,this.isPropagationStopped=Al,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),a}var Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=Ve(Yt),Fr=y({},Yt,{view:0,detail:0}),Lc=Ve(Fr),qa,Ga,yi,qr=y({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yi&&(yi&&s.type==="mousemove"?(qa=s.screenX-yi.screenX,Ga=s.screenY-yi.screenY):Ga=qa=0,yi=s),qa)},movementY:function(s){return"movementY"in s?s.movementY:Ga}}),Nn=Ve(qr),Uc=y({},qr,{dataTransfer:0}),Fd=Ve(Uc),Gr=y({},Fr,{relatedTarget:0}),Ya=Ve(Gr),xl=y({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ka=Ve(xl),zc=y({},Yt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$a=Ve(zc),qd=y({},Yt,{data:0}),Rl=Ve(qd),Yr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cl(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=jc[s])?!!a[s]:!1}function Kr(){return Cl}var Hc=y({},Fr,{key:function(s){if(s.key){var a=Yr[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=mi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Bc[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(s){return s.type==="keypress"?mi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?mi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Qa=Ve(Hc),Fc=y({},qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Il=Ve(Fc),Ki=y({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),qc=Ve(Ki),Gc=y({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yc=Ve(Gc),Kc=y({},qr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Wa=Ve(Kc),cn=y({},Yt,{newState:0,oldState:0}),$c=Ve(cn),Qc=[9,13,27,32],_i=Xn&&"CompositionEvent"in window,d=null;Xn&&"documentMode"in document&&(d=document.documentMode);var _=Xn&&"TextEvent"in window&&!d,E=Xn&&(!_i||d&&8<d&&11>=d),x=" ",j=!1;function X(s,a){switch(s){case"keyup":return Qc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ut(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ut=!1;function Ie(s,a){switch(s){case"compositionend":return ut(a);case"keypress":return a.which!==32?null:(j=!0,x);case"textInput":return s=a.data,s===x&&j?null:s;default:return null}}function zt(s,a){if(Ut)return s==="compositionend"||!_i&&X(s,a)?(s=wl(),Yi=Ms=gi=null,Ut=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Le[s.type]:a==="textarea"}function $i(s,a,l,c){qi?Gi?Gi.push(c):Gi=[c]:qi=c,a=Ph(a,"onChange"),0<a.length&&(l=new Fa("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var Ge=null,vi=null;function Dl(s){Y0(s,0)}function Wc(s){var a=hi(s);if(bl(a))return s}function d_(s,a){if(s==="change")return a}var g_=!1;if(Xn){var Gd;if(Xn){var Yd="oninput"in document;if(!Yd){var m_=document.createElement("div");m_.setAttribute("oninput","return;"),Yd=typeof m_.oninput=="function"}Gd=Yd}else Gd=!1;g_=Gd&&(!document.documentMode||9<document.documentMode)}function p_(){Ge&&(Ge.detachEvent("onpropertychange",y_),vi=Ge=null)}function y_(s){if(s.propertyName==="value"&&Wc(vi)){var a=[];$i(a,vi,s,Mn(s)),Vc(Dl,a)}}function rx(s,a,l){s==="focusin"?(p_(),Ge=a,vi=l,Ge.attachEvent("onpropertychange",y_)):s==="focusout"&&p_()}function ax(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Wc(vi)}function ox(s,a){if(s==="click")return Wc(a)}function lx(s,a){if(s==="input"||s==="change")return Wc(a)}function ux(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var En=typeof Object.is=="function"?Object.is:ux;function Ol(s,a){if(En(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!xr.call(a,m)||!En(s[m],a[m]))return!1}return!0}function __(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function v_(s,a){var l=__(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=__(l)}}function b_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?b_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function E_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Lr(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Lr(s.document)}return a}function Kd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var cx=Xn&&"documentMode"in document&&11>=document.documentMode,Xa=null,$d=null,Ml=null,Qd=!1;function T_(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Qd||Xa==null||Xa!==Lr(c)||(c=Xa,"selectionStart"in c&&Kd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ml&&Ol(Ml,c)||(Ml=c,c=Ph($d,"onSelect"),0<c.length&&(a=new Fa("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=Xa)))}function $r(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Za={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Wd={},S_={};Xn&&(S_=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function Qr(s){if(Wd[s])return Wd[s];if(!Za[s])return s;var a=Za[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in S_)return Wd[s]=a[l];return s}var w_=Qr("animationend"),A_=Qr("animationiteration"),x_=Qr("animationstart"),hx=Qr("transitionrun"),fx=Qr("transitionstart"),dx=Qr("transitioncancel"),R_=Qr("transitionend"),C_=new Map,Xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xd.push("scrollEnd");function Zn(s,a){C_.set(s,a),Wn(a,[s])}var I_=new WeakMap;function Pn(s,a){if(typeof s=="object"&&s!==null){var l=I_.get(s);return l!==void 0?l:(a={value:s,source:a,stack:Ba(a)},I_.set(s,a),a)}return{value:s,source:a,stack:Ba(a)}}var Vn=[],Ja=0,Zd=0;function Xc(){for(var s=Ja,a=Zd=Ja=0;a<s;){var l=Vn[a];Vn[a++]=null;var c=Vn[a];Vn[a++]=null;var m=Vn[a];Vn[a++]=null;var p=Vn[a];if(Vn[a++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}p!==0&&D_(l,m,p)}}function Zc(s,a,l,c){Vn[Ja++]=s,Vn[Ja++]=a,Vn[Ja++]=l,Vn[Ja++]=c,Zd|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Jd(s,a,l,c){return Zc(s,a,l,c),Jc(s)}function to(s,a){return Zc(s,null,null,a),Jc(s)}function D_(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,p=s.return;p!==null;)p.childLanes|=l,c=p.alternate,c!==null&&(c.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(m=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,m&&a!==null&&(m=31-Ze(l),s=p.hiddenUpdates,c=s[m],c===null?s[m]=[a]:c.push(a),a.lane=l|536870912),p):null}function Jc(s){if(50<iu)throw iu=0,rm=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var eo={};function gx(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(s,a,l,c){return new gx(s,a,l,c)}function tg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Qi(s,a){var l=s.alternate;return l===null?(l=Tn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function O_(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function th(s,a,l,c,m,p){var T=0;if(c=s,typeof s=="function")tg(s)&&(T=1);else if(typeof s=="string")T=pR(s,l,gt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case D:return s=Tn(31,l,a,m),s.elementType=D,s.lanes=p,s;case A:return Wr(l.children,m,p,a);case I:T=8,m|=24;break;case C:return s=Tn(12,l,a,m|2),s.elementType=C,s.lanes=p,s;case Q:return s=Tn(13,l,a,m),s.elementType=Q,s.lanes=p,s;case at:return s=Tn(19,l,a,m),s.elementType=at,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:case H:T=10;break t;case G:T=9;break t;case J:T=11;break t;case O:T=14;break t;case R:T=16,c=null;break t}T=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return a=Tn(T,l,a,m),a.elementType=s,a.type=c,a.lanes=p,a}function Wr(s,a,l,c){return s=Tn(7,s,c,a),s.lanes=l,s}function eg(s,a,l){return s=Tn(6,s,null,a),s.lanes=l,s}function ng(s,a,l){return a=Tn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var no=[],io=0,eh=null,nh=0,Ln=[],Un=0,Xr=null,Wi=1,Xi="";function Zr(s,a){no[io++]=nh,no[io++]=eh,eh=s,nh=a}function M_(s,a,l){Ln[Un++]=Wi,Ln[Un++]=Xi,Ln[Un++]=Xr,Xr=s;var c=Wi;s=Xi;var m=32-Ze(c)-1;c&=~(1<<m),l+=1;var p=32-Ze(a)+m;if(30<p){var T=m-m%5;p=(c&(1<<T)-1).toString(32),c>>=T,m-=T,Wi=1<<32-Ze(a)+m|l<<m|c,Xi=p+s}else Wi=1<<p|l<<m|c,Xi=s}function ig(s){s.return!==null&&(Zr(s,1),M_(s,1,0))}function sg(s){for(;s===eh;)eh=no[--io],no[io]=null,nh=no[--io],no[io]=null;for(;s===Xr;)Xr=Ln[--Un],Ln[Un]=null,Xi=Ln[--Un],Ln[Un]=null,Wi=Ln[--Un],Ln[Un]=null}var hn=null,me=null,qt=!1,Jr=null,bi=!1,rg=Error(i(519));function ta(s){var a=Error(i(418,""));throw Pl(Pn(a,s)),rg}function k_(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[Ce]=s,a[Te]=c,l){case"dialog":Nt("cancel",a),Nt("close",a);break;case"iframe":case"object":case"embed":Nt("load",a);break;case"video":case"audio":for(l=0;l<ru.length;l++)Nt(ru[l],a);break;case"source":Nt("error",a);break;case"img":case"image":case"link":Nt("error",a),Nt("load",a);break;case"details":Nt("toggle",a);break;case"input":Nt("invalid",a),Ur(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ja(a);break;case"select":Nt("invalid",a);break;case"textarea":Nt("invalid",a),zr(a,c.value,c.defaultValue,c.children),ja(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||W0(a.textContent,l)?(c.popover!=null&&(Nt("beforetoggle",a),Nt("toggle",a)),c.onScroll!=null&&Nt("scroll",a),c.onScrollEnd!=null&&Nt("scrollend",a),c.onClick!=null&&(a.onclick=Vh),a=!0):a=!1,a||ta(s)}function N_(s){for(hn=s.return;hn;)switch(hn.tag){case 5:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:hn=hn.return}}function kl(s){if(s!==hn)return!1;if(!qt)return N_(s),qt=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Em(s.type,s.memoizedProps)),l=!l),l&&me&&ta(s),N_(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){me=ti(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}me=null}}else a===27?(a=me,$s(s.type)?(s=Am,Am=null,me=s):me=a):me=hn?ti(s.stateNode.nextSibling):null;return!0}function Nl(){me=hn=null,qt=!1}function P_(){var s=Jr;return s!==null&&(gn===null?gn=s:gn.push.apply(gn,s),Jr=null),s}function Pl(s){Jr===null?Jr=[s]:Jr.push(s)}var ag=rt(null),ea=null,Zi=null;function ks(s,a,l){ot(ag,a._currentValue),a._currentValue=l}function Ji(s){s._currentValue=ag.current,ct(ag)}function og(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function lg(s,a,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var p=m.dependencies;if(p!==null){var T=m.child;p=p.firstContext;t:for(;p!==null;){var w=p;p=m;for(var k=0;k<a.length;k++)if(w.context===a[k]){p.lanes|=l,w=p.alternate,w!==null&&(w.lanes|=l),og(p.return,l,s),c||(T=null);break t}p=w.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(i(341));T.lanes|=l,p=T.alternate,p!==null&&(p.lanes|=l),og(T,l,s),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===s){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Vl(s,a,l,c){s=null;for(var m=a,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var w=m.type;En(m.pendingProps.value,T.value)||(s!==null?s.push(w):s=[w])}}else if(m===Pe.current){if(T=m.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(hu):s=[hu])}m=m.return}s!==null&&lg(a,s,l,c),a.flags|=262144}function ih(s){for(s=s.firstContext;s!==null;){if(!En(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function na(s){ea=s,Zi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Je(s){return V_(ea,s)}function sh(s,a){return ea===null&&na(s),V_(s,a)}function V_(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Zi===null){if(s===null)throw Error(i(308));Zi=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Zi=Zi.next=a;return l}var mx=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},px=n.unstable_scheduleCallback,yx=n.unstable_NormalPriority,Oe={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ug(){return{controller:new mx,data:new Map,refCount:0}}function Ll(s){s.refCount--,s.refCount===0&&px(yx,function(){s.controller.abort()})}var Ul=null,cg=0,so=0,ro=null;function _x(s,a){if(Ul===null){var l=Ul=[];cg=0,so=fm(),ro={status:"pending",value:void 0,then:function(c){l.push(c)}}}return cg++,a.then(L_,L_),a}function L_(){if(--cg===0&&Ul!==null){ro!==null&&(ro.status="fulfilled");var s=Ul;Ul=null,so=0,ro=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function vx(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var U_=$.S;$.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&_x(s,a),U_!==null&&U_(s,a)};var ia=rt(null);function hg(){var s=ia.current;return s!==null?s:re.pooledCache}function rh(s,a){a===null?ot(ia,ia.current):ot(ia,a.pool)}function z_(){var s=hg();return s===null?null:{parent:Oe._currentValue,pool:s}}var zl=Error(i(460)),B_=Error(i(474)),ah=Error(i(542)),fg={then:function(){}};function j_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function oh(){}function H_(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(oh,oh),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,q_(s),s;default:if(typeof a.status=="string")a.then(oh,oh);else{if(s=re,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,q_(s),s}throw Bl=a,zl}}var Bl=null;function F_(){if(Bl===null)throw Error(i(459));var s=Bl;return Bl=null,s}function q_(s){if(s===zl||s===ah)throw Error(i(483))}var Ns=!1;function dg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ps(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Vs(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Qt&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=Jc(s),D_(s,null,l),a}return Zc(s,c,a,l),Jc(s)}function jl(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,ml(s,l)}}function mg(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=T:p=p.next=T,l=l.next}while(l!==null);p===null?m=p=a:p=p.next=a}else m=p=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var pg=!1;function Hl(){if(pg){var s=ro;if(s!==null)throw s}}function Fl(s,a,l,c){pg=!1;var m=s.updateQueue;Ns=!1;var p=m.firstBaseUpdate,T=m.lastBaseUpdate,w=m.shared.pending;if(w!==null){m.shared.pending=null;var k=w,q=k.next;k.next=null,T===null?p=q:T.next=q,T=k;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==T&&(w===null?Z.firstBaseUpdate=q:w.next=q,Z.lastBaseUpdate=k))}if(p!==null){var et=m.baseState;T=0,Z=q=k=null,w=p;do{var Y=w.lane&-536870913,K=Y!==w.lane;if(K?(Bt&Y)===Y:(c&Y)===Y){Y!==0&&Y===so&&(pg=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var St=s,vt=w;Y=a;var ne=l;switch(vt.tag){case 1:if(St=vt.payload,typeof St=="function"){et=St.call(ne,et,Y);break t}et=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=vt.payload,Y=typeof St=="function"?St.call(ne,et,Y):St,Y==null)break t;et=y({},et,Y);break t;case 2:Ns=!0}}Y=w.callback,Y!==null&&(s.flags|=64,K&&(s.flags|=8192),K=m.callbacks,K===null?m.callbacks=[Y]:K.push(Y))}else K={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(q=Z=K,k=et):Z=Z.next=K,T|=Y;if(w=w.next,w===null){if(w=m.shared.pending,w===null)break;K=w,w=K.next,K.next=null,m.lastBaseUpdate=K,m.shared.pending=null}}while(!0);Z===null&&(k=et),m.baseState=k,m.firstBaseUpdate=q,m.lastBaseUpdate=Z,p===null&&(m.shared.lanes=0),qs|=T,s.lanes=T,s.memoizedState=et}}function G_(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Y_(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)G_(l[s],a)}var ao=rt(null),lh=rt(0);function K_(s,a){s=as,ot(lh,s),ot(ao,a),as=s|a.baseLanes}function yg(){ot(lh,as),ot(ao,ao.current)}function _g(){as=lh.current,ct(ao),ct(lh)}var Ls=0,Dt=null,te=null,we=null,uh=!1,oo=!1,sa=!1,ch=0,ql=0,lo=null,bx=0;function _e(){throw Error(i(321))}function vg(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!En(s[l],a[l]))return!1;return!0}function bg(s,a,l,c,m,p){return Ls=p,Dt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=s===null||s.memoizedState===null?Dv:Ov,sa=!1,p=l(c,m),sa=!1,oo&&(p=Q_(a,l,c,m)),$_(s),p}function $_(s){$.H=ph;var a=te!==null&&te.next!==null;if(Ls=0,we=te=Dt=null,uh=!1,ql=0,lo=null,a)throw Error(i(300));s===null||Ue||(s=s.dependencies,s!==null&&ih(s)&&(Ue=!0))}function Q_(s,a,l,c){Dt=s;var m=0;do{if(oo&&(lo=null),ql=0,oo=!1,25<=m)throw Error(i(301));if(m+=1,we=te=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}$.H=Rx,p=a(l,c)}while(oo);return p}function Ex(){var s=$.H,a=s.useState()[0];return a=typeof a.then=="function"?Gl(a):a,s=s.useState()[0],(te!==null?te.memoizedState:null)!==s&&(Dt.flags|=1024),a}function Eg(){var s=ch!==0;return ch=0,s}function Tg(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Sg(s){if(uh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}uh=!1}Ls=0,we=te=Dt=null,oo=!1,ql=ch=0,lo=null}function fn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Dt.memoizedState=we=s:we=we.next=s,we}function Ae(){if(te===null){var s=Dt.alternate;s=s!==null?s.memoizedState:null}else s=te.next;var a=we===null?Dt.memoizedState:we.next;if(a!==null)we=a,te=s;else{if(s===null)throw Dt.alternate===null?Error(i(467)):Error(i(310));te=s,s={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},we===null?Dt.memoizedState=we=s:we=we.next=s}return we}function wg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(s){var a=ql;return ql+=1,lo===null&&(lo=[]),s=H_(lo,s,a),a=Dt,(we===null?a.memoizedState:we.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?Dv:Ov),s}function hh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Gl(s);if(s.$$typeof===H)return Je(s)}throw Error(i(438,String(s)))}function Ag(s){var a=null,l=Dt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Dt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=wg(),Dt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=N;return a.index++,l}function ts(s,a){return typeof a=="function"?a(s):a}function fh(s){var a=Ae();return xg(a,te,s)}function xg(s,a,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var m=s.baseQueue,p=c.pending;if(p!==null){if(m!==null){var T=m.next;m.next=p.next,p.next=T}a.baseQueue=m=p,c.pending=null}if(p=s.baseState,m===null)s.memoizedState=p;else{a=m.next;var w=T=null,k=null,q=a,Z=!1;do{var et=q.lane&-536870913;if(et!==q.lane?(Bt&et)===et:(Ls&et)===et){var Y=q.revertLane;if(Y===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),et===so&&(Z=!0);else if((Ls&Y)===Y){q=q.next,Y===so&&(Z=!0);continue}else et={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(w=k=et,T=p):k=k.next=et,Dt.lanes|=Y,qs|=Y;et=q.action,sa&&l(p,et),p=q.hasEagerState?q.eagerState:l(p,et)}else Y={lane:et,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(w=k=Y,T=p):k=k.next=Y,Dt.lanes|=et,qs|=et;q=q.next}while(q!==null&&q!==a);if(k===null?T=p:k.next=w,!En(p,s.memoizedState)&&(Ue=!0,Z&&(l=ro,l!==null)))throw l;s.memoizedState=p,s.baseState=T,s.baseQueue=k,c.lastRenderedState=p}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Rg(s){var a=Ae(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,p=a.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do p=s(p,T.action),T=T.next;while(T!==m);En(p,a.memoizedState)||(Ue=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,c]}function W_(s,a,l){var c=Dt,m=Ae(),p=qt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var T=!En((te||m).memoizedState,l);T&&(m.memoizedState=l,Ue=!0),m=m.queue;var w=J_.bind(null,c,m,s);if(Yl(2048,8,w,[s]),m.getSnapshot!==a||T||we!==null&&we.memoizedState.tag&1){if(c.flags|=2048,uo(9,dh(),Z_.bind(null,c,m,l,a),null),re===null)throw Error(i(349));p||(Ls&124)!==0||X_(c,a,l)}return l}function X_(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Dt.updateQueue,a===null?(a=wg(),Dt.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function Z_(s,a,l,c){a.value=l,a.getSnapshot=c,tv(a)&&ev(s)}function J_(s,a,l){return l(function(){tv(a)&&ev(s)})}function tv(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!En(s,l)}catch{return!0}}function ev(s){var a=to(s,2);a!==null&&Rn(a,s,2)}function Cg(s){var a=fn();if(typeof s=="function"){var l=s;if(s=l(),sa){vn(!0);try{l()}finally{vn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:s},a}function nv(s,a,l,c){return s.baseState=l,xg(s,te,typeof c=="function"?c:ts)}function Tx(s,a,l,c,m){if(mh(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};$.T!==null?l(!0):p.isTransition=!1,c(p),l=a.pending,l===null?(p.next=a.pending=p,iv(a,p)):(p.next=l.next,a.pending=l.next=p)}}function iv(s,a){var l=a.action,c=a.payload,m=s.state;if(a.isTransition){var p=$.T,T={};$.T=T;try{var w=l(m,c),k=$.S;k!==null&&k(T,w),sv(s,a,w)}catch(q){Ig(s,a,q)}finally{$.T=p}}else try{p=l(m,c),sv(s,a,p)}catch(q){Ig(s,a,q)}}function sv(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){rv(s,a,c)},function(c){return Ig(s,a,c)}):rv(s,a,l)}function rv(s,a,l){a.status="fulfilled",a.value=l,av(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,iv(s,l)))}function Ig(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,av(a),a=a.next;while(a!==c)}s.action=null}function av(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function ov(s,a){return a}function lv(s,a){if(qt){var l=re.formState;if(l!==null){t:{var c=Dt;if(qt){if(me){e:{for(var m=me,p=bi;m.nodeType!==8;){if(!p){m=null;break e}if(m=ti(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){me=ti(m.nextSibling),c=m.data==="F!";break t}}ta(c)}c=!1}c&&(a=l[0])}}return l=fn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ov,lastRenderedState:a},l.queue=c,l=Rv.bind(null,Dt,c),c.dispatch=l,c=Cg(!1),p=Ng.bind(null,Dt,!1,c.queue),c=fn(),m={state:a,dispatch:null,action:s,pending:null},c.queue=m,l=Tx.bind(null,Dt,m,p,l),m.dispatch=l,c.memoizedState=s,[a,l,!1]}function uv(s){var a=Ae();return cv(a,te,s)}function cv(s,a,l){if(a=xg(s,a,ov)[0],s=fh(ts)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Gl(a)}catch(T){throw T===zl?ah:T}else c=a;a=Ae();var m=a.queue,p=m.dispatch;return l!==a.memoizedState&&(Dt.flags|=2048,uo(9,dh(),Sx.bind(null,m,l),null)),[c,p,s]}function Sx(s,a){s.action=a}function hv(s){var a=Ae(),l=te;if(l!==null)return cv(a,l,s);Ae(),a=a.memoizedState,l=Ae();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function uo(s,a,l,c){return s={tag:s,create:l,deps:c,inst:a,next:null},a=Dt.updateQueue,a===null&&(a=wg(),Dt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function dh(){return{destroy:void 0,resource:void 0}}function fv(){return Ae().memoizedState}function gh(s,a,l,c){var m=fn();c=c===void 0?null:c,Dt.flags|=s,m.memoizedState=uo(1|a,dh(),l,c)}function Yl(s,a,l,c){var m=Ae();c=c===void 0?null:c;var p=m.memoizedState.inst;te!==null&&c!==null&&vg(c,te.memoizedState.deps)?m.memoizedState=uo(a,p,l,c):(Dt.flags|=s,m.memoizedState=uo(1|a,p,l,c))}function dv(s,a){gh(8390656,8,s,a)}function gv(s,a){Yl(2048,8,s,a)}function mv(s,a){return Yl(4,2,s,a)}function pv(s,a){return Yl(4,4,s,a)}function yv(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function _v(s,a,l){l=l!=null?l.concat([s]):null,Yl(4,4,yv.bind(null,a,s),l)}function Dg(){}function vv(s,a){var l=Ae();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&vg(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function bv(s,a){var l=Ae();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&vg(a,c[1]))return c[0];if(c=s(),sa){vn(!0);try{s()}finally{vn(!1)}}return l.memoizedState=[c,a],c}function Og(s,a,l){return l===void 0||(Ls&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=S0(),Dt.lanes|=s,qs|=s,l)}function Ev(s,a,l,c){return En(l,a)?l:ao.current!==null?(s=Og(s,l,c),En(s,a)||(Ue=!0),s):(Ls&42)===0?(Ue=!0,s.memoizedState=l):(s=S0(),Dt.lanes|=s,qs|=s,a)}function Tv(s,a,l,c,m){var p=lt.p;lt.p=p!==0&&8>p?p:8;var T=$.T,w={};$.T=w,Ng(s,!1,a,l);try{var k=m(),q=$.S;if(q!==null&&q(w,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Z=vx(k,c);Kl(s,a,Z,xn(s))}else Kl(s,a,c,xn(s))}catch(et){Kl(s,a,{then:function(){},status:"rejected",reason:et},xn())}finally{lt.p=p,$.T=T}}function wx(){}function Mg(s,a,l,c){if(s.tag!==5)throw Error(i(476));var m=Sv(s).queue;Tv(s,m,a,mt,l===null?wx:function(){return wv(s),l(c)})}function Sv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:mt},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function wv(s){var a=Sv(s).next.queue;Kl(s,a,{},xn())}function kg(){return Je(hu)}function Av(){return Ae().memoizedState}function xv(){return Ae().memoizedState}function Ax(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=xn();s=Ps(l);var c=Vs(a,s,l);c!==null&&(Rn(c,a,l),jl(c,a,l)),a={cache:ug()},s.payload=a;return}a=a.return}}function xx(s,a,l){var c=xn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},mh(s)?Cv(a,l):(l=Jd(s,a,l,c),l!==null&&(Rn(l,s,c),Iv(l,a,c)))}function Rv(s,a,l){var c=xn();Kl(s,a,l,c)}function Kl(s,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(mh(s))Cv(a,m);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var T=a.lastRenderedState,w=p(T,l);if(m.hasEagerState=!0,m.eagerState=w,En(w,T))return Zc(s,a,m,0),re===null&&Xc(),!1}catch{}finally{}if(l=Jd(s,a,m,c),l!==null)return Rn(l,s,c),Iv(l,a,c),!0}return!1}function Ng(s,a,l,c){if(c={lane:2,revertLane:fm(),action:c,hasEagerState:!1,eagerState:null,next:null},mh(s)){if(a)throw Error(i(479))}else a=Jd(s,l,c,2),a!==null&&Rn(a,s,2)}function mh(s){var a=s.alternate;return s===Dt||a!==null&&a===Dt}function Cv(s,a){oo=uh=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function Iv(s,a,l){if((l&4194048)!==0){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,ml(s,l)}}var ph={readContext:Je,use:hh,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},Dv={readContext:Je,use:hh,useCallback:function(s,a){return fn().memoizedState=[s,a===void 0?null:a],s},useContext:Je,useEffect:dv,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,gh(4194308,4,yv.bind(null,a,s),l)},useLayoutEffect:function(s,a){return gh(4194308,4,s,a)},useInsertionEffect:function(s,a){gh(4,2,s,a)},useMemo:function(s,a){var l=fn();a=a===void 0?null:a;var c=s();if(sa){vn(!0);try{s()}finally{vn(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=fn();if(l!==void 0){var m=l(a);if(sa){vn(!0);try{l(a)}finally{vn(!1)}}}else m=a;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=xx.bind(null,Dt,s),[c.memoizedState,s]},useRef:function(s){var a=fn();return s={current:s},a.memoizedState=s},useState:function(s){s=Cg(s);var a=s.queue,l=Rv.bind(null,Dt,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:Dg,useDeferredValue:function(s,a){var l=fn();return Og(l,s,a)},useTransition:function(){var s=Cg(!1);return s=Tv.bind(null,Dt,s.queue,!0,!1),fn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=Dt,m=fn();if(qt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),re===null)throw Error(i(349));(Bt&124)!==0||X_(c,a,l)}m.memoizedState=l;var p={value:l,getSnapshot:a};return m.queue=p,dv(J_.bind(null,c,p,s),[s]),c.flags|=2048,uo(9,dh(),Z_.bind(null,c,p,l,a),null),l},useId:function(){var s=fn(),a=re.identifierPrefix;if(qt){var l=Xi,c=Wi;l=(c&~(1<<32-Ze(c)-1)).toString(32)+l,a="«"+a+"R"+l,l=ch++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=bx++,a="«"+a+"r"+l.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:kg,useFormState:lv,useActionState:lv,useOptimistic:function(s){var a=fn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Ng.bind(null,Dt,!0,l),l.dispatch=a,[s,a]},useMemoCache:Ag,useCacheRefresh:function(){return fn().memoizedState=Ax.bind(null,Dt)}},Ov={readContext:Je,use:hh,useCallback:vv,useContext:Je,useEffect:gv,useImperativeHandle:_v,useInsertionEffect:mv,useLayoutEffect:pv,useMemo:bv,useReducer:fh,useRef:fv,useState:function(){return fh(ts)},useDebugValue:Dg,useDeferredValue:function(s,a){var l=Ae();return Ev(l,te.memoizedState,s,a)},useTransition:function(){var s=fh(ts)[0],a=Ae().memoizedState;return[typeof s=="boolean"?s:Gl(s),a]},useSyncExternalStore:W_,useId:Av,useHostTransitionStatus:kg,useFormState:uv,useActionState:uv,useOptimistic:function(s,a){var l=Ae();return nv(l,te,s,a)},useMemoCache:Ag,useCacheRefresh:xv},Rx={readContext:Je,use:hh,useCallback:vv,useContext:Je,useEffect:gv,useImperativeHandle:_v,useInsertionEffect:mv,useLayoutEffect:pv,useMemo:bv,useReducer:Rg,useRef:fv,useState:function(){return Rg(ts)},useDebugValue:Dg,useDeferredValue:function(s,a){var l=Ae();return te===null?Og(l,s,a):Ev(l,te.memoizedState,s,a)},useTransition:function(){var s=Rg(ts)[0],a=Ae().memoizedState;return[typeof s=="boolean"?s:Gl(s),a]},useSyncExternalStore:W_,useId:Av,useHostTransitionStatus:kg,useFormState:hv,useActionState:hv,useOptimistic:function(s,a){var l=Ae();return te!==null?nv(l,te,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Ag,useCacheRefresh:xv},co=null,$l=0;function yh(s){var a=$l;return $l+=1,co===null&&(co=[]),H_(co,s,a)}function Ql(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function _h(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Mv(s){var a=s._init;return a(s._payload)}function kv(s){function a(B,z){if(s){var F=B.deletions;F===null?(B.deletions=[z],B.flags|=16):F.push(z)}}function l(B,z){if(!s)return null;for(;z!==null;)a(B,z),z=z.sibling;return null}function c(B){for(var z=new Map;B!==null;)B.key!==null?z.set(B.key,B):z.set(B.index,B),B=B.sibling;return z}function m(B,z){return B=Qi(B,z),B.index=0,B.sibling=null,B}function p(B,z,F){return B.index=F,s?(F=B.alternate,F!==null?(F=F.index,F<z?(B.flags|=67108866,z):F):(B.flags|=67108866,z)):(B.flags|=1048576,z)}function T(B){return s&&B.alternate===null&&(B.flags|=67108866),B}function w(B,z,F,tt){return z===null||z.tag!==6?(z=eg(F,B.mode,tt),z.return=B,z):(z=m(z,F),z.return=B,z)}function k(B,z,F,tt){var dt=F.type;return dt===A?Z(B,z,F.props.children,tt,F.key):z!==null&&(z.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&Mv(dt)===z.type)?(z=m(z,F.props),Ql(z,F),z.return=B,z):(z=th(F.type,F.key,F.props,null,B.mode,tt),Ql(z,F),z.return=B,z)}function q(B,z,F,tt){return z===null||z.tag!==4||z.stateNode.containerInfo!==F.containerInfo||z.stateNode.implementation!==F.implementation?(z=ng(F,B.mode,tt),z.return=B,z):(z=m(z,F.children||[]),z.return=B,z)}function Z(B,z,F,tt,dt){return z===null||z.tag!==7?(z=Wr(F,B.mode,tt,dt),z.return=B,z):(z=m(z,F),z.return=B,z)}function et(B,z,F){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=eg(""+z,B.mode,F),z.return=B,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return F=th(z.type,z.key,z.props,null,B.mode,F),Ql(F,z),F.return=B,F;case S:return z=ng(z,B.mode,F),z.return=B,z;case R:var tt=z._init;return z=tt(z._payload),et(B,z,F)}if(At(z)||U(z))return z=Wr(z,B.mode,F,null),z.return=B,z;if(typeof z.then=="function")return et(B,yh(z),F);if(z.$$typeof===H)return et(B,sh(B,z),F);_h(B,z)}return null}function Y(B,z,F,tt){var dt=z!==null?z.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return dt!==null?null:w(B,z,""+F,tt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return F.key===dt?k(B,z,F,tt):null;case S:return F.key===dt?q(B,z,F,tt):null;case R:return dt=F._init,F=dt(F._payload),Y(B,z,F,tt)}if(At(F)||U(F))return dt!==null?null:Z(B,z,F,tt,null);if(typeof F.then=="function")return Y(B,z,yh(F),tt);if(F.$$typeof===H)return Y(B,z,sh(B,F),tt);_h(B,F)}return null}function K(B,z,F,tt,dt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return B=B.get(F)||null,w(z,B,""+tt,dt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case b:return B=B.get(tt.key===null?F:tt.key)||null,k(z,B,tt,dt);case S:return B=B.get(tt.key===null?F:tt.key)||null,q(z,B,tt,dt);case R:var Mt=tt._init;return tt=Mt(tt._payload),K(B,z,F,tt,dt)}if(At(tt)||U(tt))return B=B.get(F)||null,Z(z,B,tt,dt,null);if(typeof tt.then=="function")return K(B,z,F,yh(tt),dt);if(tt.$$typeof===H)return K(B,z,F,sh(z,tt),dt);_h(z,tt)}return null}function St(B,z,F,tt){for(var dt=null,Mt=null,pt=z,bt=z=0,Be=null;pt!==null&&bt<F.length;bt++){pt.index>bt?(Be=pt,pt=null):Be=pt.sibling;var Ft=Y(B,pt,F[bt],tt);if(Ft===null){pt===null&&(pt=Be);break}s&&pt&&Ft.alternate===null&&a(B,pt),z=p(Ft,z,bt),Mt===null?dt=Ft:Mt.sibling=Ft,Mt=Ft,pt=Be}if(bt===F.length)return l(B,pt),qt&&Zr(B,bt),dt;if(pt===null){for(;bt<F.length;bt++)pt=et(B,F[bt],tt),pt!==null&&(z=p(pt,z,bt),Mt===null?dt=pt:Mt.sibling=pt,Mt=pt);return qt&&Zr(B,bt),dt}for(pt=c(pt);bt<F.length;bt++)Be=K(pt,B,bt,F[bt],tt),Be!==null&&(s&&Be.alternate!==null&&pt.delete(Be.key===null?bt:Be.key),z=p(Be,z,bt),Mt===null?dt=Be:Mt.sibling=Be,Mt=Be);return s&&pt.forEach(function(Js){return a(B,Js)}),qt&&Zr(B,bt),dt}function vt(B,z,F,tt){if(F==null)throw Error(i(151));for(var dt=null,Mt=null,pt=z,bt=z=0,Be=null,Ft=F.next();pt!==null&&!Ft.done;bt++,Ft=F.next()){pt.index>bt?(Be=pt,pt=null):Be=pt.sibling;var Js=Y(B,pt,Ft.value,tt);if(Js===null){pt===null&&(pt=Be);break}s&&pt&&Js.alternate===null&&a(B,pt),z=p(Js,z,bt),Mt===null?dt=Js:Mt.sibling=Js,Mt=Js,pt=Be}if(Ft.done)return l(B,pt),qt&&Zr(B,bt),dt;if(pt===null){for(;!Ft.done;bt++,Ft=F.next())Ft=et(B,Ft.value,tt),Ft!==null&&(z=p(Ft,z,bt),Mt===null?dt=Ft:Mt.sibling=Ft,Mt=Ft);return qt&&Zr(B,bt),dt}for(pt=c(pt);!Ft.done;bt++,Ft=F.next())Ft=K(pt,B,bt,Ft.value,tt),Ft!==null&&(s&&Ft.alternate!==null&&pt.delete(Ft.key===null?bt:Ft.key),z=p(Ft,z,bt),Mt===null?dt=Ft:Mt.sibling=Ft,Mt=Ft);return s&&pt.forEach(function(CR){return a(B,CR)}),qt&&Zr(B,bt),dt}function ne(B,z,F,tt){if(typeof F=="object"&&F!==null&&F.type===A&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case b:t:{for(var dt=F.key;z!==null;){if(z.key===dt){if(dt=F.type,dt===A){if(z.tag===7){l(B,z.sibling),tt=m(z,F.props.children),tt.return=B,B=tt;break t}}else if(z.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&Mv(dt)===z.type){l(B,z.sibling),tt=m(z,F.props),Ql(tt,F),tt.return=B,B=tt;break t}l(B,z);break}else a(B,z);z=z.sibling}F.type===A?(tt=Wr(F.props.children,B.mode,tt,F.key),tt.return=B,B=tt):(tt=th(F.type,F.key,F.props,null,B.mode,tt),Ql(tt,F),tt.return=B,B=tt)}return T(B);case S:t:{for(dt=F.key;z!==null;){if(z.key===dt)if(z.tag===4&&z.stateNode.containerInfo===F.containerInfo&&z.stateNode.implementation===F.implementation){l(B,z.sibling),tt=m(z,F.children||[]),tt.return=B,B=tt;break t}else{l(B,z);break}else a(B,z);z=z.sibling}tt=ng(F,B.mode,tt),tt.return=B,B=tt}return T(B);case R:return dt=F._init,F=dt(F._payload),ne(B,z,F,tt)}if(At(F))return St(B,z,F,tt);if(U(F)){if(dt=U(F),typeof dt!="function")throw Error(i(150));return F=dt.call(F),vt(B,z,F,tt)}if(typeof F.then=="function")return ne(B,z,yh(F),tt);if(F.$$typeof===H)return ne(B,z,sh(B,F),tt);_h(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,z!==null&&z.tag===6?(l(B,z.sibling),tt=m(z,F),tt.return=B,B=tt):(l(B,z),tt=eg(F,B.mode,tt),tt.return=B,B=tt),T(B)):l(B,z)}return function(B,z,F,tt){try{$l=0;var dt=ne(B,z,F,tt);return co=null,dt}catch(pt){if(pt===zl||pt===ah)throw pt;var Mt=Tn(29,pt,null,B.mode);return Mt.lanes=tt,Mt.return=B,Mt}finally{}}}var ho=kv(!0),Nv=kv(!1),zn=rt(null),Ei=null;function Us(s){var a=s.alternate;ot(Me,Me.current&1),ot(zn,s),Ei===null&&(a===null||ao.current!==null||a.memoizedState!==null)&&(Ei=s)}function Pv(s){if(s.tag===22){if(ot(Me,Me.current),ot(zn,s),Ei===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Ei=s)}}else zs()}function zs(){ot(Me,Me.current),ot(zn,zn.current)}function es(s){ct(zn),Ei===s&&(Ei=null),ct(Me)}var Me=rt(0);function vh(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||wm(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Pg(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:y({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Vg={enqueueSetState:function(s,a,l){s=s._reactInternals;var c=xn(),m=Ps(c);m.payload=a,l!=null&&(m.callback=l),a=Vs(s,m,c),a!==null&&(Rn(a,s,c),jl(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=xn(),m=Ps(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Vs(s,m,c),a!==null&&(Rn(a,s,c),jl(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=xn(),c=Ps(l);c.tag=2,a!=null&&(c.callback=a),a=Vs(s,c,l),a!==null&&(Rn(a,s,l),jl(a,s,l))}};function Vv(s,a,l,c,m,p,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,p,T):a.prototype&&a.prototype.isPureReactComponent?!Ol(l,c)||!Ol(m,p):!0}function Lv(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&Vg.enqueueReplaceState(a,a.state,null)}function ra(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=y({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var bh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Uv(s){bh(s)}function zv(s){console.error(s)}function Bv(s){bh(s)}function Eh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function jv(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Lg(s,a,l){return l=Ps(l),l.tag=3,l.payload={element:null},l.callback=function(){Eh(s,a)},l}function Hv(s){return s=Ps(s),s.tag=3,s}function Fv(s,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=c.value;s.payload=function(){return m(p)},s.callback=function(){jv(a,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){jv(a,l,c),typeof m!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function Cx(s,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Vl(a,l,m,!0),l=zn.current,l!==null){switch(l.tag){case 13:return Ei===null?om():l.alternate===null&&pe===0&&(pe=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===fg?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),um(s,c,m)),!1;case 22:return l.flags|=65536,c===fg?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),um(s,c,m)),!1}throw Error(i(435,l.tag))}return um(s,c,m),om(),!1}if(qt)return a=zn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==rg&&(s=Error(i(422),{cause:c}),Pl(Pn(s,l)))):(c!==rg&&(a=Error(i(423),{cause:c}),Pl(Pn(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=Pn(c,l),m=Lg(s.stateNode,c,m),mg(s,m),pe!==4&&(pe=2)),!1;var p=Error(i(520),{cause:c});if(p=Pn(p,l),nu===null?nu=[p]:nu.push(p),pe!==4&&(pe=2),a===null)return!0;c=Pn(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=Lg(l.stateNode,c,s),mg(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Gs===null||!Gs.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=Hv(m),Fv(m,s,l,c),mg(l,m),!1}l=l.return}while(l!==null);return!1}var qv=Error(i(461)),Ue=!1;function Ye(s,a,l,c){a.child=s===null?Nv(a,null,l,c):ho(a,s.child,l,c)}function Gv(s,a,l,c,m){l=l.render;var p=a.ref;if("ref"in c){var T={};for(var w in c)w!=="ref"&&(T[w]=c[w])}else T=c;return na(a),c=bg(s,a,l,T,p,m),w=Eg(),s!==null&&!Ue?(Tg(s,a,m),ns(s,a,m)):(qt&&w&&ig(a),a.flags|=1,Ye(s,a,c,m),a.child)}function Yv(s,a,l,c,m){if(s===null){var p=l.type;return typeof p=="function"&&!tg(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Kv(s,a,p,c,m)):(s=th(l.type,null,c,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!Gg(s,m)){var T=p.memoizedProps;if(l=l.compare,l=l!==null?l:Ol,l(T,c)&&s.ref===a.ref)return ns(s,a,m)}return a.flags|=1,s=Qi(p,c),s.ref=a.ref,s.return=a,a.child=s}function Kv(s,a,l,c,m){if(s!==null){var p=s.memoizedProps;if(Ol(p,c)&&s.ref===a.ref)if(Ue=!1,a.pendingProps=c=p,Gg(s,m))(s.flags&131072)!==0&&(Ue=!0);else return a.lanes=s.lanes,ns(s,a,m)}return Ug(s,a,l,c,m)}function $v(s,a,l){var c=a.pendingProps,m=c.children,p=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=p!==null?p.baseLanes|l:l,s!==null){for(m=a.child=s.child,p=0;m!==null;)p=p|m.lanes|m.childLanes,m=m.sibling;a.childLanes=p&~c}else a.childLanes=0,a.child=null;return Qv(s,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&rh(a,p!==null?p.cachePool:null),p!==null?K_(a,p):yg(),Pv(a);else return a.lanes=a.childLanes=536870912,Qv(s,a,p!==null?p.baseLanes|l:l,l)}else p!==null?(rh(a,p.cachePool),K_(a,p),zs(),a.memoizedState=null):(s!==null&&rh(a,null),yg(),zs());return Ye(s,a,m,l),a.child}function Qv(s,a,l,c){var m=hg();return m=m===null?null:{parent:Oe._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&rh(a,null),yg(),Pv(a),s!==null&&Vl(s,a,c,!0),null}function Th(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Ug(s,a,l,c,m){return na(a),l=bg(s,a,l,c,void 0,m),c=Eg(),s!==null&&!Ue?(Tg(s,a,m),ns(s,a,m)):(qt&&c&&ig(a),a.flags|=1,Ye(s,a,l,m),a.child)}function Wv(s,a,l,c,m,p){return na(a),a.updateQueue=null,l=Q_(a,c,l,m),$_(s),c=Eg(),s!==null&&!Ue?(Tg(s,a,p),ns(s,a,p)):(qt&&c&&ig(a),a.flags|=1,Ye(s,a,l,p),a.child)}function Xv(s,a,l,c,m){if(na(a),a.stateNode===null){var p=eo,T=l.contextType;typeof T=="object"&&T!==null&&(p=Je(T)),p=new l(c,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Vg,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=c,p.state=a.memoizedState,p.refs={},dg(a),T=l.contextType,p.context=typeof T=="object"&&T!==null?Je(T):eo,p.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Pg(a,l,T,c),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Vg.enqueueReplaceState(p,p.state,null),Fl(a,c,p,m),Hl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){p=a.stateNode;var w=a.memoizedProps,k=ra(l,w);p.props=k;var q=p.context,Z=l.contextType;T=eo,typeof Z=="object"&&Z!==null&&(T=Je(Z));var et=l.getDerivedStateFromProps;Z=typeof et=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||q!==T)&&Lv(a,p,c,T),Ns=!1;var Y=a.memoizedState;p.state=Y,Fl(a,c,p,m),Hl(),q=a.memoizedState,w||Y!==q||Ns?(typeof et=="function"&&(Pg(a,l,et,c),q=a.memoizedState),(k=Ns||Vv(a,l,k,c,Y,q,T))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=q),p.props=c,p.state=q,p.context=T,c=k):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{p=a.stateNode,gg(s,a),T=a.memoizedProps,Z=ra(l,T),p.props=Z,et=a.pendingProps,Y=p.context,q=l.contextType,k=eo,typeof q=="object"&&q!==null&&(k=Je(q)),w=l.getDerivedStateFromProps,(q=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==et||Y!==k)&&Lv(a,p,c,k),Ns=!1,Y=a.memoizedState,p.state=Y,Fl(a,c,p,m),Hl();var K=a.memoizedState;T!==et||Y!==K||Ns||s!==null&&s.dependencies!==null&&ih(s.dependencies)?(typeof w=="function"&&(Pg(a,l,w,c),K=a.memoizedState),(Z=Ns||Vv(a,l,Z,c,Y,K,k)||s!==null&&s.dependencies!==null&&ih(s.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,K,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,K,k)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=K),p.props=c,p.state=K,p.context=k,c=Z):(typeof p.componentDidUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(a.flags|=1024),c=!1)}return p=c,Th(s,a),c=(a.flags&128)!==0,p||c?(p=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&c?(a.child=ho(a,s.child,null,m),a.child=ho(a,null,l,m)):Ye(s,a,l,m),a.memoizedState=p.state,s=a.child):s=ns(s,a,m),s}function Zv(s,a,l,c){return Nl(),a.flags|=256,Ye(s,a,l,c),a.child}var zg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bg(s){return{baseLanes:s,cachePool:z_()}}function jg(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Bn),s}function Jv(s,a,l){var c=a.pendingProps,m=!1,p=(a.flags&128)!==0,T;if((T=p)||(T=s!==null&&s.memoizedState===null?!1:(Me.current&2)!==0),T&&(m=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,s===null){if(qt){if(m?Us(a):zs(),qt){var w=me,k;if(k=w){t:{for(k=w,w=bi;k.nodeType!==8;){if(!w){w=null;break t}if(k=ti(k.nextSibling),k===null){w=null;break t}}w=k}w!==null?(a.memoizedState={dehydrated:w,treeContext:Xr!==null?{id:Wi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},k=Tn(18,null,null,0),k.stateNode=w,k.return=a,a.child=k,hn=a,me=null,k=!0):k=!1}k||ta(a)}if(w=a.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return wm(w)?a.lanes=32:a.lanes=536870912,null;es(a)}return w=c.children,c=c.fallback,m?(zs(),m=a.mode,w=Sh({mode:"hidden",children:w},m),c=Wr(c,m,l,null),w.return=a,c.return=a,w.sibling=c,a.child=w,m=a.child,m.memoizedState=Bg(l),m.childLanes=jg(s,T,l),a.memoizedState=zg,c):(Us(a),Hg(a,w))}if(k=s.memoizedState,k!==null&&(w=k.dehydrated,w!==null)){if(p)a.flags&256?(Us(a),a.flags&=-257,a=Fg(s,a,l)):a.memoizedState!==null?(zs(),a.child=s.child,a.flags|=128,a=null):(zs(),m=c.fallback,w=a.mode,c=Sh({mode:"visible",children:c.children},w),m=Wr(m,w,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,ho(a,s.child,null,l),c=a.child,c.memoizedState=Bg(l),c.childLanes=jg(s,T,l),a.memoizedState=zg,a=m);else if(Us(a),wm(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var q=T.dgst;T=q,c=Error(i(419)),c.stack="",c.digest=T,Pl({value:c,source:null,stack:null}),a=Fg(s,a,l)}else if(Ue||Vl(s,a,l,!1),T=(l&s.childLanes)!==0,Ue||T){if(T=re,T!==null&&(c=l&-l,c=(c&42)!==0?1:xs(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,to(s,c),Rn(T,s,c),qv;w.data==="$?"||om(),a=Fg(s,a,l)}else w.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=k.treeContext,me=ti(w.nextSibling),hn=a,qt=!0,Jr=null,bi=!1,s!==null&&(Ln[Un++]=Wi,Ln[Un++]=Xi,Ln[Un++]=Xr,Wi=s.id,Xi=s.overflow,Xr=a),a=Hg(a,c.children),a.flags|=4096);return a}return m?(zs(),m=c.fallback,w=a.mode,k=s.child,q=k.sibling,c=Qi(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,q!==null?m=Qi(q,m):(m=Wr(m,w,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,w=s.child.memoizedState,w===null?w=Bg(l):(k=w.cachePool,k!==null?(q=Oe._currentValue,k=k.parent!==q?{parent:q,pool:q}:k):k=z_(),w={baseLanes:w.baseLanes|l,cachePool:k}),m.memoizedState=w,m.childLanes=jg(s,T,l),a.memoizedState=zg,c):(Us(a),l=s.child,s=l.sibling,l=Qi(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(T=a.deletions,T===null?(a.deletions=[s],a.flags|=16):T.push(s)),a.child=l,a.memoizedState=null,l)}function Hg(s,a){return a=Sh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Sh(s,a){return s=Tn(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Fg(s,a,l){return ho(a,s.child,null,l),s=Hg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function t0(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),og(s.return,a,l)}function qg(s,a,l,c,m){var p=s.memoizedState;p===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=l,p.tailMode=m)}function e0(s,a,l){var c=a.pendingProps,m=c.revealOrder,p=c.tail;if(Ye(s,a,c.children,l),c=Me.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&t0(s,l,a);else if(s.tag===19)t0(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(ot(Me,c),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&vh(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),qg(a,!1,m,l,p);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&vh(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}qg(a,!0,l,null,p);break;case"together":qg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ns(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),qs|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Vl(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=Qi(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Qi(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Gg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&ih(s)))}function Ix(s,a,l){switch(a.tag){case 3:se(a,a.stateNode.containerInfo),ks(a,Oe,s.memoizedState.cache),Nl();break;case 27:case 5:As(a);break;case 4:se(a,a.stateNode.containerInfo);break;case 10:ks(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Us(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Jv(s,a,l):(Us(a),s=ns(s,a,l),s!==null?s.sibling:null);Us(a);break;case 19:var m=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Vl(s,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return e0(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ot(Me,Me.current),c)break;return null;case 22:case 23:return a.lanes=0,$v(s,a,l);case 24:ks(a,Oe,s.memoizedState.cache)}return ns(s,a,l)}function n0(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Ue=!0;else{if(!Gg(s,l)&&(a.flags&128)===0)return Ue=!1,Ix(s,a,l);Ue=(s.flags&131072)!==0}else Ue=!1,qt&&(a.flags&1048576)!==0&&M_(a,nh,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")tg(c)?(s=ra(c,s),a.tag=1,a=Xv(null,a,c,s,l)):(a.tag=0,a=Ug(null,a,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===J){a.tag=11,a=Gv(null,a,c,s,l);break t}else if(m===O){a.tag=14,a=Yv(null,a,c,s,l);break t}}throw a=Zt(c)||c,Error(i(306,a,""))}}return a;case 0:return Ug(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=ra(c,a.pendingProps),Xv(s,a,c,m,l);case 3:t:{if(se(a,a.stateNode.containerInfo),s===null)throw Error(i(387));c=a.pendingProps;var p=a.memoizedState;m=p.element,gg(s,a),Fl(a,c,null,l);var T=a.memoizedState;if(c=T.cache,ks(a,Oe,c),c!==p.cache&&lg(a,[Oe],l,!0),Hl(),c=T.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Zv(s,a,c,l);break t}else if(c!==m){m=Pn(Error(i(424)),a),Pl(m),a=Zv(s,a,c,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(me=ti(s.firstChild),hn=a,qt=!0,Jr=null,bi=!0,l=Nv(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Nl(),c===m){a=ns(s,a,l);break t}Ye(s,a,c,l)}a=a.child}return a;case 26:return Th(s,a),s===null?(l=ab(a.type,null,a.pendingProps,null))?a.memoizedState=l:qt||(l=a.type,s=a.pendingProps,c=Lh(yt.current).createElement(l),c[Ce]=a,c[Te]=s,$e(c,l,s),ye(c),a.stateNode=c):a.memoizedState=ab(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return As(a),s===null&&qt&&(c=a.stateNode=ib(a.type,a.pendingProps,yt.current),hn=a,bi=!0,m=me,$s(a.type)?(Am=m,me=ti(c.firstChild)):me=m),Ye(s,a,a.pendingProps.children,l),Th(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&qt&&((m=c=me)&&(c=iR(c,a.type,a.pendingProps,bi),c!==null?(a.stateNode=c,hn=a,me=ti(c.firstChild),bi=!1,m=!0):m=!1),m||ta(a)),As(a),m=a.type,p=a.pendingProps,T=s!==null?s.memoizedProps:null,c=p.children,Em(m,p)?c=null:T!==null&&Em(m,T)&&(a.flags|=32),a.memoizedState!==null&&(m=bg(s,a,Ex,null,null,l),hu._currentValue=m),Th(s,a),Ye(s,a,c,l),a.child;case 6:return s===null&&qt&&((s=l=me)&&(l=sR(l,a.pendingProps,bi),l!==null?(a.stateNode=l,hn=a,me=null,s=!0):s=!1),s||ta(a)),null;case 13:return Jv(s,a,l);case 4:return se(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=ho(a,null,c,l):Ye(s,a,c,l),a.child;case 11:return Gv(s,a,a.type,a.pendingProps,l);case 7:return Ye(s,a,a.pendingProps,l),a.child;case 8:return Ye(s,a,a.pendingProps.children,l),a.child;case 12:return Ye(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,ks(a,a.type,c.value),Ye(s,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,na(a),m=Je(m),c=c(m),a.flags|=1,Ye(s,a,c,l),a.child;case 14:return Yv(s,a,a.type,a.pendingProps,l);case 15:return Kv(s,a,a.type,a.pendingProps,l);case 19:return e0(s,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},s===null?(l=Sh(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Qi(s.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return $v(s,a,l);case 24:return na(a),c=Je(Oe),s===null?(m=hg(),m===null&&(m=re,p=ug(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),a.memoizedState={parent:c,cache:m},dg(a),ks(a,Oe,m)):((s.lanes&l)!==0&&(gg(s,a),Fl(a,null,null,l),Hl()),m=s.memoizedState,p=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),ks(a,Oe,c)):(c=p.cache,ks(a,Oe,c),c!==m.cache&&lg(a,[Oe],l,!0))),Ye(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function is(s){s.flags|=4}function i0(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!hb(a)){if(a=zn.current,a!==null&&((Bt&4194048)===Bt?Ei!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||a!==Ei))throw Bl=fg,B_;s.flags|=8192}}function wh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?dl():536870912,s.lanes|=a,po|=a)}function Wl(s,a){if(!qt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function fe(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function Dx(s,a,l){var c=a.pendingProps;switch(sg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(a),null;case 1:return fe(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ji(Oe),li(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(kl(a)?is(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,P_())),fe(a),null;case 26:return l=a.memoizedState,s===null?(is(a),l!==null?(fe(a),i0(a,l)):(fe(a),a.flags&=-16777217)):l?l!==s.memoizedState?(is(a),fe(a),i0(a,l)):(fe(a),a.flags&=-16777217):(s.memoizedProps!==c&&is(a),fe(a),a.flags&=-16777217),null;case 27:Vi(a),l=yt.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&is(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return fe(a),null}s=gt.current,kl(a)?k_(a):(s=ib(m,c,l),a.stateNode=s,is(a))}return fe(a),null;case 5:if(Vi(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&is(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return fe(a),null}if(s=gt.current,kl(a))k_(a);else{switch(m=Lh(yt.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[Ce]=a,s[Te]=c;t:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break t;for(;m.sibling===null;){if(m.return===null||m.return===a)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;t:switch($e(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&is(a)}}return fe(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&is(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(s=yt.current,kl(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,m=hn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[Ce]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||W0(s.nodeValue,l)),s||ta(a)}else s=Lh(s).createTextNode(c),s[Ce]=a,a.stateNode=s}return fe(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=kl(a),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Ce]=a}else Nl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;fe(a),m=!1}else m=P_(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(es(a),a):(es(a),null)}if(es(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==m&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),wh(a,a.updateQueue),fe(a),null;case 4:return li(),s===null&&pm(a.stateNode.containerInfo),fe(a),null;case 10:return Ji(a.type),fe(a),null;case 19:if(ct(Me),m=a.memoizedState,m===null)return fe(a),null;if(c=(a.flags&128)!==0,p=m.rendering,p===null)if(c)Wl(m,!1);else{if(pe!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=vh(s),p!==null){for(a.flags|=128,Wl(m,!1),s=p.updateQueue,a.updateQueue=s,wh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)O_(l,s),l=l.sibling;return ot(Me,Me.current&1|2),a.child}s=s.sibling}m.tail!==null&&In()>Rh&&(a.flags|=128,c=!0,Wl(m,!1),a.lanes=4194304)}else{if(!c)if(s=vh(p),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,wh(a,s),Wl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!p.alternate&&!qt)return fe(a),null}else 2*In()-m.renderingStartTime>Rh&&l!==536870912&&(a.flags|=128,c=!0,Wl(m,!1),a.lanes=4194304);m.isBackwards?(p.sibling=a.child,a.child=p):(s=m.last,s!==null?s.sibling=p:a.child=p,m.last=p)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=In(),a.sibling=null,s=Me.current,ot(Me,c?s&1|2:s&1),a):(fe(a),null);case 22:case 23:return es(a),_g(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(fe(a),a.subtreeFlags&6&&(a.flags|=8192)):fe(a),l=a.updateQueue,l!==null&&wh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&ct(ia),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ji(Oe),fe(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Ox(s,a){switch(sg(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ji(Oe),li(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Vi(a),null;case 13:if(es(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Nl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ct(Me),null;case 4:return li(),null;case 10:return Ji(a.type),null;case 22:case 23:return es(a),_g(),s!==null&&ct(ia),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Ji(Oe),null;case 25:return null;default:return null}}function s0(s,a){switch(sg(a),a.tag){case 3:Ji(Oe),li();break;case 26:case 27:case 5:Vi(a);break;case 4:li();break;case 13:es(a);break;case 19:ct(Me);break;case 10:Ji(a.type);break;case 22:case 23:es(a),_g(),s!==null&&ct(ia);break;case 24:Ji(Oe)}}function Xl(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var p=l.create,T=l.inst;c=p(),T.destroy=c}l=l.next}while(l!==m)}}catch(w){ie(a,a.return,w)}}function Bs(s,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var p=m.next;c=p;do{if((c.tag&s)===s){var T=c.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,m=a;var k=l,q=w;try{q()}catch(Z){ie(m,k,Z)}}}c=c.next}while(c!==p)}}catch(Z){ie(a,a.return,Z)}}function r0(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{Y_(a,l)}catch(c){ie(s,s.return,c)}}}function a0(s,a,l){l.props=ra(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){ie(s,a,c)}}function Zl(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(m){ie(s,a,m)}}function Ti(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){ie(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){ie(s,a,m)}else l.current=null}function o0(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){ie(s,s.return,m)}}function Yg(s,a,l){try{var c=s.stateNode;Zx(c,s.type,l,a),c[Te]=a}catch(m){ie(s,s.return,m)}}function l0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&$s(s.type)||s.tag===4}function Kg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||l0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&$s(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function $g(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Vh));else if(c!==4&&(c===27&&$s(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for($g(s,a,l),s=s.sibling;s!==null;)$g(s,a,l),s=s.sibling}function Ah(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&(c===27&&$s(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Ah(s,a,l),s=s.sibling;s!==null;)Ah(s,a,l),s=s.sibling}function u0(s){var a=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);$e(a,c,l),a[Ce]=s,a[Te]=l}catch(p){ie(s,s.return,p)}}var ss=!1,ve=!1,Qg=!1,c0=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Mx(s,a){if(s=s.containerInfo,vm=Fh,s=E_(s),Kd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var T=0,w=-1,k=-1,q=0,Z=0,et=s,Y=null;e:for(;;){for(var K;et!==l||m!==0&&et.nodeType!==3||(w=T+m),et!==p||c!==0&&et.nodeType!==3||(k=T+c),et.nodeType===3&&(T+=et.nodeValue.length),(K=et.firstChild)!==null;)Y=et,et=K;for(;;){if(et===s)break e;if(Y===l&&++q===m&&(w=T),Y===p&&++Z===c&&(k=T),(K=et.nextSibling)!==null)break;et=Y,Y=et.parentNode}et=K}l=w===-1||k===-1?null:{start:w,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(bm={focusedElem:s,selectionRange:l},Fh=!1,ze=a;ze!==null;)if(a=ze,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,ze=s;else for(;ze!==null;){switch(a=ze,p=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,m=p.memoizedProps,p=p.memoizedState,c=l.stateNode;try{var St=ra(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(St,p),c.__reactInternalSnapshotBeforeUpdate=s}catch(vt){ie(l,l.return,vt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Sm(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Sm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,ze=s;break}ze=a.return}}function h0(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:js(s,l),c&4&&Xl(5,l);break;case 1:if(js(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(T){ie(l,l.return,T)}else{var m=ra(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(T){ie(l,l.return,T)}}c&64&&r0(l),c&512&&Zl(l,l.return);break;case 3:if(js(s,l),c&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Y_(s,a)}catch(T){ie(l,l.return,T)}}break;case 27:a===null&&c&4&&u0(l);case 26:case 5:js(s,l),a===null&&c&4&&o0(l),c&512&&Zl(l,l.return);break;case 12:js(s,l);break;case 13:js(s,l),c&4&&g0(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=jx.bind(null,l),rR(s,l))));break;case 22:if(c=l.memoizedState!==null||ss,!c){a=a!==null&&a.memoizedState!==null||ve,m=ss;var p=ve;ss=c,(ve=a)&&!p?Hs(s,l,(l.subtreeFlags&8772)!==0):js(s,l),ss=m,ve=p}break;case 30:break;default:js(s,l)}}function f0(s){var a=s.alternate;a!==null&&(s.alternate=null,f0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Is(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ce=null,dn=!1;function rs(s,a,l){for(l=l.child;l!==null;)d0(s,a,l),l=l.sibling}function d0(s,a,l){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(ge,l)}catch{}switch(l.tag){case 26:ve||Ti(l,a),rs(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ve||Ti(l,a);var c=ce,m=dn;$s(l.type)&&(ce=l.stateNode,dn=!1),rs(s,a,l),ou(l.stateNode),ce=c,dn=m;break;case 5:ve||Ti(l,a);case 6:if(c=ce,m=dn,ce=null,rs(s,a,l),ce=c,dn=m,ce!==null)if(dn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(l.stateNode)}catch(p){ie(l,a,p)}else try{ce.removeChild(l.stateNode)}catch(p){ie(l,a,p)}break;case 18:ce!==null&&(dn?(s=ce,eb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),mu(s)):eb(ce,l.stateNode));break;case 4:c=ce,m=dn,ce=l.stateNode.containerInfo,dn=!0,rs(s,a,l),ce=c,dn=m;break;case 0:case 11:case 14:case 15:ve||Bs(2,l,a),ve||Bs(4,l,a),rs(s,a,l);break;case 1:ve||(Ti(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&a0(l,a,c)),rs(s,a,l);break;case 21:rs(s,a,l);break;case 22:ve=(c=ve)||l.memoizedState!==null,rs(s,a,l),ve=c;break;default:rs(s,a,l)}}function g0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{mu(s)}catch(l){ie(a,a.return,l)}}function kx(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new c0),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new c0),a;default:throw Error(i(435,s.tag))}}function Wg(s,a){var l=kx(s);a.forEach(function(c){var m=Hx.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function Sn(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],p=s,T=a,w=T;t:for(;w!==null;){switch(w.tag){case 27:if($s(w.type)){ce=w.stateNode,dn=!1;break t}break;case 5:ce=w.stateNode,dn=!1;break t;case 3:case 4:ce=w.stateNode.containerInfo,dn=!0;break t}w=w.return}if(ce===null)throw Error(i(160));d0(p,T,m),ce=null,dn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)m0(a,s),a=a.sibling}var Jn=null;function m0(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Sn(a,s),wn(s),c&4&&(Bs(3,s,s.return),Xl(3,s),Bs(5,s,s.return));break;case 1:Sn(a,s),wn(s),c&512&&(ve||l===null||Ti(l,l.return)),c&64&&ss&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=Jn;if(Sn(a,s),wn(s),c&512&&(ve||l===null||Ti(l,l.return)),c&4){var p=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){t:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Nr]||p[Ce]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(c),m.head.insertBefore(p,m.querySelector("head > title"))),$e(p,c,l),p[Ce]=s,ye(p),c=p;break t;case"link":var T=ub("link","href",m).get(c+(l.href||""));if(T){for(var w=0;w<T.length;w++)if(p=T[w],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(w,1);break e}}p=m.createElement(c),$e(p,c,l),m.head.appendChild(p);break;case"meta":if(T=ub("meta","content",m).get(c+(l.content||""))){for(w=0;w<T.length;w++)if(p=T[w],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(w,1);break e}}p=m.createElement(c),$e(p,c,l),m.head.appendChild(p);break;default:throw Error(i(468,c))}p[Ce]=s,ye(p),c=p}s.stateNode=c}else cb(m,s.type,s.stateNode);else s.stateNode=lb(m,c,s.memoizedProps);else p!==c?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,c===null?cb(m,s.type,s.stateNode):lb(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Yg(s,s.memoizedProps,l.memoizedProps)}break;case 27:Sn(a,s),wn(s),c&512&&(ve||l===null||Ti(l,l.return)),l!==null&&c&4&&Yg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Sn(a,s),wn(s),c&512&&(ve||l===null||Ti(l,l.return)),s.flags&32){m=s.stateNode;try{On(m,"")}catch(K){ie(s,s.return,K)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,Yg(s,m,l!==null?l.memoizedProps:m)),c&1024&&(Qg=!0);break;case 6:if(Sn(a,s),wn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(K){ie(s,s.return,K)}}break;case 3:if(Bh=null,m=Jn,Jn=Uh(a.containerInfo),Sn(a,s),Jn=m,wn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{mu(a.containerInfo)}catch(K){ie(s,s.return,K)}Qg&&(Qg=!1,p0(s));break;case 4:c=Jn,Jn=Uh(s.stateNode.containerInfo),Sn(a,s),wn(s),Jn=c;break;case 12:Sn(a,s),wn(s);break;case 13:Sn(a,s),wn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(nm=In()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Wg(s,c)));break;case 22:m=s.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,q=ss,Z=ve;if(ss=q||m,ve=Z||k,Sn(a,s),ve=Z,ss=q,wn(s),c&8192)t:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||k||ss||ve||aa(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){k=l=a;try{if(p=k.stateNode,m)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=k.stateNode;var et=k.memoizedProps.style,Y=et!=null&&et.hasOwnProperty("display")?et.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(K){ie(k,k.return,K)}}}else if(a.tag===6){if(l===null){k=a;try{k.stateNode.nodeValue=m?"":k.memoizedProps}catch(K){ie(k,k.return,K)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Wg(s,l))));break;case 19:Sn(a,s),wn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Wg(s,c)));break;case 30:break;case 21:break;default:Sn(a,s),wn(s)}}function wn(s){var a=s.flags;if(a&2){try{for(var l,c=s.return;c!==null;){if(l0(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,p=Kg(s);Ah(s,p,m);break;case 5:var T=l.stateNode;l.flags&32&&(On(T,""),l.flags&=-33);var w=Kg(s);Ah(s,w,T);break;case 3:case 4:var k=l.stateNode.containerInfo,q=Kg(s);$g(s,q,k);break;default:throw Error(i(161))}}catch(Z){ie(s,s.return,Z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function p0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;p0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function js(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)h0(s,a.alternate,a),a=a.sibling}function aa(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Bs(4,a,a.return),aa(a);break;case 1:Ti(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&a0(a,a.return,l),aa(a);break;case 27:ou(a.stateNode);case 26:case 5:Ti(a,a.return),aa(a);break;case 22:a.memoizedState===null&&aa(a);break;case 30:aa(a);break;default:aa(a)}s=s.sibling}}function Hs(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=s,p=a,T=p.flags;switch(p.tag){case 0:case 11:case 15:Hs(m,p,l),Xl(4,p);break;case 1:if(Hs(m,p,l),c=p,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){ie(c,c.return,q)}if(c=p,m=c.updateQueue,m!==null){var w=c.stateNode;try{var k=m.shared.hiddenCallbacks;if(k!==null)for(m.shared.hiddenCallbacks=null,m=0;m<k.length;m++)G_(k[m],w)}catch(q){ie(c,c.return,q)}}l&&T&64&&r0(p),Zl(p,p.return);break;case 27:u0(p);case 26:case 5:Hs(m,p,l),l&&c===null&&T&4&&o0(p),Zl(p,p.return);break;case 12:Hs(m,p,l);break;case 13:Hs(m,p,l),l&&T&4&&g0(m,p);break;case 22:p.memoizedState===null&&Hs(m,p,l),Zl(p,p.return);break;case 30:break;default:Hs(m,p,l)}a=a.sibling}}function Xg(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Ll(l))}function Zg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ll(s))}function Si(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)y0(s,a,l,c),a=a.sibling}function y0(s,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Si(s,a,l,c),m&2048&&Xl(9,a);break;case 1:Si(s,a,l,c);break;case 3:Si(s,a,l,c),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ll(s)));break;case 12:if(m&2048){Si(s,a,l,c),s=a.stateNode;try{var p=a.memoizedProps,T=p.id,w=p.onPostCommit;typeof w=="function"&&w(T,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(k){ie(a,a.return,k)}}else Si(s,a,l,c);break;case 13:Si(s,a,l,c);break;case 23:break;case 22:p=a.stateNode,T=a.alternate,a.memoizedState!==null?p._visibility&2?Si(s,a,l,c):Jl(s,a):p._visibility&2?Si(s,a,l,c):(p._visibility|=2,fo(s,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&Xg(T,a);break;case 24:Si(s,a,l,c),m&2048&&Zg(a.alternate,a);break;default:Si(s,a,l,c)}}function fo(s,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=s,T=a,w=l,k=c,q=T.flags;switch(T.tag){case 0:case 11:case 15:fo(p,T,w,k,m),Xl(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?fo(p,T,w,k,m):Jl(p,T):(Z._visibility|=2,fo(p,T,w,k,m)),m&&q&2048&&Xg(T.alternate,T);break;case 24:fo(p,T,w,k,m),m&&q&2048&&Zg(T.alternate,T);break;default:fo(p,T,w,k,m)}a=a.sibling}}function Jl(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,m=c.flags;switch(c.tag){case 22:Jl(l,c),m&2048&&Xg(c.alternate,c);break;case 24:Jl(l,c),m&2048&&Zg(c.alternate,c);break;default:Jl(l,c)}a=a.sibling}}var tu=8192;function go(s){if(s.subtreeFlags&tu)for(s=s.child;s!==null;)_0(s),s=s.sibling}function _0(s){switch(s.tag){case 26:go(s),s.flags&tu&&s.memoizedState!==null&&_R(Jn,s.memoizedState,s.memoizedProps);break;case 5:go(s);break;case 3:case 4:var a=Jn;Jn=Uh(s.stateNode.containerInfo),go(s),Jn=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=tu,tu=16777216,go(s),tu=a):go(s));break;default:go(s)}}function v0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function eu(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];ze=c,E0(c,s)}v0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)b0(s),s=s.sibling}function b0(s){switch(s.tag){case 0:case 11:case 15:eu(s),s.flags&2048&&Bs(9,s,s.return);break;case 3:eu(s);break;case 12:eu(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,xh(s)):eu(s);break;default:eu(s)}}function xh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];ze=c,E0(c,s)}v0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Bs(8,a,a.return),xh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,xh(a));break;default:xh(a)}s=s.sibling}}function E0(s,a){for(;ze!==null;){var l=ze;switch(l.tag){case 0:case 11:case 15:Bs(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ll(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,ze=c;else t:for(l=s;ze!==null;){c=ze;var m=c.sibling,p=c.return;if(f0(c),c===l){ze=null;break t}if(m!==null){m.return=p,ze=m;break t}ze=p}}}var Nx={getCacheForType:function(s){var a=Je(Oe),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},Px=typeof WeakMap=="function"?WeakMap:Map,Qt=0,re=null,kt=null,Bt=0,Wt=0,An=null,Fs=!1,mo=!1,Jg=!1,as=0,pe=0,qs=0,oa=0,tm=0,Bn=0,po=0,nu=null,gn=null,em=!1,nm=0,Rh=1/0,Ch=null,Gs=null,Ke=0,Ys=null,yo=null,_o=0,im=0,sm=null,T0=null,iu=0,rm=null;function xn(){if((Qt&2)!==0&&Bt!==0)return Bt&-Bt;if($.T!==null){var s=so;return s!==0?s:fm()}return Rs()}function S0(){Bn===0&&(Bn=(Bt&536870912)===0||qt?fl():536870912);var s=zn.current;return s!==null&&(s.flags|=32),Bn}function Rn(s,a,l){(s===re&&(Wt===2||Wt===9)||s.cancelPendingCommit!==null)&&(vo(s,0),Ks(s,Bt,Bn,!1)),Ui(s,l),((Qt&2)===0||s!==re)&&(s===re&&((Qt&2)===0&&(oa|=l),pe===4&&Ks(s,Bt,Bn,!1)),wi(s))}function w0(s,a,l){if((Qt&6)!==0)throw Error(i(327));var c=!l&&(a&124)===0&&(a&s.expiredLanes)===0||kr(s,a),m=c?Ux(s,a):lm(s,a,!0),p=c;do{if(m===0){mo&&!c&&Ks(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!Vx(l)){m=lm(s,a,!1),p=!1;continue}if(m===2){if(p=a,s.errorRecoveryDisabledLanes&p)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;t:{var w=s;m=nu;var k=w.current.memoizedState.isDehydrated;if(k&&(vo(w,T).flags|=256),T=lm(w,T,!1),T!==2){if(Jg&&!k){w.errorRecoveryDisabledLanes|=p,oa|=p,m=4;break t}p=gn,gn=m,p!==null&&(gn===null?gn=p:gn.push.apply(gn,p))}m=T}if(p=!1,m!==2)continue}}if(m===1){vo(s,0),Ks(s,a,0,!0);break}t:{switch(c=s,p=m,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Ks(c,a,Bn,!Fs);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=nm+300-In(),10<m)){if(Ks(c,a,Bn,!Fs),Pa(c,0,!0)!==0)break t;c.timeoutHandle=J0(A0.bind(null,c,l,gn,Ch,em,a,Bn,oa,po,Fs,p,2,-0,0),m);break t}A0(c,l,gn,Ch,em,a,Bn,oa,po,Fs,p,0,-0,0)}}break}while(!0);wi(s)}function A0(s,a,l,c,m,p,T,w,k,q,Z,et,Y,K){if(s.timeoutHandle=-1,et=a.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(cu={stylesheets:null,count:0,unsuspend:yR},_0(a),et=vR(),et!==null)){s.cancelPendingCommit=et(M0.bind(null,s,a,p,l,c,m,T,w,k,Z,1,Y,K)),Ks(s,p,T,!q);return}M0(s,a,p,l,c,m,T,w,k)}function Vx(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],p=m.getSnapshot;m=m.value;try{if(!En(p(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ks(s,a,l,c){a&=~tm,a&=~oa,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var m=a;0<m;){var p=31-Ze(m),T=1<<p;c[p]=-1,m&=~T}l!==0&&ui(s,l,a)}function Ih(){return(Qt&6)===0?(su(0),!1):!0}function am(){if(kt!==null){if(Wt===0)var s=kt.return;else s=kt,Zi=ea=null,Sg(s),co=null,$l=0,s=kt;for(;s!==null;)s0(s.alternate,s),s=s.return;kt=null}}function vo(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,tR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),am(),re=s,kt=l=Qi(s.current,null),Bt=a,Wt=0,An=null,Fs=!1,mo=kr(s,a),Jg=!1,po=Bn=tm=oa=qs=pe=0,gn=nu=null,em=!1,(a&8)!==0&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var m=31-Ze(c),p=1<<m;a|=s[m],c&=~p}return as=a,Xc(),l}function x0(s,a){Dt=null,$.H=ph,a===zl||a===ah?(a=F_(),Wt=3):a===B_?(a=F_(),Wt=4):Wt=a===qv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,An=a,kt===null&&(pe=1,Eh(s,Pn(a,s.current)))}function R0(){var s=$.H;return $.H=ph,s===null?ph:s}function C0(){var s=$.A;return $.A=Nx,s}function om(){pe=4,Fs||(Bt&4194048)!==Bt&&zn.current!==null||(mo=!0),(qs&134217727)===0&&(oa&134217727)===0||re===null||Ks(re,Bt,Bn,!1)}function lm(s,a,l){var c=Qt;Qt|=2;var m=R0(),p=C0();(re!==s||Bt!==a)&&(Ch=null,vo(s,a)),a=!1;var T=pe;t:do try{if(Wt!==0&&kt!==null){var w=kt,k=An;switch(Wt){case 8:am(),T=6;break t;case 3:case 2:case 9:case 6:zn.current===null&&(a=!0);var q=Wt;if(Wt=0,An=null,bo(s,w,k,q),l&&mo){T=0;break t}break;default:q=Wt,Wt=0,An=null,bo(s,w,k,q)}}Lx(),T=pe;break}catch(Z){x0(s,Z)}while(!0);return a&&s.shellSuspendCounter++,Zi=ea=null,Qt=c,$.H=m,$.A=p,kt===null&&(re=null,Bt=0,Xc()),T}function Lx(){for(;kt!==null;)I0(kt)}function Ux(s,a){var l=Qt;Qt|=2;var c=R0(),m=C0();re!==s||Bt!==a?(Ch=null,Rh=In()+500,vo(s,a)):mo=kr(s,a);t:do try{if(Wt!==0&&kt!==null){a=kt;var p=An;e:switch(Wt){case 1:Wt=0,An=null,bo(s,a,p,1);break;case 2:case 9:if(j_(p)){Wt=0,An=null,D0(a);break}a=function(){Wt!==2&&Wt!==9||re!==s||(Wt=7),wi(s)},p.then(a,a);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:j_(p)?(Wt=0,An=null,D0(a)):(Wt=0,An=null,bo(s,a,p,7));break;case 5:var T=null;switch(kt.tag){case 26:T=kt.memoizedState;case 5:case 27:var w=kt;if(!T||hb(T)){Wt=0,An=null;var k=w.sibling;if(k!==null)kt=k;else{var q=w.return;q!==null?(kt=q,Dh(q)):kt=null}break e}}Wt=0,An=null,bo(s,a,p,5);break;case 6:Wt=0,An=null,bo(s,a,p,6);break;case 8:am(),pe=6;break t;default:throw Error(i(462))}}zx();break}catch(Z){x0(s,Z)}while(!0);return Zi=ea=null,$.H=c,$.A=m,Qt=l,kt!==null?0:(re=null,Bt=0,Xc(),pe)}function zx(){for(;kt!==null&&!ll();)I0(kt)}function I0(s){var a=n0(s.alternate,s,as);s.memoizedProps=s.pendingProps,a===null?Dh(s):kt=a}function D0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Wv(l,a,a.pendingProps,a.type,void 0,Bt);break;case 11:a=Wv(l,a,a.pendingProps,a.type.render,a.ref,Bt);break;case 5:Sg(a);default:s0(l,a),a=kt=O_(a,as),a=n0(l,a,as)}s.memoizedProps=s.pendingProps,a===null?Dh(s):kt=a}function bo(s,a,l,c){Zi=ea=null,Sg(a),co=null,$l=0;var m=a.return;try{if(Cx(s,m,a,l,Bt)){pe=1,Eh(s,Pn(l,s.current)),kt=null;return}}catch(p){if(m!==null)throw kt=m,p;pe=1,Eh(s,Pn(l,s.current)),kt=null;return}a.flags&32768?(qt||c===1?s=!0:mo||(Bt&536870912)!==0?s=!1:(Fs=s=!0,(c===2||c===9||c===3||c===6)&&(c=zn.current,c!==null&&c.tag===13&&(c.flags|=16384))),O0(a,s)):Dh(a)}function Dh(s){var a=s;do{if((a.flags&32768)!==0){O0(a,Fs);return}s=a.return;var l=Dx(a.alternate,a,as);if(l!==null){kt=l;return}if(a=a.sibling,a!==null){kt=a;return}kt=a=s}while(a!==null);pe===0&&(pe=5)}function O0(s,a){do{var l=Ox(s.alternate,s);if(l!==null){l.flags&=32767,kt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){kt=s;return}kt=s=l}while(s!==null);pe=6,kt=null}function M0(s,a,l,c,m,p,T,w,k){s.cancelPendingCommit=null;do Oh();while(Ke!==0);if((Qt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Zd,gl(s,l,p,T,w,k),s===re&&(kt=re=null,Bt=0),yo=a,Ys=s,_o=l,im=p,sm=m,T0=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Fx(Ir,function(){return L0(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,m=lt.p,lt.p=2,T=Qt,Qt|=4;try{Mx(s,a,l)}finally{Qt=T,lt.p=m,$.T=c}}Ke=1,k0(),N0(),P0()}}function k0(){if(Ke===1){Ke=0;var s=Ys,a=yo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var c=lt.p;lt.p=2;var m=Qt;Qt|=4;try{m0(a,s);var p=bm,T=E_(s.containerInfo),w=p.focusedElem,k=p.selectionRange;if(T!==w&&w&&w.ownerDocument&&b_(w.ownerDocument.documentElement,w)){if(k!==null&&Kd(w)){var q=k.start,Z=k.end;if(Z===void 0&&(Z=q),"selectionStart"in w)w.selectionStart=q,w.selectionEnd=Math.min(Z,w.value.length);else{var et=w.ownerDocument||document,Y=et&&et.defaultView||window;if(Y.getSelection){var K=Y.getSelection(),St=w.textContent.length,vt=Math.min(k.start,St),ne=k.end===void 0?vt:Math.min(k.end,St);!K.extend&&vt>ne&&(T=ne,ne=vt,vt=T);var B=v_(w,vt),z=v_(w,ne);if(B&&z&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==z.node||K.focusOffset!==z.offset)){var F=et.createRange();F.setStart(B.node,B.offset),K.removeAllRanges(),vt>ne?(K.addRange(F),K.extend(z.node,z.offset)):(F.setEnd(z.node,z.offset),K.addRange(F))}}}}for(et=[],K=w;K=K.parentNode;)K.nodeType===1&&et.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<et.length;w++){var tt=et[w];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Fh=!!vm,bm=vm=null}finally{Qt=m,lt.p=c,$.T=l}}s.current=a,Ke=2}}function N0(){if(Ke===2){Ke=0;var s=Ys,a=yo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var c=lt.p;lt.p=2;var m=Qt;Qt|=4;try{h0(s,a.alternate,a)}finally{Qt=m,lt.p=c,$.T=l}}Ke=3}}function P0(){if(Ke===4||Ke===3){Ke=0,xc();var s=Ys,a=yo,l=_o,c=T0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ke=5:(Ke=0,yo=Ys=null,V0(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Gs=null),Va(l),a=a.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(ge,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=$.T,m=lt.p,lt.p=2,$.T=null;try{for(var p=s.onRecoverableError,T=0;T<c.length;T++){var w=c[T];p(w.value,{componentStack:w.stack})}}finally{$.T=a,lt.p=m}}(_o&3)!==0&&Oh(),wi(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===rm?iu++:(iu=0,rm=s):iu=0,su(0)}}function V0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Ll(a)))}function Oh(s){return k0(),N0(),P0(),L0()}function L0(){if(Ke!==5)return!1;var s=Ys,a=im;im=0;var l=Va(_o),c=$.T,m=lt.p;try{lt.p=32>l?32:l,$.T=null,l=sm,sm=null;var p=Ys,T=_o;if(Ke=0,yo=Ys=null,_o=0,(Qt&6)!==0)throw Error(i(331));var w=Qt;if(Qt|=4,b0(p.current),y0(p,p.current,T,l),Qt=w,su(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(ge,p)}catch{}return!0}finally{lt.p=m,$.T=c,V0(s,a)}}function U0(s,a,l){a=Pn(l,a),a=Lg(s.stateNode,a,2),s=Vs(s,a,2),s!==null&&(Ui(s,2),wi(s))}function ie(s,a,l){if(s.tag===3)U0(s,s,l);else for(;a!==null;){if(a.tag===3){U0(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Gs===null||!Gs.has(c))){s=Pn(l,s),l=Hv(2),c=Vs(a,l,2),c!==null&&(Fv(l,c,a,s),Ui(c,2),wi(c));break}}a=a.return}}function um(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new Px;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(Jg=!0,m.add(l),s=Bx.bind(null,s,a,l),a.then(s,s))}function Bx(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,re===s&&(Bt&l)===l&&(pe===4||pe===3&&(Bt&62914560)===Bt&&300>In()-nm?(Qt&2)===0&&vo(s,0):tm|=l,po===Bt&&(po=0)),wi(s)}function z0(s,a){a===0&&(a=dl()),s=to(s,a),s!==null&&(Ui(s,a),wi(s))}function jx(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),z0(s,l)}function Hx(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),z0(s,l)}function Fx(s,a){return Rr(s,a)}var Mh=null,Eo=null,cm=!1,kh=!1,hm=!1,la=0;function wi(s){s!==Eo&&s.next===null&&(Eo===null?Mh=Eo=s:Eo=Eo.next=s),kh=!0,cm||(cm=!0,Gx())}function su(s,a){if(!hm&&kh){hm=!0;do for(var l=!1,c=Mh;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var p=0;else{var T=c.suspendedLanes,w=c.pingedLanes;p=(1<<31-Ze(42|s)+1)-1,p&=m&~(T&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,F0(c,p))}else p=Bt,p=Pa(c,c===re?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||kr(c,p)||(l=!0,F0(c,p));c=c.next}while(l);hm=!1}}function qx(){B0()}function B0(){kh=cm=!1;var s=0;la!==0&&(Jx()&&(s=la),la=0);for(var a=In(),l=null,c=Mh;c!==null;){var m=c.next,p=j0(c,a);p===0?(c.next=null,l===null?Mh=m:l.next=m,m===null&&(Eo=l)):(l=c,(s!==0||(p&3)!==0)&&(kh=!0)),c=m}su(s)}function j0(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var T=31-Ze(p),w=1<<T,k=m[T];k===-1?((w&l)===0||(w&c)!==0)&&(m[T]=hl(w,a)):k<=a&&(s.expiredLanes|=w),p&=~w}if(a=re,l=Bt,l=Pa(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===a&&(Wt===2||Wt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Cr(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||kr(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&Cr(c),Va(l)){case 2:case 8:l=ka;break;case 32:l=Ir;break;case 268435456:l=Na;break;default:l=Ir}return c=H0.bind(null,s),l=Rr(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&Cr(c),s.callbackPriority=2,s.callbackNode=null,2}function H0(s,a){if(Ke!==0&&Ke!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Oh()&&s.callbackNode!==l)return null;var c=Bt;return c=Pa(s,s===re?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(w0(s,c,a),j0(s,In()),s.callbackNode!=null&&s.callbackNode===l?H0.bind(null,s):null)}function F0(s,a){if(Oh())return null;w0(s,a,!0)}function Gx(){eR(function(){(Qt&6)!==0?Rr(ul,qx):B0()})}function fm(){return la===0&&(la=fl()),la}function q0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ha(""+s)}function G0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function Yx(s,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var p=q0((m[Te]||null).action),T=c.submitter;T&&(a=(a=T[Te]||null)?q0(a.formAction):T.getAttribute("formAction"),a!==null&&(p=a,T=null));var w=new Fa("action","action",null,c,m);s.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(la!==0){var k=T?G0(m,T):new FormData(m);Mg(l,{pending:!0,data:k,method:m.method,action:p},null,k)}}else typeof p=="function"&&(w.preventDefault(),k=T?G0(m,T):new FormData(m),Mg(l,{pending:!0,data:k,method:m.method,action:p},p,k))},currentTarget:m}]})}}for(var dm=0;dm<Xd.length;dm++){var gm=Xd[dm],Kx=gm.toLowerCase(),$x=gm[0].toUpperCase()+gm.slice(1);Zn(Kx,"on"+$x)}Zn(w_,"onAnimationEnd"),Zn(A_,"onAnimationIteration"),Zn(x_,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(hx,"onTransitionRun"),Zn(fx,"onTransitionStart"),Zn(dx,"onTransitionCancel"),Zn(R_,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ru));function Y0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;t:{var p=void 0;if(a)for(var T=c.length-1;0<=T;T--){var w=c[T],k=w.instance,q=w.currentTarget;if(w=w.listener,k!==p&&m.isPropagationStopped())break t;p=w,m.currentTarget=q;try{p(m)}catch(Z){bh(Z)}m.currentTarget=null,p=k}else for(T=0;T<c.length;T++){if(w=c[T],k=w.instance,q=w.currentTarget,w=w.listener,k!==p&&m.isPropagationStopped())break t;p=w,m.currentTarget=q;try{p(m)}catch(Z){bh(Z)}m.currentTarget=null,p=k}}}}function Nt(s,a){var l=a[pl];l===void 0&&(l=a[pl]=new Set);var c=s+"__bubble";l.has(c)||(K0(a,s,2,!1),l.add(c))}function mm(s,a,l){var c=0;a&&(c|=4),K0(l,s,c,a)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function pm(s){if(!s[Nh]){s[Nh]=!0,yl.forEach(function(l){l!=="selectionchange"&&(Qx.has(l)||mm(l,!1,s),mm(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Nh]||(a[Nh]=!0,mm("selectionchange",!1,a))}}function K0(s,a,l,c){switch(yb(a)){case 2:var m=TR;break;case 8:m=SR;break;default:m=Dm}l=m.bind(null,a,l,s),m=void 0,!kn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function ym(s,a,l,c,m){var p=c;if((a&1)===0&&(a&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var w=c.stateNode.containerInfo;if(w===m)break;if(T===4)for(T=c.return;T!==null;){var k=T.tag;if((k===3||k===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;w!==null;){if(T=zi(w),T===null)return;if(k=T.tag,k===5||k===6||k===26||k===27){c=p=T;continue t}w=w.parentNode}}c=c.return}Vc(function(){var q=p,Z=Mn(l),et=[];t:{var Y=C_.get(s);if(Y!==void 0){var K=Fa,St=s;switch(s){case"keypress":if(mi(l)===0)break t;case"keydown":case"keyup":K=Qa;break;case"focusin":St="focus",K=Ya;break;case"focusout":St="blur",K=Ya;break;case"beforeblur":case"afterblur":K=Ya;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=qc;break;case w_:case A_:case x_:K=Ka;break;case R_:K=Yc;break;case"scroll":case"scrollend":K=Lc;break;case"wheel":K=Wa;break;case"copy":case"cut":case"paste":K=$a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Il;break;case"toggle":case"beforetoggle":K=$c}var vt=(a&4)!==0,ne=!vt&&(s==="scroll"||s==="scrollend"),B=vt?Y!==null?Y+"Capture":null:Y;vt=[];for(var z=q,F;z!==null;){var tt=z;if(F=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||F===null||B===null||(tt=jr(z,B),tt!=null&&vt.push(au(z,tt,F))),ne)break;z=z.return}0<vt.length&&(Y=new K(Y,St,null,l,Z),et.push({event:Y,listeners:vt}))}}if((a&7)===0){t:{if(Y=s==="mouseover"||s==="pointerover",K=s==="mouseout"||s==="pointerout",Y&&l!==Fi&&(St=l.relatedTarget||l.fromElement)&&(zi(St)||St[Dn]))break t;if((K||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,K?(St=l.relatedTarget||l.toElement,K=q,St=St?zi(St):null,St!==null&&(ne=o(St),vt=St.tag,St!==ne||vt!==5&&vt!==27&&vt!==6)&&(St=null)):(K=null,St=q),K!==St)){if(vt=Nn,tt="onMouseLeave",B="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(vt=Il,tt="onPointerLeave",B="onPointerEnter",z="pointer"),ne=K==null?Y:hi(K),F=St==null?Y:hi(St),Y=new vt(tt,z+"leave",K,l,Z),Y.target=ne,Y.relatedTarget=F,tt=null,zi(Z)===q&&(vt=new vt(B,z+"enter",St,l,Z),vt.target=F,vt.relatedTarget=ne,tt=vt),ne=tt,K&&St)e:{for(vt=K,B=St,z=0,F=vt;F;F=To(F))z++;for(F=0,tt=B;tt;tt=To(tt))F++;for(;0<z-F;)vt=To(vt),z--;for(;0<F-z;)B=To(B),F--;for(;z--;){if(vt===B||B!==null&&vt===B.alternate)break e;vt=To(vt),B=To(B)}vt=null}else vt=null;K!==null&&$0(et,Y,K,vt,!1),St!==null&&ne!==null&&$0(et,ne,St,vt,!0)}}t:{if(Y=q?hi(q):window,K=Y.nodeName&&Y.nodeName.toLowerCase(),K==="select"||K==="input"&&Y.type==="file")var dt=d_;else if(De(Y))if(g_)dt=lx;else{dt=ax;var Mt=rx}else K=Y.nodeName,!K||K.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?q&&Tl(q.elementType)&&(dt=d_):dt=ox;if(dt&&(dt=dt(s,q))){$i(et,dt,l,Z);break t}Mt&&Mt(s,Y,q),s==="focusout"&&q&&Y.type==="number"&&q.memoizedProps.value!=null&&Os(Y,"number",Y.value)}switch(Mt=q?hi(q):window,s){case"focusin":(De(Mt)||Mt.contentEditable==="true")&&(Xa=Mt,$d=q,Ml=null);break;case"focusout":Ml=$d=Xa=null;break;case"mousedown":Qd=!0;break;case"contextmenu":case"mouseup":case"dragend":Qd=!1,T_(et,l,Z);break;case"selectionchange":if(cx)break;case"keydown":case"keyup":T_(et,l,Z)}var pt;if(_i)t:{switch(s){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else Ut?X(s,l)&&(bt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(bt="onCompositionStart");bt&&(E&&l.locale!=="ko"&&(Ut||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Ut&&(pt=wl()):(gi=Z,Ms="value"in gi?gi.value:gi.textContent,Ut=!0)),Mt=Ph(q,bt),0<Mt.length&&(bt=new Rl(bt,s,null,l,Z),et.push({event:bt,listeners:Mt}),pt?bt.data=pt:(pt=ut(l),pt!==null&&(bt.data=pt)))),(pt=_?Ie(s,l):zt(s,l))&&(bt=Ph(q,"onBeforeInput"),0<bt.length&&(Mt=new Rl("onBeforeInput","beforeinput",null,l,Z),et.push({event:Mt,listeners:bt}),Mt.data=pt)),Yx(et,s,q,l,Z)}Y0(et,a)})}function au(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Ph(s,a){for(var l=a+"Capture",c=[];s!==null;){var m=s,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=jr(s,l),m!=null&&c.unshift(au(s,m,p)),m=jr(s,a),m!=null&&c.push(au(s,m,p))),s.tag===3)return c;s=s.return}return[]}function To(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function $0(s,a,l,c,m){for(var p=a._reactName,T=[];l!==null&&l!==c;){var w=l,k=w.alternate,q=w.stateNode;if(w=w.tag,k!==null&&k===c)break;w!==5&&w!==26&&w!==27||q===null||(k=q,m?(q=jr(l,p),q!=null&&T.unshift(au(l,q,k))):m||(q=jr(l,p),q!=null&&T.push(au(l,q,k)))),l=l.return}T.length!==0&&s.push({event:a,listeners:T})}var Wx=/\r\n?/g,Xx=/\u0000|\uFFFD/g;function Q0(s){return(typeof s=="string"?s:""+s).replace(Wx,`
`).replace(Xx,"")}function W0(s,a){return a=Q0(a),Q0(s)===a}function Vh(){}function ee(s,a,l,c,m,p){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||On(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&On(s,""+c);break;case"className":fi(s,"class",c);break;case"tabIndex":fi(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":fi(s,l,c);break;case"style":El(s,c,p);break;case"data":if(a!=="object"){fi(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ha(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&ee(s,a,"name",m.name,m,null),ee(s,a,"formEncType",m.formEncType,m,null),ee(s,a,"formMethod",m.formMethod,m,null),ee(s,a,"formTarget",m.formTarget,m,null)):(ee(s,a,"encType",m.encType,m,null),ee(s,a,"method",m.method,m,null),ee(s,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ha(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Vh);break;case"onScroll":c!=null&&Nt("scroll",s);break;case"onScrollEnd":c!=null&&Nt("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Ha(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Nt("beforetoggle",s),Nt("toggle",s),Ds(s,"popover",c);break;case"xlinkActuate":qe(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":qe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":qe(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":qe(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":qe(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":qe(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":qe(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":qe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":qe(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ds(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=jd.get(l)||l,Ds(s,l,c))}}function _m(s,a,l,c,m,p){switch(l){case"style":El(s,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?On(s,c):(typeof c=="number"||typeof c=="bigint")&&On(s,""+c);break;case"onScroll":c!=null&&Nt("scroll",s);break;case"onScrollEnd":c!=null&&Nt("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Vh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!La.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),p=s[Te]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,m),typeof c=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,m);break t}l in s?s[l]=c:c===!0?s.setAttribute(l,""):Ds(s,l,c)}}}function $e(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",s),Nt("load",s);var c=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var T=l[p];if(T!=null)switch(p){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ee(s,a,p,T,l,null)}}m&&ee(s,a,"srcSet",l.srcSet,l,null),c&&ee(s,a,"src",l.src,l,null);return;case"input":Nt("invalid",s);var w=p=T=m=null,k=null,q=null;for(c in l)if(l.hasOwnProperty(c)){var Z=l[c];if(Z!=null)switch(c){case"name":m=Z;break;case"type":T=Z;break;case"checked":k=Z;break;case"defaultChecked":q=Z;break;case"value":p=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:ee(s,a,c,Z,l,null)}}Ur(s,p,w,k,q,T,m,!1),ja(s);return;case"select":Nt("invalid",s),c=T=p=null;for(m in l)if(l.hasOwnProperty(m)&&(w=l[m],w!=null))switch(m){case"value":p=w;break;case"defaultValue":T=w;break;case"multiple":c=w;default:ee(s,a,m,w,l,null)}a=p,l=T,s.multiple=!!c,a!=null?Hi(s,!!c,a,!1):l!=null&&Hi(s,!!c,l,!0);return;case"textarea":Nt("invalid",s),p=m=c=null;for(T in l)if(l.hasOwnProperty(T)&&(w=l[T],w!=null))switch(T){case"value":c=w;break;case"defaultValue":m=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ee(s,a,T,w,l,null)}zr(s,c,m,p),ja(s);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(c=l[k],c!=null))switch(k){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ee(s,a,k,c,l,null)}return;case"dialog":Nt("beforetoggle",s),Nt("toggle",s),Nt("cancel",s),Nt("close",s);break;case"iframe":case"object":Nt("load",s);break;case"video":case"audio":for(c=0;c<ru.length;c++)Nt(ru[c],s);break;case"image":Nt("error",s),Nt("load",s);break;case"details":Nt("toggle",s);break;case"embed":case"source":case"link":Nt("error",s),Nt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(c=l[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ee(s,a,q,c,l,null)}return;default:if(Tl(a)){for(Z in l)l.hasOwnProperty(Z)&&(c=l[Z],c!==void 0&&_m(s,a,Z,c,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(c=l[w],c!=null&&ee(s,a,w,c,l,null))}function Zx(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,T=null,w=null,k=null,q=null,Z=null;for(K in l){var et=l[K];if(l.hasOwnProperty(K)&&et!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":k=et;default:c.hasOwnProperty(K)||ee(s,a,K,null,c,et)}}for(var Y in c){var K=c[Y];if(et=l[Y],c.hasOwnProperty(Y)&&(K!=null||et!=null))switch(Y){case"type":p=K;break;case"name":m=K;break;case"checked":q=K;break;case"defaultChecked":Z=K;break;case"value":T=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:K!==et&&ee(s,a,Y,K,c,et)}}bn(s,T,w,k,q,Z,p,m);return;case"select":K=T=w=Y=null;for(p in l)if(k=l[p],l.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":K=k;default:c.hasOwnProperty(p)||ee(s,a,p,null,c,k)}for(m in c)if(p=c[m],k=l[m],c.hasOwnProperty(m)&&(p!=null||k!=null))switch(m){case"value":Y=p;break;case"defaultValue":w=p;break;case"multiple":T=p;default:p!==k&&ee(s,a,m,p,c,k)}a=w,l=T,c=K,Y!=null?Hi(s,!!l,Y,!1):!!c!=!!l&&(a!=null?Hi(s,!!l,a,!0):Hi(s,!!l,l?[]:"",!1));return;case"textarea":K=Y=null;for(w in l)if(m=l[w],l.hasOwnProperty(w)&&m!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ee(s,a,w,null,c,m)}for(T in c)if(m=c[T],p=l[T],c.hasOwnProperty(T)&&(m!=null||p!=null))switch(T){case"value":Y=m;break;case"defaultValue":K=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==p&&ee(s,a,T,m,c,p)}Jt(s,Y,K);return;case"option":for(var St in l)if(Y=l[St],l.hasOwnProperty(St)&&Y!=null&&!c.hasOwnProperty(St))switch(St){case"selected":s.selected=!1;break;default:ee(s,a,St,null,c,Y)}for(k in c)if(Y=c[k],K=l[k],c.hasOwnProperty(k)&&Y!==K&&(Y!=null||K!=null))switch(k){case"selected":s.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:ee(s,a,k,Y,c,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in l)Y=l[vt],l.hasOwnProperty(vt)&&Y!=null&&!c.hasOwnProperty(vt)&&ee(s,a,vt,null,c,Y);for(q in c)if(Y=c[q],K=l[q],c.hasOwnProperty(q)&&Y!==K&&(Y!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,a));break;default:ee(s,a,q,Y,c,K)}return;default:if(Tl(a)){for(var ne in l)Y=l[ne],l.hasOwnProperty(ne)&&Y!==void 0&&!c.hasOwnProperty(ne)&&_m(s,a,ne,void 0,c,Y);for(Z in c)Y=c[Z],K=l[Z],!c.hasOwnProperty(Z)||Y===K||Y===void 0&&K===void 0||_m(s,a,Z,Y,c,K);return}}for(var B in l)Y=l[B],l.hasOwnProperty(B)&&Y!=null&&!c.hasOwnProperty(B)&&ee(s,a,B,null,c,Y);for(et in c)Y=c[et],K=l[et],!c.hasOwnProperty(et)||Y===K||Y==null&&K==null||ee(s,a,et,Y,c,K)}var vm=null,bm=null;function Lh(s){return s.nodeType===9?s:s.ownerDocument}function X0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Em(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Tm=null;function Jx(){var s=window.event;return s&&s.type==="popstate"?s===Tm?!1:(Tm=s,!0):(Tm=null,!1)}var J0=typeof setTimeout=="function"?setTimeout:void 0,tR=typeof clearTimeout=="function"?clearTimeout:void 0,tb=typeof Promise=="function"?Promise:void 0,eR=typeof queueMicrotask=="function"?queueMicrotask:typeof tb<"u"?function(s){return tb.resolve(null).then(s).catch(nR)}:J0;function nR(s){setTimeout(function(){throw s})}function $s(s){return s==="head"}function eb(s,a){var l=a,c=0,m=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<c&&8>c){l=c;var T=s.ownerDocument;if(l&1&&ou(T.documentElement),l&2&&ou(T.body),l&4)for(l=T.head,ou(l),T=l.firstChild;T;){var w=T.nextSibling,k=T.nodeName;T[Nr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=w}}if(m===0){s.removeChild(p),mu(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=p}while(l);mu(a)}function Sm(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Sm(l),Is(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function iR(s,a,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Nr])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=ti(s.nextSibling),s===null)break}return null}function sR(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ti(s.nextSibling),s===null))return null;return s}function wm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function rR(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function ti(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Am=null;function nb(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function ib(s,a,l){switch(a=Lh(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function ou(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Is(s)}var jn=new Map,sb=new Set;function Uh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var os=lt.d;lt.d={f:aR,r:oR,D:lR,C:uR,L:cR,m:hR,X:dR,S:fR,M:gR};function aR(){var s=os.f(),a=Ih();return s||a}function oR(s){var a=ci(s);a!==null&&a.tag===5&&a.type==="form"?wv(a):os.r(s)}var So=typeof document>"u"?null:document;function rb(s,a,l){var c=So;if(c&&typeof a=="string"&&a){var m=Se(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),sb.has(m)||(sb.add(m),s={rel:s,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),$e(a,"link",s),ye(a),c.head.appendChild(a)))}}function lR(s){os.D(s),rb("dns-prefetch",s,null)}function uR(s,a){os.C(s,a),rb("preconnect",s,a)}function cR(s,a,l){os.L(s,a,l);var c=So;if(c&&s&&a){var m='link[rel="preload"][as="'+Se(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Se(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Se(l.imageSizes)+'"]')):m+='[href="'+Se(s)+'"]';var p=m;switch(a){case"style":p=wo(s);break;case"script":p=Ao(s)}jn.has(p)||(s=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),jn.set(p,s),c.querySelector(m)!==null||a==="style"&&c.querySelector(lu(p))||a==="script"&&c.querySelector(uu(p))||(a=c.createElement("link"),$e(a,"link",s),ye(a),c.head.appendChild(a)))}}function hR(s,a){os.m(s,a);var l=So;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Se(c)+'"][href="'+Se(s)+'"]',p=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ao(s)}if(!jn.has(p)&&(s=y({rel:"modulepreload",href:s},a),jn.set(p,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(uu(p)))return}c=l.createElement("link"),$e(c,"link",s),ye(c),l.head.appendChild(c)}}}function fR(s,a,l){os.S(s,a,l);var c=So;if(c&&s){var m=ln(c).hoistableStyles,p=wo(s);a=a||"default";var T=m.get(p);if(!T){var w={loading:0,preload:null};if(T=c.querySelector(lu(p)))w.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},l),(l=jn.get(p))&&xm(s,l);var k=T=c.createElement("link");ye(k),$e(k,"link",s),k._p=new Promise(function(q,Z){k.onload=q,k.onerror=Z}),k.addEventListener("load",function(){w.loading|=1}),k.addEventListener("error",function(){w.loading|=2}),w.loading|=4,zh(T,a,c)}T={type:"stylesheet",instance:T,count:1,state:w},m.set(p,T)}}}function dR(s,a){os.X(s,a);var l=So;if(l&&s){var c=ln(l).hoistableScripts,m=Ao(s),p=c.get(m);p||(p=l.querySelector(uu(m)),p||(s=y({src:s,async:!0},a),(a=jn.get(m))&&Rm(s,a),p=l.createElement("script"),ye(p),$e(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function gR(s,a){os.M(s,a);var l=So;if(l&&s){var c=ln(l).hoistableScripts,m=Ao(s),p=c.get(m);p||(p=l.querySelector(uu(m)),p||(s=y({src:s,async:!0,type:"module"},a),(a=jn.get(m))&&Rm(s,a),p=l.createElement("script"),ye(p),$e(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function ab(s,a,l,c){var m=(m=yt.current)?Uh(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=wo(l.href),l=ln(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=wo(l.href);var p=ln(m).hoistableStyles,T=p.get(s);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,T),(p=m.querySelector(lu(s)))&&!p._p&&(T.instance=p,T.state.loading=5),jn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},jn.set(s,l),p||mR(m,s,l,T.state))),a&&c===null)throw Error(i(528,""));return T}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ao(l),l=ln(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function wo(s){return'href="'+Se(s)+'"'}function lu(s){return'link[rel="stylesheet"]['+s+"]"}function ob(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function mR(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),$e(a,"link",l),ye(a),s.head.appendChild(a))}function Ao(s){return'[src="'+Se(s)+'"]'}function uu(s){return"script[async]"+s}function lb(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+Se(l.href)+'"]');if(c)return a.instance=c,ye(c),c;var m=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),ye(c),$e(c,"style",m),zh(c,l.precedence,s),a.instance=c;case"stylesheet":m=wo(l.href);var p=s.querySelector(lu(m));if(p)return a.state.loading|=4,a.instance=p,ye(p),p;c=ob(l),(m=jn.get(m))&&xm(c,m),p=(s.ownerDocument||s).createElement("link"),ye(p);var T=p;return T._p=new Promise(function(w,k){T.onload=w,T.onerror=k}),$e(p,"link",c),a.state.loading|=4,zh(p,l.precedence,s),a.instance=p;case"script":return p=Ao(l.src),(m=s.querySelector(uu(p)))?(a.instance=m,ye(m),m):(c=l,(m=jn.get(p))&&(c=y({},l),Rm(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),ye(m),$e(m,"link",c),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,zh(c,l.precedence,s));return a.instance}function zh(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,p=m,T=0;T<c.length;T++){var w=c[T];if(w.dataset.precedence===a)p=w;else if(p!==m)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function xm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Rm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Bh=null;function ub(s,a,l){if(Bh===null){var c=new Map,m=Bh=new Map;m.set(l,c)}else m=Bh,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var p=l[m];if(!(p[Nr]||p[Ce]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(a)||"";T=s+T;var w=c.get(T);w?w.push(p):c.set(T,[p])}}return c}function cb(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function pR(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function hb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var cu=null;function yR(){}function _R(s,a,l){if(cu===null)throw Error(i(475));var c=cu;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=wo(l.href),p=s.querySelector(lu(m));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=jh.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=p,ye(p);return}p=s.ownerDocument||s,l=ob(l),(m=jn.get(m))&&xm(l,m),p=p.createElement("link"),ye(p);var T=p;T._p=new Promise(function(w,k){T.onload=w,T.onerror=k}),$e(p,"link",l),a.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=jh.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function vR(){if(cu===null)throw Error(i(475));var s=cu;return s.stylesheets&&s.count===0&&Cm(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Cm(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function jh(){if(this.count--,this.count===0){if(this.stylesheets)Cm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Hh=null;function Cm(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Hh=new Map,a.forEach(bR,s),Hh=null,jh.call(s))}function bR(s,a){if(!(a.state.loading&4)){var l=Hh.get(s);if(l)var c=l.get(null);else{l=new Map,Hh.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var T=m[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}m=a.instance,T=m.getAttribute("data-precedence"),p=l.get(T)||c,p===c&&l.set(null,m),l.set(T,m),this.count++,c=jh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),p?p.parentNode.insertBefore(m,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var hu={$$typeof:H,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function ER(s,a,l,c,m,p,T,w){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function fb(s,a,l,c,m,p,T,w,k,q,Z,et){return s=new ER(s,a,l,T,w,k,q,et),a=1,p===!0&&(a|=24),p=Tn(3,null,null,a),s.current=p,p.stateNode=s,a=ug(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:c,isDehydrated:l,cache:a},dg(p),s}function db(s){return s?(s=eo,s):eo}function gb(s,a,l,c,m,p){m=db(m),c.context===null?c.context=m:c.pendingContext=m,c=Ps(a),c.payload={element:l},p=p===void 0?null:p,p!==null&&(c.callback=p),l=Vs(s,c,a),l!==null&&(Rn(l,s,a),jl(l,s,a))}function mb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Im(s,a){mb(s,a),(s=s.alternate)&&mb(s,a)}function pb(s){if(s.tag===13){var a=to(s,67108864);a!==null&&Rn(a,s,67108864),Im(s,67108864)}}var Fh=!0;function TR(s,a,l,c){var m=$.T;$.T=null;var p=lt.p;try{lt.p=2,Dm(s,a,l,c)}finally{lt.p=p,$.T=m}}function SR(s,a,l,c){var m=$.T;$.T=null;var p=lt.p;try{lt.p=8,Dm(s,a,l,c)}finally{lt.p=p,$.T=m}}function Dm(s,a,l,c){if(Fh){var m=Om(c);if(m===null)ym(s,a,c,qh,l),_b(s,c);else if(AR(m,s,a,l,c))c.stopPropagation();else if(_b(s,c),a&4&&-1<wR.indexOf(s)){for(;m!==null;){var p=ci(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Qn(p.pendingLanes);if(T!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var k=1<<31-Ze(T);w.entanglements[1]|=k,T&=~k}wi(p),(Qt&6)===0&&(Rh=In()+500,su(0))}}break;case 13:w=to(p,2),w!==null&&Rn(w,p,2),Ih(),Im(p,2)}if(p=Om(c),p===null&&ym(s,a,c,qh,l),p===m)break;m=p}m!==null&&c.stopPropagation()}else ym(s,a,c,null,l)}}function Om(s){return s=Mn(s),Mm(s)}var qh=null;function Mm(s){if(qh=null,s=zi(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=u(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return qh=s,null}function yb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pd()){case ul:return 2;case ka:return 8;case Ir:case Vd:return 32;case Na:return 268435456;default:return 32}default:return 32}}var km=!1,Qs=null,Ws=null,Xs=null,fu=new Map,du=new Map,Zs=[],wR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _b(s,a){switch(s){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":fu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(a.pointerId)}}function gu(s,a,l,c,m,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[m]},a!==null&&(a=ci(a),a!==null&&pb(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function AR(s,a,l,c,m){switch(a){case"focusin":return Qs=gu(Qs,s,a,l,c,m),!0;case"dragenter":return Ws=gu(Ws,s,a,l,c,m),!0;case"mouseover":return Xs=gu(Xs,s,a,l,c,m),!0;case"pointerover":var p=m.pointerId;return fu.set(p,gu(fu.get(p)||null,s,a,l,c,m)),!0;case"gotpointercapture":return p=m.pointerId,du.set(p,gu(du.get(p)||null,s,a,l,c,m)),!0}return!1}function vb(s){var a=zi(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){s.blockedOn=a,Ic(s.priority,function(){if(l.tag===13){var c=xn();c=xs(c);var m=to(l,c);m!==null&&Rn(m,l,c),Im(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Gh(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Om(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Fi=c,l.target.dispatchEvent(c),Fi=null}else return a=ci(l),a!==null&&pb(a),s.blockedOn=l,!1;a.shift()}return!0}function bb(s,a,l){Gh(s)&&l.delete(a)}function xR(){km=!1,Qs!==null&&Gh(Qs)&&(Qs=null),Ws!==null&&Gh(Ws)&&(Ws=null),Xs!==null&&Gh(Xs)&&(Xs=null),fu.forEach(bb),du.forEach(bb)}function Yh(s,a){s.blockedOn===a&&(s.blockedOn=null,km||(km=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,xR)))}var Kh=null;function Eb(s){Kh!==s&&(Kh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Kh===s&&(Kh=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],m=s[a+2];if(typeof c!="function"){if(Mm(c||l)===null)continue;break}var p=ci(l);p!==null&&(s.splice(a,3),a-=3,Mg(p,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function mu(s){function a(k){return Yh(k,s)}Qs!==null&&Yh(Qs,s),Ws!==null&&Yh(Ws,s),Xs!==null&&Yh(Xs,s),fu.forEach(a),du.forEach(a);for(var l=0;l<Zs.length;l++){var c=Zs[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Zs.length&&(l=Zs[0],l.blockedOn===null);)vb(l),l.blockedOn===null&&Zs.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],p=l[c+1],T=m[Te]||null;if(typeof p=="function")T||Eb(l);else if(T){var w=null;if(p&&p.hasAttribute("formAction")){if(m=p,T=p[Te]||null)w=T.formAction;else if(Mm(m)!==null)continue}else w=T.action;typeof w=="function"?l[c+1]=w:(l.splice(c,3),c-=3),Eb(l)}}}function Nm(s){this._internalRoot=s}$h.prototype.render=Nm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=xn();gb(l,c,s,a,null,null)},$h.prototype.unmount=Nm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;gb(s.current,2,null,s,null,null),Ih(),a[Dn]=null}};function $h(s){this._internalRoot=s}$h.prototype.unstable_scheduleHydration=function(s){if(s){var a=Rs();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Zs.length&&a!==0&&a<Zs[l].priority;l++);Zs.splice(l,0,s),l===0&&vb(s)}};var Tb=t.version;if(Tb!=="19.1.0")throw Error(i(527,Tb,"19.1.0"));lt.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var RR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{ge=Qh.inject(RR),$t=Qh}catch{}}return yu.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,c="",m=Uv,p=zv,T=Bv,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks)),a=fb(s,1,!1,null,null,l,c,m,p,T,w,null),s[Dn]=a.current,pm(s),new Nm(a)},yu.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var c=!1,m="",p=Uv,T=zv,w=Bv,k=null,q=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks),l.formState!==void 0&&(q=l.formState)),a=fb(s,1,!0,a,l??null,c,m,p,T,w,k,q),a.context=db(null),l=a.current,c=xn(),c=xs(c),m=Ps(c),m.callback=null,Vs(l,m,c),l=c,a.current.lanes=l,Ui(a,l),wi(a),s[Dn]=a.current,pm(s),new $h(a)},yu.version="19.1.0",yu}var Mb;function zR(){if(Mb)return Lm.exports;Mb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Lm.exports=UR(),Lm.exports}var BR=zR();const jR=RS(BR);var _u={},kb;function HR(){if(kb)return _u;kb=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.parse=u,_u.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,S){const A=new o,I=b.length;if(I<2)return A;const C=(S==null?void 0:S.decode)||y;let V=0;do{const G=b.indexOf("=",V);if(G===-1)break;const H=b.indexOf(";",V),J=H===-1?I:H;if(G>J){V=b.lastIndexOf(";",G-1)+1;continue}const Q=h(b,V,G),at=f(b,G,Q),O=b.slice(Q,at);if(A[O]===void 0){let R=h(b,G+1,J),D=f(b,J,R);const N=C(b.slice(R,D));A[O]=N}V=J+1}while(V<I);return A}function h(b,S,A){do{const I=b.charCodeAt(S);if(I!==32&&I!==9)return S}while(++S<A);return A}function f(b,S,A){for(;S>A;){const I=b.charCodeAt(--S);if(I!==32&&I!==9)return S+1}return A}function g(b,S,A){const I=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const C=I(S);if(!t.test(C))throw new TypeError(`argument val is invalid: ${S}`);let V=b+"="+C;if(!A)return V;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);V+="; Max-Age="+A.maxAge}if(A.domain){if(!e.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);V+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);V+="; Path="+A.path}if(A.expires){if(!v(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);V+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(V+="; HttpOnly"),A.secure&&(V+="; Secure"),A.partitioned&&(V+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return V}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return r.call(b)==="[object Date]"}return _u}HR();var Nb="popstate";function FR(n={}){function t(i,r){let{pathname:o,search:u,hash:h}=i.location;return up("",{pathname:o,search:u,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:Qu(r)}return GR(t,e,null,n)}function he(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function si(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qR(){return Math.random().toString(36).substring(2,10)}function Pb(n,t){return{usr:n.state,key:n.key,idx:t}}function up(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Qo(t):t,state:e,key:t&&t.key||i||qR()}}function Qu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Qo(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function GR(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,u=r.history,h="POP",f=null,g=y();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let C=y(),V=C==null?null:C-g;g=C,f&&f({action:h,location:I.location,delta:V})}function b(C,V){h="PUSH";let G=up(I.location,C,V);g=y()+1;let H=Pb(G,g),J=I.createHref(G);try{u.pushState(H,"",J)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;r.location.assign(J)}o&&f&&f({action:h,location:I.location,delta:1})}function S(C,V){h="REPLACE";let G=up(I.location,C,V);g=y();let H=Pb(G,g),J=I.createHref(G);u.replaceState(H,"",J),o&&f&&f({action:h,location:I.location,delta:0})}function A(C){return YR(C)}let I={get action(){return h},get location(){return n(r,u)},listen(C){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(Nb,v),f=C,()=>{r.removeEventListener(Nb,v),f=null}},createHref(C){return t(r,C)},createURL:A,encodeLocation(C){let V=A(C);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:b,replace:S,go(C){return u.go(C)}};return I}function YR(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),he(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Qu(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function CS(n,t,e="/"){return KR(n,t,e,!1)}function KR(n,t,e,i){let r=typeof t=="string"?Qo(t):t,o=_s(r.pathname||"/",e);if(o==null)return null;let u=IS(n);$R(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let g=rC(o);h=iC(u[f],g,i)}return h}function IS(n,t=[],e=[],i=""){let r=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(he(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let g=gs([i,f.relativePath]),y=e.concat(f);o.children&&o.children.length>0&&(he(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),IS(o.children,t,y,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:eC(g,o.index),routesMeta:y})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))r(o,u);else for(let f of DS(o.path))r(o,u,f)}),t}function DS(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let u=DS(i.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function $R(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:nC(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var QR=/^:[\w-]+$/,WR=3,XR=2,ZR=1,JR=10,tC=-2,Vb=n=>n==="*";function eC(n,t){let e=n.split("/"),i=e.length;return e.some(Vb)&&(i+=tC),t&&(i+=XR),e.filter(r=>!Vb(r)).reduce((r,o)=>r+(QR.test(o)?WR:o===""?ZR:JR),i)}function nC(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function iC(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,y=o==="/"?t:t.slice(o.length)||"/",v=Nf({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},y),b=f.route;if(!v&&g&&e&&!i[i.length-1].route.index&&(v=Nf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!v)return null;Object.assign(r,v.params),u.push({params:r,pathname:gs([o,v.pathname]),pathnameBase:uC(gs([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=gs([o,v.pathnameBase]))}return u}function Nf(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=sC(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],u=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((g,{paramName:y,isOptional:v},b)=>{if(y==="*"){let A=h[b]||"";u=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const S=h[b];return v&&!S?g[y]=void 0:g[y]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:n}}function sC(n,t=!1,e=!0){si(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function rC(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return si(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function _s(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function aC(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Qo(n):n;return{pathname:e?e.startsWith("/")?e:oC(e,t):t,search:cC(i),hash:hC(r)}}function oC(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function jm(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lC(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Qp(n){let t=lC(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Wp(n,t,e,i=!1){let r;typeof n=="string"?r=Qo(n):(r={...n},he(!r.pathname||!r.pathname.includes("?"),jm("?","pathname","search",r)),he(!r.pathname||!r.pathname.includes("#"),jm("#","pathname","hash",r)),he(!r.search||!r.search.includes("#"),jm("#","search","hash",r)));let o=n===""||r.pathname==="",u=o?"/":r.pathname,h;if(u==null)h=e;else{let v=t.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;r.pathname=b.join("/")}h=v>=0?t[v]:"/"}let f=aC(r,h),g=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(g||y)&&(f.pathname+="/"),f}var gs=n=>n.join("/").replace(/\/\/+/g,"/"),uC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),cC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,hC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function fC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var OS=["POST","PUT","PATCH","DELETE"];new Set(OS);var dC=["GET",...OS];new Set(dC);var Wo=W.createContext(null);Wo.displayName="DataRouter";var ud=W.createContext(null);ud.displayName="DataRouterState";var MS=W.createContext({isTransitioning:!1});MS.displayName="ViewTransition";var gC=W.createContext(new Map);gC.displayName="Fetchers";var mC=W.createContext(null);mC.displayName="Await";var oi=W.createContext(null);oi.displayName="Navigation";var fc=W.createContext(null);fc.displayName="Location";var Pi=W.createContext({outlet:null,matches:[],isDataRoute:!1});Pi.displayName="Route";var Xp=W.createContext(null);Xp.displayName="RouteError";function pC(n,{relative:t}={}){he(Xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=W.useContext(oi),{hash:r,pathname:o,search:u}=dc(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:gs([e,o])),i.createHref({pathname:h,search:u,hash:r})}function Xo(){return W.useContext(fc)!=null}function Tr(){return he(Xo(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(fc).location}var kS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NS(n){W.useContext(oi).static||W.useLayoutEffect(n)}function Zo(){let{isDataRoute:n}=W.useContext(Pi);return n?IC():yC()}function yC(){he(Xo(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(Wo),{basename:t,navigator:e}=W.useContext(oi),{matches:i}=W.useContext(Pi),{pathname:r}=Tr(),o=JSON.stringify(Qp(i)),u=W.useRef(!1);return NS(()=>{u.current=!0}),W.useCallback((f,g={})=>{if(si(u.current,kS),!u.current)return;if(typeof f=="number"){e.go(f);return}let y=Wp(f,JSON.parse(o),r,g.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:gs([t,y.pathname])),(g.replace?e.replace:e.push)(y,g.state,g)},[t,e,o,r,n])}W.createContext(null);function dc(n,{relative:t}={}){let{matches:e}=W.useContext(Pi),{pathname:i}=Tr(),r=JSON.stringify(Qp(e));return W.useMemo(()=>Wp(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function _C(n,t){return PS(n,t)}function PS(n,t,e,i){var G;he(Xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:o}=W.useContext(oi),{matches:u}=W.useContext(Pi),h=u[u.length-1],f=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let H=v&&v.path||"";VS(g,!v||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let b=Tr(),S;if(t){let H=typeof t=="string"?Qo(t):t;he(y==="/"||((G=H.pathname)==null?void 0:G.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),S=H}else S=b;let A=S.pathname||"/",I=A;if(y!=="/"){let H=y.replace(/^\//,"").split("/");I="/"+A.replace(/^\//,"").split("/").slice(H.length).join("/")}let C=!o&&e&&e.matches&&e.matches.length>0?e.matches:CS(n,{pathname:I});si(v||C!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),si(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=SC(C&&C.map(H=>Object.assign({},H,{params:Object.assign({},f,H.params),pathname:gs([y,r.encodeLocation?r.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:gs([y,r.encodeLocation?r.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),u,e,i);return t&&V?W.createElement(fc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},V):V}function vC(){let n=CC(),t=fC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},t),e?W.createElement("pre",{style:r},e):null,u)}var bC=W.createElement(vC,null),EC=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?W.createElement(Pi.Provider,{value:this.props.routeContext},W.createElement(Xp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TC({routeContext:n,match:t,children:e}){let i=W.useContext(Wo);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),W.createElement(Pi.Provider,{value:n},e)}function SC(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,o=e==null?void 0:e.errors;if(o!=null){let f=r.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);he(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let u=!1,h=-1;if(e)for(let f=0;f<r.length;f++){let g=r[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:y,errors:v}=e,b=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||b){u=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((f,g,y)=>{let v,b=!1,S=null,A=null;e&&(v=o&&g.route.id?o[g.route.id]:void 0,S=g.route.errorElement||bC,u&&(h<0&&y===0?(VS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,A=null):h===y&&(b=!0,A=g.route.hydrateFallbackElement||null)));let I=t.concat(r.slice(0,y+1)),C=()=>{let V;return v?V=S:b?V=A:g.route.Component?V=W.createElement(g.route.Component,null):g.route.element?V=g.route.element:V=f,W.createElement(TC,{match:g,routeContext:{outlet:f,matches:I,isDataRoute:e!=null},children:V})};return e&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?W.createElement(EC,{location:e.location,revalidation:e.revalidation,component:S,error:v,children:C(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):C()},null)}function Zp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wC(n){let t=W.useContext(Wo);return he(t,Zp(n)),t}function AC(n){let t=W.useContext(ud);return he(t,Zp(n)),t}function xC(n){let t=W.useContext(Pi);return he(t,Zp(n)),t}function Jp(n){let t=xC(n),e=t.matches[t.matches.length-1];return he(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function RC(){return Jp("useRouteId")}function CC(){var i;let n=W.useContext(Xp),t=AC("useRouteError"),e=Jp("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function IC(){let{router:n}=wC("useNavigate"),t=Jp("useNavigate"),e=W.useRef(!1);return NS(()=>{e.current=!0}),W.useCallback(async(r,o={})=>{si(e.current,kS),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var Lb={};function VS(n,t,e){!t&&!Lb[n]&&(Lb[n]=!0,si(!1,e))}W.memo(DC);function DC({routes:n,future:t,state:e}){return PS(n,void 0,e,t)}function vu({to:n,replace:t,state:e,relative:i}){he(Xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=W.useContext(oi);si(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=W.useContext(Pi),{pathname:u}=Tr(),h=Zo(),f=Wp(n,Qp(o),u,i==="path"),g=JSON.stringify(f);return W.useEffect(()=>{h(JSON.parse(g),{replace:t,state:e,relative:i})},[h,g,i,t,e]),null}function Ro(n){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OC({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){he(!Xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:u,navigator:r,static:o,future:{}}),[u,r,o]);typeof e=="string"&&(e=Qo(e));let{pathname:f="/",search:g="",hash:y="",state:v=null,key:b="default"}=e,S=W.useMemo(()=>{let A=_s(f,u);return A==null?null:{location:{pathname:A,search:g,hash:y,state:v,key:b},navigationType:i}},[u,f,g,y,v,b,i]);return si(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:W.createElement(oi.Provider,{value:h},W.createElement(fc.Provider,{children:t,value:S}))}function MC({children:n,location:t}){return _C(cp(n),t)}function cp(n,t=[]){let e=[];return W.Children.forEach(n,(i,r)=>{if(!W.isValidElement(i))return;let o=[...t,r];if(i.type===W.Fragment){e.push.apply(e,cp(i.props.children,o));return}he(i.type===Ro,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=cp(i.props.children,o)),e.push(u)}),e}var _f="get",vf="application/x-www-form-urlencoded";function cd(n){return n!=null&&typeof n.tagName=="string"}function kC(n){return cd(n)&&n.tagName.toLowerCase()==="button"}function NC(n){return cd(n)&&n.tagName.toLowerCase()==="form"}function PC(n){return cd(n)&&n.tagName.toLowerCase()==="input"}function VC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function LC(n,t){return n.button===0&&(!t||t==="_self")&&!VC(n)}var Wh=null;function UC(){if(Wh===null)try{new FormData(document.createElement("form"),0),Wh=!1}catch{Wh=!0}return Wh}var zC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(n){return n!=null&&!zC.has(n)?(si(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vf}"`),null):n}function BC(n,t){let e,i,r,o,u;if(NC(n)){let h=n.getAttribute("action");i=h?_s(h,t):null,e=n.getAttribute("method")||_f,r=Hm(n.getAttribute("enctype"))||vf,o=new FormData(n)}else if(kC(n)||PC(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?_s(f,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||_f,r=Hm(n.getAttribute("formenctype"))||Hm(h.getAttribute("enctype"))||vf,o=new FormData(h,n),!UC()){let{name:g,type:y,value:v}=n;if(y==="image"){let b=g?`${g}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else g&&o.append(g,v)}}else{if(cd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=_f,i=null,r=vf,u=n}return o&&r==="text/plain"&&(u=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:u}}function ty(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function jC(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function FC(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let u=await jC(o,e);return u.links?u.links():[]}return[]}));return KC(i.flat(1).filter(HC).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Ub(n,t,e,i,r,o){let u=(f,g)=>e[g]?f.route.id!==e[g].route.id:!0,h=(f,g)=>{var y;return e[g].pathname!==f.pathname||((y=e[g].route.path)==null?void 0:y.endsWith("*"))&&e[g].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,g)=>u(f,g)||h(f,g)):o==="data"?t.filter((f,g)=>{var v;let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=e[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function qC(n,t,{includeHydrateFallback:e}={}){return GC(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function GC(n){return[...new Set(n)]}function YC(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function KC(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(YC(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $C=new Set([100,101,204,205]);function QC(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&_s(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function LS(){let n=W.useContext(Wo);return ty(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function WC(){let n=W.useContext(ud);return ty(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ey=W.createContext(void 0);ey.displayName="FrameworkContext";function US(){let n=W.useContext(ey);return ty(n,"You must render this element inside a <HydratedRouter> element"),n}function XC(n,t){let e=W.useContext(ey),[i,r]=W.useState(!1),[o,u]=W.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:y,onTouchStart:v}=t,b=W.useRef(null);W.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let I=V=>{V.forEach(G=>{u(G.isIntersecting)})},C=new IntersectionObserver(I,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[n]),W.useEffect(()=>{if(i){let I=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(I)}}},[i]);let S=()=>{r(!0)},A=()=>{r(!1),u(!1)};return e?n!=="intent"?[o,b,{}]:[o,b,{onFocus:bu(h,S),onBlur:bu(f,A),onMouseEnter:bu(g,S),onMouseLeave:bu(y,A),onTouchStart:bu(v,S)}]:[!1,b,{}]}function bu(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function ZC({page:n,...t}){let{router:e}=LS(),i=W.useMemo(()=>CS(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?W.createElement(tI,{page:n,matches:i,...t}):null}function JC(n){let{manifest:t,routeModules:e}=US(),[i,r]=W.useState([]);return W.useEffect(()=>{let o=!1;return FC(n,t,e).then(u=>{o||r(u)}),()=>{o=!0}},[n,t,e]),i}function tI({page:n,matches:t,...e}){let i=Tr(),{manifest:r,routeModules:o}=US(),{basename:u}=LS(),{loaderData:h,matches:f}=WC(),g=W.useMemo(()=>Ub(n,t,f,r,i,"data"),[n,t,f,r,i]),y=W.useMemo(()=>Ub(n,t,f,r,i,"assets"),[n,t,f,r,i]),v=W.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,I=!1;if(t.forEach(V=>{var H;let G=r.routes[V.route.id];!G||!G.hasLoader||(!g.some(J=>J.route.id===V.route.id)&&V.route.id in h&&((H=o[V.route.id])!=null&&H.shouldRevalidate)||G.hasClientLoader?I=!0:A.add(V.route.id))}),A.size===0)return[];let C=QC(n,u);return I&&A.size>0&&C.searchParams.set("_routes",t.filter(V=>A.has(V.route.id)).map(V=>V.route.id).join(",")),[C.pathname+C.search]},[u,h,i,r,g,t,n,o]),b=W.useMemo(()=>qC(y,r),[y,r]),S=JC(y);return W.createElement(W.Fragment,null,v.map(A=>W.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...e})),b.map(A=>W.createElement("link",{key:A,rel:"modulepreload",href:A,...e})),S.map(({key:A,link:I})=>W.createElement("link",{key:A,...I})))}function eI(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var zS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zS&&(window.__reactRouterVersion="7.6.0")}catch{}function nI({basename:n,children:t,window:e}){let i=W.useRef();i.current==null&&(i.current=FR({window:e,v5Compat:!0}));let r=i.current,[o,u]=W.useState({action:r.action,location:r.location}),h=W.useCallback(f=>{W.startTransition(()=>u(f))},[u]);return W.useLayoutEffect(()=>r.listen(h),[r,h]),W.createElement(OC,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var BS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hd=W.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:u,state:h,target:f,to:g,preventScrollReset:y,viewTransition:v,...b},S){let{basename:A}=W.useContext(oi),I=typeof g=="string"&&BS.test(g),C,V=!1;if(typeof g=="string"&&I&&(C=g,zS))try{let D=new URL(window.location.href),N=g.startsWith("//")?new URL(D.protocol+g):new URL(g),P=_s(N.pathname,A);N.origin===D.origin&&P!=null?g=P+N.search+N.hash:V=!0}catch{si(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=pC(g,{relative:r}),[H,J,Q]=XC(i,b),at=aI(g,{replace:u,state:h,target:f,preventScrollReset:y,relative:r,viewTransition:v});function O(D){t&&t(D),D.defaultPrevented||at(D)}let R=W.createElement("a",{...b,...Q,href:C||G,onClick:V||o?t:O,ref:eI(S,J),target:f,"data-discover":!I&&e==="render"?"true":void 0});return H&&!I?W.createElement(W.Fragment,null,R,W.createElement(ZC,{page:G})):R});hd.displayName="Link";var iI=W.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:u,viewTransition:h,children:f,...g},y){let v=dc(u,{relative:g.relative}),b=Tr(),S=W.useContext(ud),{navigator:A,basename:I}=W.useContext(oi),C=S!=null&&hI(v)&&h===!0,V=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,G=b.pathname,H=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;e||(G=G.toLowerCase(),H=H?H.toLowerCase():null,V=V.toLowerCase()),H&&I&&(H=_s(H,I)||H);const J=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let Q=G===V||!r&&G.startsWith(V)&&G.charAt(J)==="/",at=H!=null&&(H===V||!r&&H.startsWith(V)&&H.charAt(V.length)==="/"),O={isActive:Q,isPending:at,isTransitioning:C},R=Q?t:void 0,D;typeof i=="function"?D=i(O):D=[i,Q?"active":null,at?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(O):o;return W.createElement(hd,{...g,"aria-current":R,className:D,ref:y,style:N,to:u,viewTransition:h},typeof f=="function"?f(O):f)});iI.displayName="NavLink";var sI=W.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:u=_f,action:h,onSubmit:f,relative:g,preventScrollReset:y,viewTransition:v,...b},S)=>{let A=uI(),I=cI(h,{relative:g}),C=u.toLowerCase()==="get"?"get":"post",V=typeof h=="string"&&BS.test(h),G=H=>{if(f&&f(H),H.defaultPrevented)return;H.preventDefault();let J=H.nativeEvent.submitter,Q=(J==null?void 0:J.getAttribute("formmethod"))||u;A(J||H.currentTarget,{fetcherKey:t,method:Q,navigate:e,replace:r,state:o,relative:g,preventScrollReset:y,viewTransition:v})};return W.createElement("form",{ref:S,method:C,action:I,onSubmit:i?f:G,...b,"data-discover":!V&&n==="render"?"true":void 0})});sI.displayName="Form";function rI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jS(n){let t=W.useContext(Wo);return he(t,rI(n)),t}function aI(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:u}={}){let h=Zo(),f=Tr(),g=dc(n,{relative:o});return W.useCallback(y=>{if(LC(y,t)){y.preventDefault();let v=e!==void 0?e:Qu(f)===Qu(g);h(n,{replace:v,state:i,preventScrollReset:r,relative:o,viewTransition:u})}},[f,h,g,e,i,t,n,r,o,u])}var oI=0,lI=()=>`__${String(++oI)}__`;function uI(){let{router:n}=jS("useSubmit"),{basename:t}=W.useContext(oi),e=RC();return W.useCallback(async(i,r={})=>{let{action:o,method:u,encType:h,formData:f,body:g}=BC(i,t);if(r.navigate===!1){let y=r.fetcherKey||lI();await n.fetch(y,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||h,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function cI(n,{relative:t}={}){let{basename:e}=W.useContext(oi),i=W.useContext(Pi);he(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...dc(n||".",{relative:t})},u=Tr();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:gs([e,o.pathname])),Qu(o)}function hI(n,t={}){let e=W.useContext(MS);he(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=jS("useViewTransitionState"),r=dc(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=_s(e.currentLocation.pathname,i)||e.currentLocation.pathname,u=_s(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Nf(r.pathname,u)!=null||Nf(r.pathname,o)!=null}[...$C];/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=()=>{};var zb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},dI=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],u=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],u=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|u&63)}}return t.join("")},FS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],u=r+1<n.length,h=u?n[r+1]:0,f=r+2<n.length,g=f?n[r+2]:0,y=o>>2,v=(o&3)<<4|h>>4;let b=(h&15)<<2|g>>6,S=g&63;f||(S=64,u||(b=64)),i.push(e[y],e[v],e[b],e[S])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(HS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):dI(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const g=r<n.length?e[n.charAt(r)]:64;++r;const v=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||g==null||v==null)throw new gI;const b=o<<2|h>>4;if(i.push(b),g!==64){const S=h<<4&240|g>>2;if(i.push(S),v!==64){const A=g<<6&192|v;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class gI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mI=function(n){const t=HS(n);return FS.encodeByteArray(t,!0)},Pf=function(n){return mI(n).replace(/\./g,"")},qS=function(n){try{return FS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=()=>pI().__FIREBASE_DEFAULTS__,_I=()=>{if(typeof process>"u"||typeof zb>"u")return;const n=zb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&qS(n[1]);return t&&JSON.parse(t)},fd=()=>{try{return fI()||yI()||_I()||vI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},GS=n=>{var t,e;return(e=(t=fd())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},bI=n=>{const t=GS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},YS=()=>{var n;return(n=fd())===null||n===void 0?void 0:n.config},KS=n=>{var t;return(t=fd())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(n){return n.endsWith(".cloudworkstations.dev")}async function $S(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Pf(JSON.stringify(e)),Pf(JSON.stringify(u)),""].join(".")}const Lu={};function SI(){const n={prod:[],emulator:[]};for(const t of Object.keys(Lu))Lu[t]?n.emulator.push(t):n.prod.push(t);return n}function wI(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Bb=!1;function dd(n,t){if(typeof window>"u"||typeof document>"u"||!gc(window.location.host)||Lu[n]===t||Lu[n]||Bb)return;Lu[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=SI().prod.length>0;function u(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,S){b.setAttribute("width","24"),b.setAttribute("id",S),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Bb=!0,u()},b}function y(b,S){b.setAttribute("id",S),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=wI(i),S=e("text"),A=document.getElementById(S)||document.createElement("span"),I=e("learnmore"),C=document.getElementById(I)||document.createElement("a"),V=e("preprendIcon"),G=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const H=b.element;h(H),y(C,I);const J=g();f(G,V),H.append(G,A,C,J),document.body.appendChild(H)}o?(A.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function xI(){var n;const t=(n=fd())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function II(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DI(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function OI(){return!xI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MI(){try{return typeof indexedDB=="object"}catch{return!1}}function kI(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="FirebaseError";class ws extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=NI,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],u=o?PI(o,i):"Error",h=`${this.serviceName}: ${u} (${r}).`;return new ws(r,h,i)}}function PI(n,t){return n.replace(VI,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const VI=/\{\$([^}]+)}/g;function LI(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function va(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],u=t[r];if(jb(o)&&jb(u)){if(!va(o,u))return!1}else if(o!==u)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function jb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function xu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function Ru(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function UI(n,t){const e=new zI(n,t);return e.subscribe.bind(e)}class zI{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");BI(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Fm),r.error===void 0&&(r.error=Fm),r.complete===void 0&&(r.complete=Fm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BI(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(n){return n&&n._delegate?n._delegate:n}class ba{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new EI;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FI(t))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=fa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fa){return this.instances.has(t)}getOptions(t=fa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:HI(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=fa){return this.component?this.component.multipleInstances?t:fa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HI(n){return n===fa?void 0:n}function FI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new jI(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Vt||(Vt={}));const GI={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},YI=Vt.INFO,KI={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},$I=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=KI[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ny{constructor(t){this.name=t,this._logLevel=YI,this._logHandler=$I,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const QI=(n,t)=>t.some(e=>n instanceof e);let Hb,Fb;function WI(){return Hb||(Hb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XI(){return Fb||(Fb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QS=new WeakMap,hp=new WeakMap,WS=new WeakMap,qm=new WeakMap,iy=new WeakMap;function ZI(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{e(ur(n.result)),r()},u=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&QS.set(e,n)}).catch(()=>{}),iy.set(t,n),t}function JI(n){if(hp.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{e(),r()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});hp.set(n,t)}let fp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return hp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||WS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ur(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function t2(n){fp=n(fp)}function e2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Gm(this),t,...e);return WS.set(i,t.sort?t.sort():[t]),ur(i)}:XI().includes(n)?function(...t){return n.apply(Gm(this),t),ur(QS.get(this))}:function(...t){return ur(n.apply(Gm(this),t))}}function n2(n){return typeof n=="function"?e2(n):(n instanceof IDBTransaction&&JI(n),QI(n,WI())?new Proxy(n,fp):n)}function ur(n){if(n instanceof IDBRequest)return ZI(n);if(qm.has(n))return qm.get(n);const t=n2(n);return t!==n&&(qm.set(n,t),iy.set(t,n)),t}const Gm=n=>iy.get(n);function i2(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const u=indexedDB.open(n,t),h=ur(u);return i&&u.addEventListener("upgradeneeded",f=>{i(ur(u.result),f.oldVersion,f.newVersion,ur(u.transaction),f)}),e&&u.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",g=>r(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const s2=["get","getKey","getAll","getAllKeys","count"],r2=["put","add","delete","clear"],Ym=new Map;function qb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Ym.get(t))return Ym.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=r2.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||s2.includes(e)))return;const o=async function(u,...h){const f=this.transaction(u,r?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),r&&f.done]))[0]};return Ym.set(t,o),o}t2(n=>({...n,get:(t,e,i)=>qb(t,e)||n.get(t,e,i),has:(t,e)=>!!qb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(o2(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function o2(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const dp="@firebase/app",Gb="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new ny("@firebase/app"),l2="@firebase/app-compat",u2="@firebase/analytics-compat",c2="@firebase/analytics",h2="@firebase/app-check-compat",f2="@firebase/app-check",d2="@firebase/auth",g2="@firebase/auth-compat",m2="@firebase/database",p2="@firebase/data-connect",y2="@firebase/database-compat",_2="@firebase/functions",v2="@firebase/functions-compat",b2="@firebase/installations",E2="@firebase/installations-compat",T2="@firebase/messaging",S2="@firebase/messaging-compat",w2="@firebase/performance",A2="@firebase/performance-compat",x2="@firebase/remote-config",R2="@firebase/remote-config-compat",C2="@firebase/storage",I2="@firebase/storage-compat",D2="@firebase/firestore",O2="@firebase/vertexai",M2="@firebase/firestore-compat",k2="firebase",N2="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="[DEFAULT]",P2={[dp]:"fire-core",[l2]:"fire-core-compat",[c2]:"fire-analytics",[u2]:"fire-analytics-compat",[f2]:"fire-app-check",[h2]:"fire-app-check-compat",[d2]:"fire-auth",[g2]:"fire-auth-compat",[m2]:"fire-rtdb",[p2]:"fire-data-connect",[y2]:"fire-rtdb-compat",[_2]:"fire-fn",[v2]:"fire-fn-compat",[b2]:"fire-iid",[E2]:"fire-iid-compat",[T2]:"fire-fcm",[S2]:"fire-fcm-compat",[w2]:"fire-perf",[A2]:"fire-perf-compat",[x2]:"fire-rc",[R2]:"fire-rc-compat",[C2]:"fire-gcs",[I2]:"fire-gcs-compat",[D2]:"fire-fst",[M2]:"fire-fst-compat",[O2]:"fire-vertex","fire-js":"fire-js",[k2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=new Map,V2=new Map,mp=new Map;function Yb(n,t){try{n.container.addComponent(t)}catch(e){vs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Uo(n){const t=n.name;if(mp.has(t))return vs.debug(`There were multiple attempts to register component ${t}.`),!1;mp.set(t,n);for(const e of Vf.values())Yb(e,n);for(const e of V2.values())Yb(e,n);return!0}function sy(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Fn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new mc("app","Firebase",L2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=N2;function XS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:gp,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw cr.create("bad-app-name",{appName:String(r)});if(e||(e=YS()),!e)throw cr.create("no-options");const o=Vf.get(r);if(o){if(va(e,o.options)&&va(i,o.config))return o;throw cr.create("duplicate-app",{appName:r})}const u=new qI(r);for(const f of mp.values())u.addComponent(f);const h=new U2(e,i,u);return Vf.set(r,h),h}function ZS(n=gp){const t=Vf.get(n);if(!t&&n===gp&&YS())return XS();if(!t)throw cr.create("no-app",{appName:n});return t}function hr(n,t,e){var i;let r=(i=P2[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vs.warn(h.join(" "));return}Uo(new ba(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="firebase-heartbeat-database",B2=1,Wu="firebase-heartbeat-store";let Km=null;function JS(){return Km||(Km=i2(z2,B2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Wu)}catch(e){console.warn(e)}}}}).catch(n=>{throw cr.create("idb-open",{originalErrorMessage:n.message})})),Km}async function j2(n){try{const e=(await JS()).transaction(Wu),i=await e.objectStore(Wu).get(tw(n));return await e.done,i}catch(t){if(t instanceof ws)vs.warn(t.message);else{const e=cr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});vs.warn(e.message)}}}async function Kb(n,t){try{const i=(await JS()).transaction(Wu,"readwrite");await i.objectStore(Wu).put(t,tw(n)),await i.done}catch(e){if(e instanceof ws)vs.warn(e.message);else{const i=cr.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});vs.warn(i.message)}}}function tw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=1024,F2=30;class q2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Y2(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$b();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>F2){const u=K2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){vs.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$b(),{heartbeatsToSend:i,unsentEntries:r}=G2(this._heartbeatsCache.heartbeats),o=Pf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vs.warn(e),""}}}function $b(){return new Date().toISOString().substring(0,10)}function G2(n,t=H2){const e=[];let i=n.slice();for(const r of n){const o=e.find(u=>u.agent===r.agent);if(o){if(o.dates.push(r.date),Qb(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Qb(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class Y2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MI()?kI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await j2(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return Kb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return Kb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Qb(n){return Pf(JSON.stringify({version:2,heartbeats:n})).length}function K2(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(n){Uo(new ba("platform-logger",t=>new a2(t),"PRIVATE")),Uo(new ba("heartbeat",t=>new q2(t),"PRIVATE")),hr(dp,Gb,n),hr(dp,Gb,"esm2017"),hr("fire-js","")}$2("");var Q2="firebase",W2="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(Q2,W2,"app");function ry(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function ew(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X2=ew,nw=new mc("auth","Firebase",ew());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=new ny("@firebase/auth");function Z2(n,...t){Lf.logLevel<=Vt.WARN&&Lf.warn(`Auth (${Jo}): ${n}`,...t)}function bf(n,...t){Lf.logLevel<=Vt.ERROR&&Lf.error(`Auth (${Jo}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(n,...t){throw ay(n,...t)}function Ii(n,...t){return ay(n,...t)}function iw(n,t,e){const i=Object.assign(Object.assign({},X2()),{[t]:e});return new mc("auth","Firebase",i).create(t,{appName:n.name})}function ms(n){return iw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ay(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return nw.create(n,...t)}function Et(n,t,...e){if(!n)throw ay(t,...e)}function fs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw bf(t),new Error(t)}function bs(n,t){n||fs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function J2(){return Wb()==="http:"||Wb()==="https:"}function Wb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J2()||CI()||"connection"in navigator)?navigator.onLine:!0}function eD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,e){this.shortDelay=t,this.longDelay=e,bs(e>t,"Short delay should be less than long delay!"),this.isMobile=AI()||II()}get(){return tD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(n,t){bs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sD=new yc(3e4,6e4);function Sr(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function wr(n,t,e,i,r={}){return rw(n,r,async()=>{let o={},u={};i&&(t==="GET"?u=i:o={body:JSON.stringify(i)});const h=pc(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:t,headers:f},o);return RI()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&gc(n.emulatorConfig.host)&&(g.credentials="include"),sw.fetch()(await aw(n,n.config.apiHost,e,h),g)})}async function rw(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},nD),t);try{const r=new aD(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Xh(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xh(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Xh(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Xh(n,"user-disabled",u);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw iw(n,y,g);ri(n,y)}}catch(r){if(r instanceof ws)throw r;ri(n,"network-request-failed",{message:String(r)})}}async function _c(n,t,e,i,r={}){const o=await wr(n,t,e,i,r);return"mfaPendingCredential"in o&&ri(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function aw(n,t,e,i){const r=`${t}${e}?${i}`,o=n,u=o.config.emulator?oy(n.config,r):`${n.config.apiScheme}://${r}`;return iD.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function rD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Ii(this.auth,"network-request-failed")),sD.get())})}}function Xh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Ii(n,t,i);return r.customData._tokenResponse=e,r}function Xb(n){return n!==void 0&&n.enterprise!==void 0}class oD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return rD(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lD(n,t){return wr(n,"GET","/v2/recaptchaConfig",Sr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(n,t){return wr(n,"POST","/v1/accounts:delete",t)}async function Uf(n,t){return wr(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function cD(n,t=!1){const e=Cn(n),i=await e.getIdToken(t),r=ly(i);Et(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Uu($m(r.auth_time)),issuedAtTime:Uu($m(r.iat)),expirationTime:Uu($m(r.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function $m(n){return Number(n)*1e3}function ly(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return bf("JWT malformed, contained fewer than 3 sections"),null;try{const r=qS(e);return r?JSON.parse(r):(bf("Failed to decode base64 JWT payload"),null)}catch(r){return bf("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Zb(n){const t=ly(n);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof ws&&hD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function hD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uu(this.lastLoginAt),this.creationTime=Uu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(n){var t;const e=n.auth,i=await n.getIdToken(),r=await Xu(n,Uf(e,{idToken:i}));Et(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const u=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?ow(o.providerUserInfo):[],h=gD(n.providerData,u),f=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),y=f?g:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new yp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,v)}async function dD(n){const t=Cn(n);await zf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function gD(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function ow(n){return n.map(t=>{var{providerId:e}=t,i=ry(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(n,t){const e=await rw(n,{},async()=>{const i=pc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,u=await aw(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",sw.fetch()(u,{method:"POST",headers:h,body:i})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function pD(n,t){return wr(n,"POST","/v2/accounts:revokeToken",Sr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Zb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const e=Zb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await mD(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,u=new ko;return i&&(Et(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),r&&(Et(typeof r=="string","internal-error",{appName:t}),u.accessToken=r),o&&(Et(typeof o=="number","internal-error",{appName:t}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(n,t){Et(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ei{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=ry(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new yp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Xu(this,this.stsTokenManager.getToken(this.auth,t));return Et(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return cD(this,t)}reload(){return dD(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ei(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await zf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(ms(this.auth));const t=await this.getIdToken();return await Xu(this,uD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,u,h,f,g,y;const v=(i=e.displayName)!==null&&i!==void 0?i:void 0,b=(r=e.email)!==null&&r!==void 0?r:void 0,S=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,A=(u=e.photoURL)!==null&&u!==void 0?u:void 0,I=(h=e.tenantId)!==null&&h!==void 0?h:void 0,C=(f=e._redirectEventId)!==null&&f!==void 0?f:void 0,V=(g=e.createdAt)!==null&&g!==void 0?g:void 0,G=(y=e.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:H,emailVerified:J,isAnonymous:Q,providerData:at,stsTokenManager:O}=e;Et(H&&O,t,"internal-error");const R=ko.fromJSON(this.name,O);Et(typeof H=="string",t,"internal-error"),tr(v,t.name),tr(b,t.name),Et(typeof J=="boolean",t,"internal-error"),Et(typeof Q=="boolean",t,"internal-error"),tr(S,t.name),tr(A,t.name),tr(I,t.name),tr(C,t.name),tr(V,t.name),tr(G,t.name);const D=new ei({uid:H,auth:t,email:b,emailVerified:J,displayName:v,isAnonymous:Q,photoURL:A,phoneNumber:S,tenantId:I,stsTokenManager:R,createdAt:V,lastLoginAt:G});return at&&Array.isArray(at)&&(D.providerData=at.map(N=>Object.assign({},N))),C&&(D._redirectEventId=C),D}static async _fromIdTokenResponse(t,e,i=!1){const r=new ko;r.updateFromServerResponse(e);const o=new ei({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await zf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Et(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?ow(r.providerUserInfo):[],u=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),h=new ko;h.updateFromIdToken(i);const f=new ei({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:u}),g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new yp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=new Map;function ds(n){bs(n instanceof Function,"Expected a class definition");let t=Jb.get(n);return t?(bs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Jb.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}lw.type="NONE";const tE=lw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(n,t,e){return`firebase:${n}:${t}:${e}`}class No{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Ef(this.userKey,r.apiKey,o),this.fullPersistenceKey=Ef("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Uf(this.auth,{idToken:t}).catch(()=>{});return e?ei._fromGetAccountInfoResponse(this.auth,e,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new No(ds(tE),t,i);const r=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=r[0]||ds(tE);const u=Ef(i,t.config.apiKey,t.name);let h=null;for(const g of e)try{const y=await g._get(u);if(y){let v;if(typeof y=="string"){const b=await Uf(t,{idToken:y}).catch(()=>{});if(!b)break;v=await ei._fromGetAccountInfoResponse(t,b,y)}else v=ei._fromJSON(t,y);g!==o&&(h=v),o=g;break}}catch{}const f=r.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new No(o,t,i):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(e.map(async g=>{if(g!==o)try{await g._remove(u)}catch{}})),new No(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(uw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gw(t))return"Blackberry";if(mw(t))return"Webos";if(cw(t))return"Safari";if((t.includes("chrome/")||hw(t))&&!t.includes("edge/"))return"Chrome";if(dw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function uw(n=on()){return/firefox\//i.test(n)}function cw(n=on()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hw(n=on()){return/crios\//i.test(n)}function fw(n=on()){return/iemobile/i.test(n)}function dw(n=on()){return/android/i.test(n)}function gw(n=on()){return/blackberry/i.test(n)}function mw(n=on()){return/webos/i.test(n)}function uy(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function yD(n=on()){var t;return uy(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function _D(){return DI()&&document.documentMode===10}function pw(n=on()){return uy(n)||dw(n)||mw(n)||gw(n)||/windows phone/i.test(n)||fw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(n,t=[]){let e;switch(n){case"Browser":e=eE(on());break;case"Worker":e=`${eE(on())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Jo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((u,h)=>{try{const f=t(o);u(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(n,t={}){return wr(n,"GET","/v2/passwordPolicy",Sr(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=6;class TD{constructor(t){var e,i,r,o;const u=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=u.minPasswordLength)!==null&&e!==void 0?e:ED,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,f),this.validatePasswordCharacterOptions(t,f),f.isValid&&(f.isValid=(e=f.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(r=f.containsLowercaseLetter)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nE(this),this.idTokenSubscription=new nE(this),this.beforeStateQueue=new vD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ds(e)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await No.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Uf(this,{idToken:t}),i=await ei._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Fn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,h=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(t);(!u||u===h)&&(f!=null&&f.user)&&(r=f.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await zf(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=eD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Fn(this.app))return Promise.reject(ms(this));const e=t?Cn(t):null;return e&&Et(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Fn(this.app)?Promise.reject(ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await bD(this),e=new TD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new mc("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await pD(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ds(t)||this._popupRedirectResolver;Et(e,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[ds(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{u=!0,f()}}else{const f=t.addObserver(e);return()=>{u=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=yw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&Z2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ra(n){return Cn(n)}class nE{constructor(t){this.auth=t,this.observer=null,this.addObserver=UI(e=>this.observer=e)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wD(n){gd=n}function _w(n){return gd.loadJS(n)}function AD(){return gd.recaptchaEnterpriseScript}function xD(){return gd.gapiScript}function RD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class CD{constructor(){this.enterprise=new ID}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class ID{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const DD="recaptcha-enterprise",vw="NO_RECAPTCHA";class OD{constructor(t){this.type=DD,this.auth=Ra(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{lD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new oD(f);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,u(g.siteKey)}}).catch(f=>{h(f)})})}function r(o,u,h){const f=window.grecaptcha;Xb(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(g=>{u(g)}).catch(()=>{u(vw)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CD().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{i(this.auth).then(h=>{if(!e&&Xb(window.grecaptcha))r(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=AD();f.length!==0&&(f+=h),_w(f).then(()=>{r(h,o,u)}).catch(g=>{u(g)})}}).catch(h=>{u(h)})})}}async function iE(n,t,e,i=!1,r=!1){const o=new OD(n);let u;if(r)u=vw;else try{u=await o.verify(e)}catch{u=await o.verify(e,!0)}const h=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function _p(n,t,e,i,r){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await iE(n,t,e,e==="getOobCode");return i(n,u)}else return i(n,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await iE(n,t,e,e==="getOobCode");return i(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(n,t){const e=sy(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(va(o,t??{}))return r;ri(r,"already-initialized")}return e.initialize({options:t})}function kD(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(ds);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function ND(n,t,e){const i=Ra(n);Et(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=bw(t),{host:u,port:h}=PD(t),f=h===null?"":`:${h}`,g={url:`${o}//${u}${f}/`},y=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Et(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Et(va(g,i.config.emulator)&&va(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,gc(u)?(dd("Auth",!0),$S(`${o}//${u}${f}`)):VD()}function bw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function PD(n){const t=bw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:sE(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:sE(u)}}}function sE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function VD(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return fs("not implemented")}_getIdTokenResponse(t){return fs("not implemented")}_linkToIdToken(t,e){return fs("not implemented")}_getReauthenticationResolver(t){return fs("not implemented")}}async function LD(n,t){return wr(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(n,t){return _c(n,"POST","/v1/accounts:signInWithPassword",Sr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(n,t){return _c(n,"POST","/v1/accounts:signInWithEmailLink",Sr(n,t))}async function BD(n,t){return _c(n,"POST","/v1/accounts:signInWithEmailLink",Sr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends cy{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Zu(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Zu(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _p(t,e,"signInWithPassword",UD);case"emailLink":return zD(t,{email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _p(t,i,"signUpPassword",LD);case"emailLink":return BD(t,{idToken:e,email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(n,t){return _c(n,"POST","/v1/accounts:signInWithIdp",Sr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="http://localhost";class Ea extends cy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ea(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ri("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,o=ry(e,["providerId","signInMethod"]);if(!i||!r)return null;const u=new Ea(i,r);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return Po(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Po(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Po(t,e)}buildRequest(){const t={requestUri:jD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=pc(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FD(n){const t=xu(Ru(n)).link,e=t?xu(Ru(t)).deep_link_id:null,i=xu(Ru(n)).deep_link_id;return(i?xu(Ru(i)).link:null)||i||e||t||n}class hy{constructor(t){var e,i,r,o,u,h;const f=xu(Ru(t)),g=(e=f.apiKey)!==null&&e!==void 0?e:null,y=(i=f.oobCode)!==null&&i!==void 0?i:null,v=HD((r=f.mode)!==null&&r!==void 0?r:null);Et(g&&y&&v,"argument-error"),this.apiKey=g,this.operation=v,this.code=y,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(t){const e=FD(t);try{return new hy(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.providerId=tl.PROVIDER_ID}static credential(t,e){return Zu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=hy.parseLink(e);return Et(i,"argument-error"),Zu._fromEmailAndCode(t,i.code,i.tenantId)}}tl.PROVIDER_ID="password";tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends Ew{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends vc{constructor(){super("facebook.com")}static credential(t){return Ea._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ir.credential(t.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ea._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return sr.credential(e,i)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends vc{constructor(){super("github.com")}static credential(t){return Ea._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rr.credential(t.oauthAccessToken)}catch{return null}}}rr.GITHUB_SIGN_IN_METHOD="github.com";rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends vc{constructor(){super("twitter.com")}static credential(t,e){return Ea._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return ar.credential(e,i)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(n,t){return _c(n,"POST","/v1/accounts:signUp",Sr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await ei._fromIdTokenResponse(t,i,r),u=rE(i);return new Ta({user:o,providerId:u,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=rE(i);return new Ta({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function rE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf extends ws{constructor(t,e,i,r){var o;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Bf.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Bf(t,e,i,r)}}function Tw(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Bf._fromErrorAndOperation(n,o,t,i):o})}async function GD(n,t,e=!1){const i=await Xu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ta._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(n,t,e=!1){const{auth:i}=n;if(Fn(i.app))return Promise.reject(ms(i));const r="reauthenticate";try{const o=await Xu(n,Tw(i,r,t,n),e);Et(o.idToken,i,"internal-error");const u=ly(o.idToken);Et(u,i,"internal-error");const{sub:h}=u;return Et(n.uid===h,i,"user-mismatch"),Ta._forOperation(n,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ri(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(n,t,e=!1){if(Fn(n.app))return Promise.reject(ms(n));const i="signIn",r=await Tw(n,i,t),o=await Ta._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function KD(n,t){return Sw(Ra(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(n){const t=Ra(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function $D(n,t,e){if(Fn(n.app))return Promise.reject(ms(n));const i=Ra(n),u=await _p(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qD).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&ww(n),f}),h=await Ta._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function QD(n,t,e){return Fn(n.app)?Promise.reject(ms(n)):KD(Cn(n),tl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&ww(n),i})}function WD(n,t,e,i){return Cn(n).onIdTokenChanged(t,e,i)}function XD(n,t,e){return Cn(n).beforeAuthStateChanged(t,e)}const jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=1e3,JD=10;class xw extends Aw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const u=this.storage.getItem(i);!e&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);_D()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,JD):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},ZD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}xw.type="LOCAL";const tO=xw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends Aw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Rw.type="SESSION";const Cw=Rw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new md(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,u=this.handlersMap[r];if(!(u!=null&&u.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(u).map(async g=>g(e.origin,o)),f=await eO(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const g=fy("",20);r.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:r,onMessage(v){const b=v;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(b.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),r.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[r.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return window}function iO(n){Di().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function sO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function aO(){return Iw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="firebaseLocalStorageDb",oO=1,Hf="firebaseLocalStorage",Ow="fbase_key";class bc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function pd(n,t){return n.transaction([Hf],t?"readwrite":"readonly").objectStore(Hf)}function lO(){const n=indexedDB.deleteDatabase(Dw);return new bc(n).toPromise()}function vp(){const n=indexedDB.open(Dw,oO);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Hf,{keyPath:Ow})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Hf)?t(i):(i.close(),await lO(),t(await vp()))})})}async function aE(n,t,e){const i=pd(n,!0).put({[Ow]:t,value:e});return new bc(i).toPromise()}async function uO(n,t){const e=pd(n,!1).get(t),i=await new bc(e).toPromise();return i===void 0?null:i.value}function oE(n,t){const e=pd(n,!0).delete(t);return new bc(e).toPromise()}const cO=800,hO=3;class Mw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>hO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Iw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=md._getInstance(aO()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await sO(),!this.activeServiceWorker)return;this.sender=new nO(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||rO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await vp();return await aE(t,jf,"1"),await oE(t,jf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>aE(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>uO(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>oE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=pd(r,!1).getAll();return new bc(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mw.type="LOCAL";const fO=Mw;new yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(n,t){return t?ds(t):(Et(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy extends cy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Po(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Po(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Po(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function gO(n){return Sw(n.auth,new dy(n),n.bypassAuthState)}function mO(n){const{auth:t,user:e}=n;return Et(e,t,"internal-error"),YD(e,new dy(n),n.bypassAuthState)}async function pO(n){const{auth:t,user:e}=n;return Et(e,t,"internal-error"),GD(e,new dy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:u,type:h}=t;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gO;case"linkViaPopup":case"linkViaRedirect":return pO;case"reauthViaPopup":case"reauthViaRedirect":return mO;default:ri(this.auth,"internal-error")}}resolve(t){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new yc(2e3,1e4);class Mo extends kw{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const t=fy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,yO.get())};t()}}Mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="pendingRedirect",Tf=new Map;class vO extends kw{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Tf.get(this.auth._key());if(!t){try{const i=await bO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Tf.set(this.auth._key(),t)}return this.bypassAuthState||Tf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bO(n,t){const e=SO(t),i=TO(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function EO(n,t){Tf.set(n._key(),t)}function TO(n){return ds(n._redirectPersistence)}function SO(n){return Ef(_O,n.config.apiKey,n.name)}async function wO(n,t,e=!1){if(Fn(n.app))return Promise.reject(ms(n));const i=Ra(n),r=dO(i,t),u=await new vO(i,r,e).execute();return u&&!e&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=10*60*1e3;class xO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!RO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!Nw(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Ii(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=AO&&this.cachedEventUids.clear(),this.cachedEventUids.has(lE(t))}saveEventToCache(t){this.cachedEventUids.add(lE(t)),this.lastProcessedEventTime=Date.now()}}function lE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Nw({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function RO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(n,t={}){return wr(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DO=/^https?/;async function OO(n){if(n.config.emulator)return;const{authorizedDomains:t}=await CO(n);for(const e of t)try{if(MO(e))return}catch{}ri(n,"unauthorized-domain")}function MO(n){const t=pp(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===i}if(!DO.test(e))return!1;if(IO.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new yc(3e4,6e4);function uE(){const n=Di().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function NO(n){return new Promise((t,e)=>{var i,r,o;function u(){uE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{uE(),e(Ii(n,"network-request-failed"))},timeout:kO.get()})}if(!((r=(i=Di().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=Di().gapi)===null||o===void 0)&&o.load)u();else{const h=RD("iframefcb");return Di()[h]=()=>{gapi.load?u():e(Ii(n,"network-request-failed"))},_w(`${xD()}?onload=${h}`).catch(f=>e(f))}}).catch(t=>{throw Sf=null,t})}let Sf=null;function PO(n){return Sf=Sf||NO(n),Sf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=new yc(5e3,15e3),LO="__/auth/iframe",UO="emulator/auth/iframe",zO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jO(n){const t=n.config;Et(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?oy(t,UO):`https://${n.config.authDomain}/${LO}`,i={apiKey:t.apiKey,appName:n.name,v:Jo},r=BO.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${pc(i).slice(1)}`}async function HO(n){const t=await PO(n),e=Di().gapi;return Et(e,n,"internal-error"),t.open({where:document.body,url:jO(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zO,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const u=Ii(n,"network-request-failed"),h=Di().setTimeout(()=>{o(u)},VO.get());function f(){Di().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qO=500,GO=600,YO="_blank",KO="http://localhost";class cE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $O(n,t,e,i=qO,r=GO){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},FO),{width:i.toString(),height:r.toString(),top:o,left:u}),g=on().toLowerCase();e&&(h=hw(g)?YO:e),uw(g)&&(t=t||KO,f.scrollbars="yes");const y=Object.entries(f).reduce((b,[S,A])=>`${b}${S}=${A},`,"");if(yD(g)&&h!=="_self")return QO(t||"",h),new cE(null);const v=window.open(t||"",h,y);Et(v,n,"popup-blocked");try{v.focus()}catch{}return new cE(v)}function QO(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="__/auth/handler",XO="emulator/auth/handler",ZO=encodeURIComponent("fac");async function hE(n,t,e,i,r,o){Et(n.config.authDomain,n,"auth-domain-config-required"),Et(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Jo,eventId:r};if(t instanceof Ew){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",LI(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(t instanceof vc){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),g=f?`#${ZO}=${encodeURIComponent(f)}`:"";return`${JO(n)}?${pc(h).slice(1)}${g}`}function JO({config:n}){return n.emulator?oy(n,XO):`https://${n.authDomain}/${WO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="webStorageSupport";class tM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cw,this._completeRedirectFn=wO,this._overrideRedirectResult=EO}async _openPopup(t,e,i,r){var o;bs((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await hE(t,e,i,pp(),r);return $O(t,u,fy())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await hE(t,e,i,pp(),r);return iO(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(bs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await HO(t),i=new xO(t);return e.register("authEvent",r=>(Et(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Qm,{type:Qm},r=>{var o;const u=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Qm];u!==void 0&&e(!!u),ri(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=OO(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return pw()||cw()||uy()}}const eM=tM;var fE="@firebase/auth",dE="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sM(n){Uo(new ba("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Et(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yw(n)},g=new SD(i,r,o,f);return kD(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Uo(new ba("auth-internal",t=>{const e=Ra(t.getProvider("auth").getImmediate());return(i=>new nM(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(fE,dE,iM(n)),hr(fE,dE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=5*60,aM=KS("authIdTokenMaxAge")||rM;let gE=null;const oM=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>aM)return;const r=e==null?void 0:e.token;gE!==r&&(gE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function lM(n=ZS()){const t=sy(n,"auth");if(t.isInitialized())return t.getImmediate();const e=MD(n,{popupRedirectResolver:eM,persistence:[fO,tO,Cw]}),i=KS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=oM(o.toString());XD(e,u,()=>u(e.currentUser)),WD(e,h=>u(h))}}const r=GS("auth");return r?ND(e,`http://${r}`):dd("Auth",!1),e}function uM(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}wD({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=Ii("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",uM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sM("Browser");var mE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fr,Pw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function D(){}D.prototype=R.prototype,O.D=R.prototype,O.prototype=new D,O.prototype.constructor=O,O.C=function(N,P,U){for(var M=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)M[Zt-2]=arguments[Zt];return R.prototype[P].apply(N,M)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(O,R,D){D||(D=0);var N=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)N[P]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(P=0;16>P;++P)N[P]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=O.g[0],D=O.g[1],P=O.g[2];var U=O.g[3],M=R+(U^D&(P^U))+N[0]+3614090360&4294967295;R=D+(M<<7&4294967295|M>>>25),M=U+(P^R&(D^P))+N[1]+3905402710&4294967295,U=R+(M<<12&4294967295|M>>>20),M=P+(D^U&(R^D))+N[2]+606105819&4294967295,P=U+(M<<17&4294967295|M>>>15),M=D+(R^P&(U^R))+N[3]+3250441966&4294967295,D=P+(M<<22&4294967295|M>>>10),M=R+(U^D&(P^U))+N[4]+4118548399&4294967295,R=D+(M<<7&4294967295|M>>>25),M=U+(P^R&(D^P))+N[5]+1200080426&4294967295,U=R+(M<<12&4294967295|M>>>20),M=P+(D^U&(R^D))+N[6]+2821735955&4294967295,P=U+(M<<17&4294967295|M>>>15),M=D+(R^P&(U^R))+N[7]+4249261313&4294967295,D=P+(M<<22&4294967295|M>>>10),M=R+(U^D&(P^U))+N[8]+1770035416&4294967295,R=D+(M<<7&4294967295|M>>>25),M=U+(P^R&(D^P))+N[9]+2336552879&4294967295,U=R+(M<<12&4294967295|M>>>20),M=P+(D^U&(R^D))+N[10]+4294925233&4294967295,P=U+(M<<17&4294967295|M>>>15),M=D+(R^P&(U^R))+N[11]+2304563134&4294967295,D=P+(M<<22&4294967295|M>>>10),M=R+(U^D&(P^U))+N[12]+1804603682&4294967295,R=D+(M<<7&4294967295|M>>>25),M=U+(P^R&(D^P))+N[13]+4254626195&4294967295,U=R+(M<<12&4294967295|M>>>20),M=P+(D^U&(R^D))+N[14]+2792965006&4294967295,P=U+(M<<17&4294967295|M>>>15),M=D+(R^P&(U^R))+N[15]+1236535329&4294967295,D=P+(M<<22&4294967295|M>>>10),M=R+(P^U&(D^P))+N[1]+4129170786&4294967295,R=D+(M<<5&4294967295|M>>>27),M=U+(D^P&(R^D))+N[6]+3225465664&4294967295,U=R+(M<<9&4294967295|M>>>23),M=P+(R^D&(U^R))+N[11]+643717713&4294967295,P=U+(M<<14&4294967295|M>>>18),M=D+(U^R&(P^U))+N[0]+3921069994&4294967295,D=P+(M<<20&4294967295|M>>>12),M=R+(P^U&(D^P))+N[5]+3593408605&4294967295,R=D+(M<<5&4294967295|M>>>27),M=U+(D^P&(R^D))+N[10]+38016083&4294967295,U=R+(M<<9&4294967295|M>>>23),M=P+(R^D&(U^R))+N[15]+3634488961&4294967295,P=U+(M<<14&4294967295|M>>>18),M=D+(U^R&(P^U))+N[4]+3889429448&4294967295,D=P+(M<<20&4294967295|M>>>12),M=R+(P^U&(D^P))+N[9]+568446438&4294967295,R=D+(M<<5&4294967295|M>>>27),M=U+(D^P&(R^D))+N[14]+3275163606&4294967295,U=R+(M<<9&4294967295|M>>>23),M=P+(R^D&(U^R))+N[3]+4107603335&4294967295,P=U+(M<<14&4294967295|M>>>18),M=D+(U^R&(P^U))+N[8]+1163531501&4294967295,D=P+(M<<20&4294967295|M>>>12),M=R+(P^U&(D^P))+N[13]+2850285829&4294967295,R=D+(M<<5&4294967295|M>>>27),M=U+(D^P&(R^D))+N[2]+4243563512&4294967295,U=R+(M<<9&4294967295|M>>>23),M=P+(R^D&(U^R))+N[7]+1735328473&4294967295,P=U+(M<<14&4294967295|M>>>18),M=D+(U^R&(P^U))+N[12]+2368359562&4294967295,D=P+(M<<20&4294967295|M>>>12),M=R+(D^P^U)+N[5]+4294588738&4294967295,R=D+(M<<4&4294967295|M>>>28),M=U+(R^D^P)+N[8]+2272392833&4294967295,U=R+(M<<11&4294967295|M>>>21),M=P+(U^R^D)+N[11]+1839030562&4294967295,P=U+(M<<16&4294967295|M>>>16),M=D+(P^U^R)+N[14]+4259657740&4294967295,D=P+(M<<23&4294967295|M>>>9),M=R+(D^P^U)+N[1]+2763975236&4294967295,R=D+(M<<4&4294967295|M>>>28),M=U+(R^D^P)+N[4]+1272893353&4294967295,U=R+(M<<11&4294967295|M>>>21),M=P+(U^R^D)+N[7]+4139469664&4294967295,P=U+(M<<16&4294967295|M>>>16),M=D+(P^U^R)+N[10]+3200236656&4294967295,D=P+(M<<23&4294967295|M>>>9),M=R+(D^P^U)+N[13]+681279174&4294967295,R=D+(M<<4&4294967295|M>>>28),M=U+(R^D^P)+N[0]+3936430074&4294967295,U=R+(M<<11&4294967295|M>>>21),M=P+(U^R^D)+N[3]+3572445317&4294967295,P=U+(M<<16&4294967295|M>>>16),M=D+(P^U^R)+N[6]+76029189&4294967295,D=P+(M<<23&4294967295|M>>>9),M=R+(D^P^U)+N[9]+3654602809&4294967295,R=D+(M<<4&4294967295|M>>>28),M=U+(R^D^P)+N[12]+3873151461&4294967295,U=R+(M<<11&4294967295|M>>>21),M=P+(U^R^D)+N[15]+530742520&4294967295,P=U+(M<<16&4294967295|M>>>16),M=D+(P^U^R)+N[2]+3299628645&4294967295,D=P+(M<<23&4294967295|M>>>9),M=R+(P^(D|~U))+N[0]+4096336452&4294967295,R=D+(M<<6&4294967295|M>>>26),M=U+(D^(R|~P))+N[7]+1126891415&4294967295,U=R+(M<<10&4294967295|M>>>22),M=P+(R^(U|~D))+N[14]+2878612391&4294967295,P=U+(M<<15&4294967295|M>>>17),M=D+(U^(P|~R))+N[5]+4237533241&4294967295,D=P+(M<<21&4294967295|M>>>11),M=R+(P^(D|~U))+N[12]+1700485571&4294967295,R=D+(M<<6&4294967295|M>>>26),M=U+(D^(R|~P))+N[3]+2399980690&4294967295,U=R+(M<<10&4294967295|M>>>22),M=P+(R^(U|~D))+N[10]+4293915773&4294967295,P=U+(M<<15&4294967295|M>>>17),M=D+(U^(P|~R))+N[1]+2240044497&4294967295,D=P+(M<<21&4294967295|M>>>11),M=R+(P^(D|~U))+N[8]+1873313359&4294967295,R=D+(M<<6&4294967295|M>>>26),M=U+(D^(R|~P))+N[15]+4264355552&4294967295,U=R+(M<<10&4294967295|M>>>22),M=P+(R^(U|~D))+N[6]+2734768916&4294967295,P=U+(M<<15&4294967295|M>>>17),M=D+(U^(P|~R))+N[13]+1309151649&4294967295,D=P+(M<<21&4294967295|M>>>11),M=R+(P^(D|~U))+N[4]+4149444226&4294967295,R=D+(M<<6&4294967295|M>>>26),M=U+(D^(R|~P))+N[11]+3174756917&4294967295,U=R+(M<<10&4294967295|M>>>22),M=P+(R^(U|~D))+N[2]+718787259&4294967295,P=U+(M<<15&4294967295|M>>>17),M=D+(U^(P|~R))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+U&4294967295}i.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var D=R-this.blockSize,N=this.B,P=this.h,U=0;U<R;){if(P==0)for(;U<=D;)r(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<R;)if(N[P++]=O.charCodeAt(U++),P==this.blockSize){r(this,N),P=0;break}}else for(;U<R;)if(N[P++]=O[U++],P==this.blockSize){r(this,N),P=0;break}}this.h=P,this.o+=R},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var D=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=D&255,D/=256;for(this.u(O),O=Array(16),R=D=0;4>R;++R)for(var N=0;32>N;N+=8)O[D++]=this.g[R]>>>N&255;return O};function o(O,R){var D=h;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=R(O)}function u(O,R){this.h=R;for(var D=[],N=!0,P=O.length-1;0<=P;P--){var U=O[P]|0;N&&U==R||(D[P]=U,N=!1)}this.g=D}var h={};function f(O){return-128<=O&&128>O?o(O,function(R){return new u([R|0],0>R?-1:0)}):new u([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return v;if(0>O)return C(g(-O));for(var R=[],D=1,N=0;O>=D;N++)R[N]=O/D|0,D*=4294967296;return new u(R,0)}function y(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return C(y(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=g(Math.pow(R,8)),N=v,P=0;P<O.length;P+=8){var U=Math.min(8,O.length-P),M=parseInt(O.substring(P,P+U),R);8>U?(U=g(Math.pow(R,U)),N=N.j(U).add(g(M))):(N=N.j(D),N=N.add(g(M)))}return N}var v=f(0),b=f(1),S=f(16777216);n=u.prototype,n.m=function(){if(I(this))return-C(this).m();for(var O=0,R=1,D=0;D<this.g.length;D++){var N=this.i(D);O+=(0<=N?N:4294967296+N)*R,R*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(A(this))return"0";if(I(this))return"-"+C(this).toString(O);for(var R=g(Math.pow(O,6)),D=this,N="";;){var P=J(D,R).g;D=V(D,P.j(R));var U=((0<D.g.length?D.g[0]:D.h)>>>0).toString(O);if(D=P,A(D))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function A(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function I(O){return O.h==-1}n.l=function(O){return O=V(this,O),I(O)?-1:A(O)?0:1};function C(O){for(var R=O.g.length,D=[],N=0;N<R;N++)D[N]=~O.g[N];return new u(D,~O.h).add(b)}n.abs=function(){return I(this)?C(this):this},n.add=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],N=0,P=0;P<=R;P++){var U=N+(this.i(P)&65535)+(O.i(P)&65535),M=(U>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);N=M>>>16,U&=65535,M&=65535,D[P]=M<<16|U}return new u(D,D[D.length-1]&-2147483648?-1:0)};function V(O,R){return O.add(C(R))}n.j=function(O){if(A(this)||A(O))return v;if(I(this))return I(O)?C(this).j(C(O)):C(C(this).j(O));if(I(O))return C(this.j(C(O)));if(0>this.l(S)&&0>O.l(S))return g(this.m()*O.m());for(var R=this.g.length+O.g.length,D=[],N=0;N<2*R;N++)D[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<O.g.length;P++){var U=this.i(N)>>>16,M=this.i(N)&65535,Zt=O.i(P)>>>16,At=O.i(P)&65535;D[2*N+2*P]+=M*At,G(D,2*N+2*P),D[2*N+2*P+1]+=U*At,G(D,2*N+2*P+1),D[2*N+2*P+1]+=M*Zt,G(D,2*N+2*P+1),D[2*N+2*P+2]+=U*Zt,G(D,2*N+2*P+2)}for(N=0;N<R;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=R;N<2*R;N++)D[N]=0;return new u(D,0)};function G(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function H(O,R){this.g=O,this.h=R}function J(O,R){if(A(R))throw Error("division by zero");if(A(O))return new H(v,v);if(I(O))return R=J(C(O),R),new H(C(R.g),C(R.h));if(I(R))return R=J(O,C(R)),new H(C(R.g),R.h);if(30<O.g.length){if(I(O)||I(R))throw Error("slowDivide_ only works with positive integers.");for(var D=b,N=R;0>=N.l(O);)D=Q(D),N=Q(N);var P=at(D,1),U=at(N,1);for(N=at(N,2),D=at(D,2);!A(N);){var M=U.add(N);0>=M.l(O)&&(P=P.add(D),U=M),N=at(N,1),D=at(D,1)}return R=V(O,P.j(R)),new H(P,R)}for(P=v;0<=O.l(R);){for(D=Math.max(1,Math.floor(O.m()/R.m())),N=Math.ceil(Math.log(D)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=g(D),M=U.j(R);I(M)||0<M.l(O);)D-=N,U=g(D),M=U.j(R);A(U)&&(U=b),P=P.add(U),O=V(O,M)}return new H(P,O)}n.A=function(O){return J(this,O).h},n.and=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],N=0;N<R;N++)D[N]=this.i(N)&O.i(N);return new u(D,this.h&O.h)},n.or=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],N=0;N<R;N++)D[N]=this.i(N)|O.i(N);return new u(D,this.h|O.h)},n.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],N=0;N<R;N++)D[N]=this.i(N)^O.i(N);return new u(D,this.h^O.h)};function Q(O){for(var R=O.g.length+1,D=[],N=0;N<R;N++)D[N]=O.i(N)<<1|O.i(N-1)>>>31;return new u(D,O.h)}function at(O,R){var D=R>>5;R%=32;for(var N=O.g.length-D,P=[],U=0;U<N;U++)P[U]=0<R?O.i(U+D)>>>R|O.i(U+D+1)<<32-R:O.i(U+D);return new u(P,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Pw=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,fr=u}).apply(typeof mE<"u"?mE:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vw,Cu,Lw,wf,bp,Uw,zw,Bw;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,E){return d==Array.prototype||d==Object.prototype||(d[_]=E.value),d};function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function r(d,_){if(_)t:{var E=i;d=d.split(".");for(var x=0;x<d.length-1;x++){var j=d[x];if(!(j in E))break t;E=E[j]}d=d[d.length-1],x=E[d],_=_(x),_!=x&&_!=null&&t(E,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var E=0,x=!1,j={next:function(){if(!x&&E<d.length){var X=E++;return{value:_(X,d[X]),done:!1}}return x=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}r("Array.prototype.values",function(d){return d||function(){return o(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function g(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function y(d,_,E){return d.call.apply(d.bind,arguments)}function v(d,_,E){if(!d)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,x),d.apply(_,j)}}return function(){return d.apply(_,arguments)}}function b(d,_,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,b.apply(null,arguments)}function S(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var x=E.slice();return x.push.apply(x,arguments),d.apply(this,x)}}function A(d,_){function E(){}E.prototype=_.prototype,d.aa=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(x,j,X){for(var ut=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)ut[Ut-2]=arguments[Ut];return _.prototype[j].apply(x,ut)}}function I(d){const _=d.length;if(0<_){const E=Array(_);for(let x=0;x<_;x++)E[x]=d[x];return E}return[]}function C(d,_){for(let E=1;E<arguments.length;E++){const x=arguments[E];if(f(x)){const j=d.length||0,X=x.length||0;d.length=j+X;for(let ut=0;ut<X;ut++)d[j+ut]=x[ut]}else d.push(x)}}class V{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function G(d){return/^[\s\xa0]*$/.test(d)}function H(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function J(d){return J[" "](d),d}J[" "]=function(){};var Q=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function at(d,_,E){for(const x in d)_.call(E,d[x],x,d)}function O(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function R(d){const _={};for(const E in d)_[E]=d[E];return _}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,_){let E,x;for(let j=1;j<arguments.length;j++){x=arguments[j];for(E in x)d[E]=x[E];for(let X=0;X<D.length;X++)E=D[X],Object.prototype.hasOwnProperty.call(x,E)&&(d[E]=x[E])}}function P(d){var _=1;d=d.split(":");const E=[];for(;0<_&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function U(d){h.setTimeout(()=>{throw d},0)}function M(){var d=Pt;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class Zt{constructor(){this.h=this.g=null}add(_,E){const x=At.get();x.set(_,E),this.h?this.h.next=x:this.g=x,this.h=x}}var At=new V(()=>new $,d=>d.reset());class ${constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,mt=!1,Pt=new Zt,L=()=>{const d=h.Promise.resolve(void 0);lt=()=>{d.then(rt)}};var rt=()=>{for(var d;d=M();){try{d.h.call(d.g)}catch(E){U(E)}var _=At;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}mt=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};h.addEventListener("test",E,_),h.removeEventListener("test",E,_)}catch{}return d}();function xt(d,_){if(ot.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,x=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(Q){t:{try{J(_.nodeName);var j=!0;break t}catch{}j=!1}j||(_=null)}}else E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement);this.relatedTarget=_,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:yt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&xt.aa.h.call(this)}}A(xt,ot);var yt={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),se=0;function li(d,_,E,x,j){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!x,this.ha=j,this.key=++se,this.da=this.fa=!1}function As(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Vi(d){this.src=d,this.g={},this.h=0}Vi.prototype.add=function(d,_,E,x,j){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var ut=Rr(d,_,x,j);return-1<ut?(_=d[ut],E||(_.fa=!1)):(_=new li(_,this.src,X,!!x,j),_.fa=E,d.push(_)),_};function xr(d,_){var E=_.type;if(E in d.g){var x=d.g[E],j=Array.prototype.indexOf.call(x,_,void 0),X;(X=0<=j)&&Array.prototype.splice.call(x,j,1),X&&(As(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Rr(d,_,E,x){for(var j=0;j<d.length;++j){var X=d[j];if(!X.da&&X.listener==_&&X.capture==!!E&&X.ha==x)return j}return-1}var Cr="closure_lm_"+(1e6*Math.random()|0),ll={};function xc(d,_,E,x,j){if(Array.isArray(_)){for(var X=0;X<_.length;X++)xc(d,_[X],E,x,j);return null}return E=Rc(E),d&&d[Pe]?d.K(_,E,g(x)?!!x.capture:!1,j):In(d,_,E,!1,x,j)}function In(d,_,E,x,j,X){if(!_)throw Error("Invalid event type");var ut=g(j)?!!j.capture:!!j,Ut=Na(d);if(Ut||(d[Cr]=Ut=new Vi(d)),E=Ut.add(_,E,x,ut,X),E.proxy)return E;if(x=Pd(),E.proxy=x,x.src=d,x.listener=E,d.addEventListener)gt||(j=ut),j===void 0&&(j=!1),d.addEventListener(_.toString(),x,j);else if(d.attachEvent)d.attachEvent(Ir(_.toString()),x);else if(d.addListener&&d.removeListener)d.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Pd(){function d(E){return _.call(d.src,d.listener,E)}const _=Vd;return d}function ul(d,_,E,x,j){if(Array.isArray(_))for(var X=0;X<_.length;X++)ul(d,_[X],E,x,j);else x=g(x)?!!x.capture:!!x,E=Rc(E),d&&d[Pe]?(d=d.i,_=String(_).toString(),_ in d.g&&(X=d.g[_],E=Rr(X,E,x,j),-1<E&&(As(X[E]),Array.prototype.splice.call(X,E,1),X.length==0&&(delete d.g[_],d.h--)))):d&&(d=Na(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Rr(_,E,x,j)),(E=-1<d?_[d]:null)&&ka(E))}function ka(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Pe])xr(_.i,d);else{var E=d.type,x=d.proxy;_.removeEventListener?_.removeEventListener(E,x,d.capture):_.detachEvent?_.detachEvent(Ir(E),x):_.addListener&&_.removeListener&&_.removeListener(x),(E=Na(_))?(xr(E,d),E.h==0&&(E.src=null,_[Cr]=null)):As(d)}}}function Ir(d){return d in ll?ll[d]:ll[d]="on"+d}function Vd(d,_){if(d.da)d=!0;else{_=new xt(_,this);var E=d.listener,x=d.ha||d.src;d.fa&&ka(d),d=E.call(x,_)}return d}function Na(d){return d=d[Cr],d instanceof Vi?d:null}var cl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rc(d){return typeof d=="function"?d:(d[cl]||(d[cl]=function(_){return d.handleEvent(_)}),d[cl])}function ge(){ct.call(this),this.i=new Vi(this),this.M=this,this.F=null}A(ge,ct),ge.prototype[Pe]=!0,ge.prototype.removeEventListener=function(d,_,E,x){ul(this,d,_,E,x)};function $t(d,_){var E,x=d.F;if(x)for(E=[];x;x=x.F)E.push(x);if(d=d.M,x=_.type||_,typeof _=="string")_=new ot(_,d);else if(_ instanceof ot)_.target=_.target||d;else{var j=_;_=new ot(x,d),N(_,j)}if(j=!0,E)for(var X=E.length-1;0<=X;X--){var ut=_.g=E[X];j=vn(ut,x,!0,_)&&j}if(ut=_.g=d,j=vn(ut,x,!0,_)&&j,j=vn(ut,x,!1,_)&&j,E)for(X=0;X<E.length;X++)ut=_.g=E[X],j=vn(ut,x,!1,_)&&j}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var E=d.g[_],x=0;x<E.length;x++)As(E[x]);delete d.g[_],d.h--}}this.F=null},ge.prototype.K=function(d,_,E,x){return this.i.add(String(d),_,!1,E,x)},ge.prototype.L=function(d,_,E,x){return this.i.add(String(d),_,!0,E,x)};function vn(d,_,E,x){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var j=!0,X=0;X<_.length;++X){var ut=_[X];if(ut&&!ut.da&&ut.capture==E){var Ut=ut.listener,Ie=ut.ha||ut.src;ut.fa&&xr(d.i,ut),j=Ut.call(Ie,x)!==!1&&j}}return j&&!x.defaultPrevented}function Ze(d,_,E){if(typeof d=="function")E&&(d=b(d,E));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(d,_||0)}function Cc(d){d.g=Ze(()=>{d.g=null,d.i&&(d.i=!1,Cc(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Ld extends ct{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Cc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(d){ct.call(this),this.h=d,this.g={}}A(Dr,ct);var Or=[];function Mr(d){at(d.g,function(_,E){this.g.hasOwnProperty(E)&&ka(_)},d),d.g={}}Dr.prototype.N=function(){Dr.aa.N.call(this),Mr(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=h.JSON.stringify,Pa=h.JSON.parse,kr=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function hl(){}hl.prototype.h=null;function fl(d){return d.h||(d.h=d.i())}function dl(){}var Li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ui(){ot.call(this,"d")}A(Ui,ot);function gl(){ot.call(this,"c")}A(gl,ot);var ui={},ml=null;function xs(){return ml=ml||new ge}ui.La="serverreachability";function Va(d){ot.call(this,ui.La,d)}A(Va,ot);function Rs(d){const _=xs();$t(_,new Va(_))}ui.STAT_EVENT="statevent";function Ic(d,_){ot.call(this,ui.STAT_EVENT,d),this.stat=_}A(Ic,ot);function ue(d){const _=xs();$t(_,new Ic(_,d))}ui.Ma="timingevent";function Ce(d,_){ot.call(this,ui.Ma,d),this.size=_}A(Ce,ot);function Te(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},_)}function Dn(){this.g=!0}Dn.prototype.xa=function(){this.g=!1};function pl(d,_,E,x,j,X){d.info(function(){if(d.g)if(X)for(var ut="",Ut=X.split("&"),Ie=0;Ie<Ut.length;Ie++){var zt=Ut[Ie].split("=");if(1<zt.length){var Le=zt[0];zt=zt[1];var De=Le.split("_");ut=2<=De.length&&De[1]=="type"?ut+(Le+"="+zt+"&"):ut+(Le+"=redacted&")}}else ut=null;else ut=X;return"XMLHTTP REQ ("+x+") [attempt "+j+"]: "+_+`
`+E+`
`+ut})}function Ud(d,_,E,x,j,X,ut){d.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+j+"]: "+_+`
`+E+`
`+X+" "+ut})}function Cs(d,_,E,x){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Nr(d,E)+(x?" "+x:"")})}function Dc(d,_){d.info(function(){return"TIMEOUT: "+_})}Dn.prototype.info=function(){};function Nr(d,_){if(!d.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var x=E[d];if(!(2>x.length)){var j=x[1];if(Array.isArray(j)&&!(1>j.length)){var X=j[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ut=1;ut<j.length;ut++)j[ut]=""}}}}return Qn(E)}catch{return _}}var Is={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function hi(){}A(hi,hl),hi.prototype.g=function(){return new XMLHttpRequest},hi.prototype.i=function(){return{}},ci=new hi;function ln(d,_,E,x){this.j=d,this.i=_,this.l=E,this.R=x||1,this.U=new Dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var yl={},La={};function Wn(d,_,E){d.L=1,d.v=zr(bn(_)),d.m=E,d.P=!0,Bi(d,null)}function Bi(d,_){d.F=Date.now(),Pr(d),d.A=bn(d.v);var E=d.A,x=d.R;Array.isArray(x)||(x=[String(x)]),Sl(E.i,"t",x),d.C=0,E=d.j.J,d.h=new ye,d.g=Yc(d.j,E?_:null,!d.m),0<d.O&&(d.M=new Ld(b(d.Y,d,d.g),d.O)),_=d.U,E=d.g,x=d.ca;var j="readystatechange";Array.isArray(j)||(j&&(Or[0]=j.toString()),j=Or);for(var X=0;X<j.length;X++){var ut=xc(E,j[X],x||_.handleEvent,!1,_.h||_);if(!ut)break;_.g[ut.key]=ut}_=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Rs(),pl(d.i,d.u,d.A,d.l,d.R,d.m)}ln.prototype.ca=function(d){d=d.target;const _=this.M;_&&Nn(d)==3?_.j():this.Y(d)},ln.prototype.Y=function(d){try{if(d==this.g)t:{const De=Nn(this.g);var _=this.g.Ba();const $i=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||Uc(this.g)))){this.J||De!=4||_==7||(_==8||0>=$i?Rs(3):Rs(2)),Ds(this);var E=this.g.Z();this.X=E;e:if(Oc(this)){var x=Uc(this.g);d="";var j=x.length,X=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),fi(this);var ut="";break e}this.h.i=new h.TextDecoder}for(_=0;_<j;_++)this.h.h=!0,d+=this.h.i.decode(x[_],{stream:!(X&&_==j-1)});x.length=0,this.h.g+=d,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=E==200,Ud(this.i,this.u,this.A,this.l,this.R,De,E),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Ie=this.g;if((Ut=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Ut)){var zt=Ut;break e}}zt=null}if(E=zt)Cs(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vr(this,E);else{this.o=!1,this.s=3,ue(12),qe(this),fi(this);break t}}if(this.P){E=!0;let Ge;for(;!this.J&&this.C<ut.length;)if(Ge=Mc(this,ut),Ge==La){De==4&&(this.s=4,ue(14),E=!1),Cs(this.i,this.l,null,"[Incomplete Response]");break}else if(Ge==yl){this.s=4,ue(15),Cs(this.i,this.l,ut,"[Invalid Chunk]"),E=!1;break}else Cs(this.i,this.l,Ge,null),Vr(this,Ge);if(Oc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||ut.length!=0||this.h.h||(this.s=1,ue(16),E=!1),this.o=this.o&&E,!E)Cs(this.i,this.l,ut,"[Invalid Chunked Response]"),qe(this),fi(this);else if(0<ut.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),Kr(Le),Le.M=!0,ue(11))}}else Cs(this.i,this.l,ut,null),Vr(this,ut);De==4&&qe(this),this.o&&!this.J&&(De==4?Fc(this.j,this):(this.o=!1,Pr(this)))}else Fd(this.g),E==400&&0<ut.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),qe(this),fi(this)}}}catch{}finally{}};function Oc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Mc(d,_){var E=d.C,x=_.indexOf(`
`,E);return x==-1?La:(E=Number(_.substring(E,x)),isNaN(E)?yl:(x+=1,x+E>_.length?La:(_=_.slice(x,x+E),d.C=x+E,_)))}ln.prototype.cancel=function(){this.J=!0,qe(this)};function Pr(d){d.S=Date.now()+d.I,kc(d,d.I)}function kc(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Te(b(d.ba,d),_)}function Ds(d){d.B&&(h.clearTimeout(d.B),d.B=null)}ln.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Dc(this.i,this.A),this.L!=2&&(Rs(),ue(17)),qe(this),this.s=2,fi(this)):kc(this,this.S-d)};function fi(d){d.j.G==0||d.J||Fc(d.j,d)}function qe(d){Ds(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Mr(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Vr(d,_){try{var E=d.j;if(E.G!=0&&(E.g==d||_l(E.h,d))){if(!d.K&&_l(E.h,d)&&E.G==3){try{var x=E.Da.g.parse(_)}catch{x=null}if(Array.isArray(x)&&x.length==3){var j=x;if(j[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Qa(E),Ka(E);else break t;Cl(E),ue(18)}}else E.za=j[1],0<E.za-E.T&&37500>j[2]&&E.F&&E.v==0&&!E.C&&(E.C=Te(b(E.Za,E),6e3));if(1>=za(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ki(E,11)}else if((d.K||E.g==d)&&Qa(E),!G(_))for(j=E.Da.g.parse(_),_=0;_<j.length;_++){let zt=j[_];if(E.T=zt[0],zt=zt[1],E.G==2)if(zt[0]=="c"){E.K=zt[1],E.ia=zt[2];const Le=zt[3];Le!=null&&(E.la=Le,E.j.info("VER="+E.la));const De=zt[4];De!=null&&(E.Aa=De,E.j.info("SVER="+E.Aa));const $i=zt[5];$i!=null&&typeof $i=="number"&&0<$i&&(x=1.5*$i,E.L=x,E.j.info("backChannelRequestTimeoutMs_="+x)),x=E;const Ge=d.g;if(Ge){const vi=Ge.g?Ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vi){var X=x.h;X.g||vi.indexOf("spdy")==-1&&vi.indexOf("quic")==-1&&vi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ba(X,X.h),X.h=null))}if(x.D){const Dl=Ge.g?Ge.g.getResponseHeader("X-HTTP-Session-Id"):null;Dl&&(x.ya=Dl,Jt(x.I,x.D,Dl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),x=E;var ut=d;if(x.qa=Gc(x,x.J?x.ia:null,x.W),ut.K){un(x.h,ut);var Ut=ut,Ie=x.L;Ie&&(Ut.I=Ie),Ut.B&&(Ds(Ut),Pr(Ut)),x.g=ut}else jc(x);0<E.i.length&&$a(E)}else zt[0]!="stop"&&zt[0]!="close"||Ki(E,7);else E.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Ki(E,7):xl(E):zt[0]!="noop"&&E.l&&E.l.ta(zt),E.v=0)}}Rs(4)}catch{}}var Nc=class{constructor(d,_){this.g=d,this.map=_}};function ji(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ua(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function za(d){return d.h?1:d.g?d.g.size:0}function _l(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Ba(d,_){d.g?d.g.add(_):d.h=_}function un(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}ji.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function vl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.D);return _}return I(d.i)}function zd(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var _=[],E=d.length,x=0;x<E;x++)_.push(d[x]);return _}_=[],E=0;for(x in d)_[E++]=d[x];return _}function ja(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var _=[];d=d.length;for(var E=0;E<d;E++)_.push(E);return _}_=[],E=0;for(const x in d)_[E++]=x;return _}}}function bl(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var E=ja(d),x=zd(d),j=x.length,X=0;X<j;X++)_.call(void 0,x[X],E&&E[X],d)}var Lr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bd(d,_){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var x=d[E].indexOf("="),j=null;if(0<=x){var X=d[E].substring(0,x);j=d[E].substring(x+1)}else X=d[E];_(X,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Se(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Se){this.h=d.h,Ur(this,d.j),this.o=d.o,this.g=d.g,Os(this,d.s),this.l=d.l;var _=d.i,E=new Fi;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Hi(this,E),this.m=d.m}else d&&(_=String(d).match(Lr))?(this.h=!1,Ur(this,_[1]||"",!0),this.o=On(_[2]||""),this.g=On(_[3]||"",!0),Os(this,_[4]),this.l=On(_[5]||"",!0),Hi(this,_[6]||"",!0),this.m=On(_[7]||"")):(this.h=!1,this.i=new Fi(null,this.h))}Se.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Br(_,El,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Br(_,El,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Br(E,E.charAt(0)=="/"?jd:Tl,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Br(E,Ha)),d.join("")};function bn(d){return new Se(d)}function Ur(d,_,E){d.j=E?On(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Os(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Hi(d,_,E){_ instanceof Fi?(d.i=_,Vc(d.i,d.h)):(E||(_=Br(_,Hd)),d.i=new Fi(_,d.h))}function Jt(d,_,E){d.i.set(_,E)}function zr(d){return Jt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function On(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Br(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,Pc),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Pc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var El=/[#\/\?@]/g,Tl=/[#\?:]/g,jd=/[#\?]/g,Hd=/[#\?@]/g,Ha=/#/g;function Fi(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Mn(d){d.g||(d.g=new Map,d.h=0,d.i&&Bd(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=Fi.prototype,n.add=function(d,_){Mn(this),this.i=null,d=di(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function qi(d,_){Mn(d),_=di(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Gi(d,_){return Mn(d),_=di(d,_),d.g.has(_)}n.forEach=function(d,_){Mn(this),this.g.forEach(function(E,x){E.forEach(function(j){d.call(_,j,x,this)},this)},this)},n.na=function(){Mn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let x=0;x<_.length;x++){const j=d[x];for(let X=0;X<j.length;X++)E.push(_[x])}return E},n.V=function(d){Mn(this);let _=[];if(typeof d=="string")Gi(this,d)&&(_=_.concat(this.g.get(di(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)_=_.concat(d[E])}return _},n.set=function(d,_){return Mn(this),this.i=null,d=di(this,d),Gi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Sl(d,_,E){qi(d,_),0<E.length&&(d.i=null,d.g.set(di(d,_),I(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var x=_[E];const X=encodeURIComponent(String(x)),ut=this.V(x);for(x=0;x<ut.length;x++){var j=X;ut[x]!==""&&(j+="="+encodeURIComponent(String(ut[x]))),d.push(j)}}return this.i=d.join("&")};function di(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Vc(d,_){_&&!d.j&&(Mn(d),d.i=null,d.g.forEach(function(E,x){var j=x.toLowerCase();x!=j&&(qi(this,x),Sl(this,j,E))},d)),d.j=_}function jr(d,_){const E=new Dn;if(h.Image){const x=new Image;x.onload=S(kn,E,"TestLoadImage: loaded",!0,_,x),x.onerror=S(kn,E,"TestLoadImage: error",!1,_,x),x.onabort=S(kn,E,"TestLoadImage: abort",!1,_,x),x.ontimeout=S(kn,E,"TestLoadImage: timeout",!1,_,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=d}else _(!1)}function Xn(d,_){const E=new Dn,x=new AbortController,j=setTimeout(()=>{x.abort(),kn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:x.signal}).then(X=>{clearTimeout(j),X.ok?kn(E,"TestPingServer: ok",!0,_):kn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(j),kn(E,"TestPingServer: error",!1,_)})}function kn(d,_,E,x,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),x(E)}catch{}}function Hr(){this.g=new kr}function gi(d,_,E){const x=E||"";try{bl(d,function(j,X){let ut=j;g(j)&&(ut=Qn(j)),_.push(x+X+"="+encodeURIComponent(ut))})}catch(j){throw _.push(x+"type="+encodeURIComponent("_badmap")),j}}function Ms(d){this.l=d.Ub||null,this.j=d.eb||!1}A(Ms,hl),Ms.prototype.g=function(){return new Yi(this.l,this.j)},Ms.prototype.i=function(d){return function(){return d}}({});function Yi(d,_){ge.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Yi,ge),n=Yi.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,pi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function wl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?mi(this):pi(this),this.readyState==3&&wl(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,mi(this))},n.Qa=function(d){this.g&&(this.response=d,mi(this))},n.ga=function(){this.g&&mi(this)};function mi(d){d.readyState=4,d.l=null,d.j=null,d.v=null,pi(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function pi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Al(d){let _="";return at(d,function(E,x){_+=x,_+=":",_+=E,_+=`\r
`}),_}function Ve(d,_,E){t:{for(x in E){var x=!1;break t}x=!0}x||(E=Al(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Jt(d,_,E))}function Yt(d){ge.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Yt,ge);var Fa=/^https?$/i,Fr=["POST","PUT"];n=Yt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,E,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?fl(this.o):fl(ci),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(X){Lc(this,X);return}if(d=E||"",E=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var j in x)E.set(j,x[j]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const X of x.keys())E.set(X,x.get(X));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),j=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Fr,_,void 0))||x||j||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ut]of E)this.g.setRequestHeader(X,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qr(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){Lc(this,X)}};function Lc(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,qa(d),yi(d)}function qa(d){d.A||(d.A=!0,$t(d,"complete"),$t(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,$t(this,"complete"),$t(this,"abort"),yi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),Yt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ga(this):this.bb())},n.bb=function(){Ga(this)};function Ga(d){if(d.h&&typeof u<"u"&&(!d.v[1]||Nn(d)!=4||d.Z()!=2)){if(d.u&&Nn(d)==4)Ze(d.Ea,0,d);else if($t(d,"readystatechange"),Nn(d)==4){d.h=!1;try{const ut=d.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var x;if(x=ut===0){var j=String(d.D).match(Lr)[1]||null;!j&&h.self&&h.self.location&&(j=h.self.location.protocol.slice(0,-1)),x=!Fa.test(j?j.toLowerCase():"")}E=x}if(E)$t(d,"complete"),$t(d,"success");else{d.m=6;try{var X=2<Nn(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",qa(d)}}finally{yi(d)}}}}function yi(d,_){if(d.g){qr(d);const E=d.g,x=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||$t(d,"ready");try{E.onreadystatechange=x}catch{}}}function qr(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Nn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Pa(_)}};function Uc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Fd(d){const _={};d=(d.g&&2<=Nn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<d.length;x++){if(G(d[x]))continue;var E=P(d[x]);const j=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=_[j]||[];_[j]=X,X.push(E)}O(_,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function Ya(d){this.Aa=0,this.i=[],this.j=new Dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,d),this.cb=Gr("retryDelaySeedMs",1e4,d),this.Wa=Gr("forwardChannelMaxRetries",2,d),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(d&&d.concurrentRequestLimit),this.Da=new Hr,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ya.prototype,n.la=8,n.G=1,n.connect=function(d,_,E,x){ue(0),this.W=d,this.H=_||{},E&&x!==void 0&&(this.H.OSID=E,this.H.OAID=x),this.F=this.X,this.I=Gc(this,null,this.W),$a(this)};function xl(d){if(zc(d),d.G==3){var _=d.U++,E=bn(d.I);if(Jt(E,"SID",d.K),Jt(E,"RID",_),Jt(E,"TYPE","terminate"),Yr(d,E),_=new ln(d,d.j,_),_.L=2,_.v=zr(bn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=_.v,E=!0),E||(_.g=Yc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Pr(_)}qc(d)}function Ka(d){d.g&&(Kr(d),d.g.cancel(),d.g=null)}function zc(d){Ka(d),d.u&&(h.clearTimeout(d.u),d.u=null),Qa(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function $a(d){if(!Ua(d.h)&&!d.s){d.s=!0;var _=d.Ga;lt||L(),mt||(lt(),mt=!0),Pt.add(_,d),d.B=0}}function qd(d,_){return za(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Te(b(d.Ga,d,_),Il(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const j=new ln(this,this.j,d);let X=this.o;if(this.S&&(X?(X=R(X),N(X,this.S)):X=this.S),this.m!==null||this.O||(j.H=X,X=null),this.P)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var x=this.i[E];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(_+=x,4096<_){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=Bc(this,j,_),E=bn(this.I),Jt(E,"RID",d),Jt(E,"CVER",22),this.D&&Jt(E,"X-HTTP-Session-Id",this.D),Yr(this,E),X&&(this.O?_="headers="+encodeURIComponent(String(Al(X)))+"&"+_:this.m&&Ve(E,this.m,X)),Ba(this.h,j),this.Ua&&Jt(E,"TYPE","init"),this.P?(Jt(E,"$req",_),Jt(E,"SID","null"),j.T=!0,Wn(j,E,null)):Wn(j,E,_),this.G=2}}else this.G==3&&(d?Rl(this,d):this.i.length==0||Ua(this.h)||Rl(this))};function Rl(d,_){var E;_?E=_.l:E=d.U++;const x=bn(d.I);Jt(x,"SID",d.K),Jt(x,"RID",E),Jt(x,"AID",d.T),Yr(d,x),d.m&&d.o&&Ve(x,d.m,d.o),E=new ln(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Bc(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ba(d.h,E),Wn(E,x,_)}function Yr(d,_){d.H&&at(d.H,function(E,x){Jt(_,x,E)}),d.l&&bl({},function(E,x){Jt(_,x,E)})}function Bc(d,_,E){E=Math.min(d.i.length,E);var x=d.l?b(d.l.Na,d.l,d):null;t:{var j=d.i;let X=-1;for(;;){const ut=["count="+E];X==-1?0<E?(X=j[0].g,ut.push("ofs="+X)):X=0:ut.push("ofs="+X);let Ut=!0;for(let Ie=0;Ie<E;Ie++){let zt=j[Ie].g;const Le=j[Ie].map;if(zt-=X,0>zt)X=Math.max(0,j[Ie].g-100),Ut=!1;else try{gi(Le,ut,"req"+zt+"_")}catch{x&&x(Le)}}if(Ut){x=ut.join("&");break t}}}return d=d.i.splice(0,E),_.D=d,x}function jc(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;lt||L(),mt||(lt(),mt=!0),Pt.add(_,d),d.v=0}}function Cl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Te(b(d.Fa,d),Il(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Hc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Te(b(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),Ka(this),Hc(this))};function Kr(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function Hc(d){d.g=new ln(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=bn(d.qa);Jt(_,"RID","rpc"),Jt(_,"SID",d.K),Jt(_,"AID",d.T),Jt(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&Jt(_,"TO",d.ja),Jt(_,"TYPE","xmlhttp"),Yr(d,_),d.m&&d.o&&Ve(_,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=zr(bn(_)),E.m=null,E.P=!0,Bi(E,d)}n.Za=function(){this.C!=null&&(this.C=null,Ka(this),Cl(this),ue(19))};function Qa(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Fc(d,_){var E=null;if(d.g==_){Qa(d),Kr(d),d.g=null;var x=2}else if(_l(d.h,_))E=_.D,un(d.h,_),x=1;else return;if(d.G!=0){if(_.o)if(x==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var j=d.B;x=xs(),$t(x,new Ce(x,E)),$a(d)}else jc(d);else if(j=_.s,j==3||j==0&&0<_.X||!(x==1&&qd(d,_)||x==2&&Cl(d)))switch(E&&0<E.length&&(_=d.h,_.i=_.i.concat(E)),j){case 1:Ki(d,5);break;case 4:Ki(d,10);break;case 3:Ki(d,6);break;default:Ki(d,2)}}}function Il(d,_){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*_}function Ki(d,_){if(d.j.info("Error code "+_),_==2){var E=b(d.fb,d),x=d.Xa;const j=!x;x=new Se(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ur(x,"https"),zr(x),j?jr(x.toString(),E):Xn(x.toString(),E)}else ue(2);d.G=0,d.l&&d.l.sa(_),qc(d),zc(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function qc(d){if(d.G=0,d.ka=[],d.l){const _=vl(d.h);(_.length!=0||d.i.length!=0)&&(C(d.ka,_),C(d.ka,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.ra()}}function Gc(d,_,E){var x=E instanceof Se?bn(E):new Se(E);if(x.g!="")_&&(x.g=_+"."+x.g),Os(x,x.s);else{var j=h.location;x=j.protocol,_=_?_+"."+j.hostname:j.hostname,j=+j.port;var X=new Se(null);x&&Ur(X,x),_&&(X.g=_),j&&Os(X,j),E&&(X.l=E),x=X}return E=d.D,_=d.ya,E&&_&&Jt(x,E,_),Jt(x,"VER",d.la),Yr(d,x),x}function Yc(d,_,E){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Yt(new Ms({eb:E})):new Yt(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kc(){}n=Kc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Wa(){}Wa.prototype.g=function(d,_){return new cn(d,_)};function cn(d,_){ge.call(this),this.g=new Ya(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!G(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!G(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new _i(this)}A(cn,ge),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){xl(this.g)},cn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Qn(d),d=E);_.i.push(new Nc(_.Ya++,d)),_.G==3&&$a(_)},cn.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,cn.aa.N.call(this)};function $c(d){Ui.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){t:{for(const E in _){d=E;break t}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}A($c,Ui);function Qc(){gl.call(this),this.status=1}A(Qc,gl);function _i(d){this.g=d}A(_i,Kc),_i.prototype.ua=function(){$t(this.g,"a")},_i.prototype.ta=function(d){$t(this.g,new $c(d))},_i.prototype.sa=function(d){$t(this.g,new Qc)},_i.prototype.ra=function(){$t(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Bw=function(){return new Wa},zw=function(){return xs()},Uw=ui,bp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,wf=Is,zi.COMPLETE="complete",Lw=zi,dl.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",ge.prototype.listen=ge.prototype.K,Cu=dl,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,Vw=Yt}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});const pE="@firebase/firestore",yE="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new ny("@firebase/firestore");function Co(){return Sa.logLevel}function ht(n,...t){if(Sa.logLevel<=Vt.DEBUG){const e=t.map(gy);Sa.debug(`Firestore (${el}): ${n}`,...e)}}function Es(n,...t){if(Sa.logLevel<=Vt.ERROR){const e=t.map(gy);Sa.error(`Firestore (${el}): ${n}`,...e)}}function zo(n,...t){if(Sa.logLevel<=Vt.WARN){const e=t.map(gy);Sa.warn(`Firestore (${el}): ${n}`,...e)}}function gy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,jw(n,i,e)}function jw(n,t,e){let i=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Es(i),new Error(i)}function Kt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||jw(t,r,i)}function Rt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends ws{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(sn.UNAUTHENTICATED))}shutdown(){}}class hM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class fM{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Kt(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ps,t.enqueueRetryable(()=>r(this.currentUser))};const u=()=>{const f=o;t.enqueueRetryable(async()=>{await f.promise,await r(this.currentUser)})},h=f=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ps)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Kt(typeof i.accessToken=="string",31837,{l:i}),new Hw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class dM{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gM{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new dM(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _E{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mM{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Kt(this.o===void 0,3512);const i=o=>{o.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ht("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _E(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Kt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new _E(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=pM(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Ot(n,t){return n<t?-1:n>t?1:0}function Ep(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return Ot(i,r);{const o=Fw(),u=yM(o.encode(vE(n,e)),o.encode(vE(t,e)));return u!==0?u:Ot(i,r)}}e+=i>65535?2:1}return Ot(n.length,t.length)}function vE(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function yM(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Ot(n[e],t[e]);return Ot(n.length,t.length)}function Bo(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=-62135596800,EE=1e6;class ke{static now(){return ke.fromMillis(Date.now())}static fromDate(t){return ke.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*EE);return new ke(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ft(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ft(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<bE)throw new ft(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/EE}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-bE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new ke(0,0))}static max(){return new wt(new ke(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="__name__";class Ci{constructor(t,e,i){e===void 0?e=0:e>t.length&&Tt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Tt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Ci.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Ot(t.length,e.length)}static compareSegments(t,e){const i=Ci.isNumericId(t),r=Ci.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Ci.extractNumericId(t).compare(Ci.extractNumericId(e)):Ep(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return fr.fromString(t.substring(4,t.length-2))}}class le extends Ci{construct(t,e,i){return new le(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ft(it.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new le(e)}static emptyPath(){return new le([])}}const _M=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Ci{construct(t,e,i){return new We(t,e,i)}static isValidIdentifier(t){return _M.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TE}static keyField(){return new We([TE])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new ft(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new ft(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ft(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(u=!u,r++):h!=="."||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new ft(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(e)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(le.fromString(t))}static fromName(t){return new _t(le.fromString(t).popFirst(5))}static empty(){return new _t(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return le.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new le(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=-1;function vM(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=wt.fromTimestamp(i===1e9?new ke(e+1,0):new ke(e,i));return new mr(r,_t.empty(),t)}function bM(n){return new mr(n.readTime,n.key,Ju)}class mr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new mr(wt.min(),_t.empty(),Ju)}static max(){return new mr(wt.max(),_t.empty(),Ju)}}function EM(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=_t.comparator(n.documentKey,t.documentKey),e!==0?e:Ot(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(n){if(n.code!==it.FAILED_PRECONDITION||n.message!==TM)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):st.reject(e)}static resolve(t){return new st((e,i)=>{e(t)})}static reject(t){return new st((e,i)=>{i(t)})}static waitFor(t){return new st((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},f=>i(f))}),u=!0,o===r&&e()})}static or(t){let e=st.resolve(!1);for(const i of t)e=e.next(r=>r?st.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new st((i,r)=>{const o=t.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const g=f;e(t[g]).next(y=>{u[g]=y,++h,h===o&&i(u)},y=>r(y))}})}static doWhile(t,e){return new st((i,r)=>{const o=()=>{t()===!0?e().next(()=>{o()},r):i()};o()})}}function wM(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function il(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>e.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}yd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=-1;function _d(n){return n==null}function Ff(n){return n===0&&1/n==-1/0}function AM(n){return typeof n=="number"&&Number.isInteger(n)&&!Ff(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="";function xM(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=SE(t)),t=RM(n.get(e),t);return SE(t)}function RM(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case Gw:e+="";break;default:e+=o}}return e}function SE(n){return n+Gw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ca(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Yw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,e){this.comparator=t,this.root=e||Qe.EMPTY}insert(t,e){return new de(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jh(this.root,t,this.comparator,!0)}}class Jh{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Qe.RED,this.left=r??Qe.EMPTY,this.right=o??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Qe(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Qe.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new Qe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new AE(this.data.getIterator())}getIteratorFrom(t){return new AE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ne)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ne(this.comparator);return e.data=t,e}}class AE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new ni([])}unionWith(t){let e=new Ne(We.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ni(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Bo(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Kw("Invalid base64 string: "+o):o}}(t);return new Xe(e)}static fromUint8Array(t){const e=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(t);return new Xe(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const CM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(n){if(Kt(!!n,39018),typeof n=="string"){let t=0;const e=CM.exec(n);if(Kt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:be(n.seconds),nanos:be(n.nanos)}}function be(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function yr(n){return typeof n=="string"?Xe.fromBase64String(n):Xe.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="server_timestamp",Qw="__type__",Ww="__previous_value__",Xw="__local_write_time__";function py(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Qw])===null||e===void 0?void 0:e.stringValue)===$w}function vd(n){const t=n.mapValue.fields[Ww];return py(t)?vd(t):t}function tc(n){const t=pr(n.mapValue.fields[Xw].timestampValue);return new ke(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t,e,i,r,o,u,h,f,g,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=y}}const qf="(default)";class ec{constructor(t,e){this.projectId=t,this.database=e||qf}static empty(){return new ec("","")}get isDefaultDatabase(){return this.database===qf}isEqual(t){return t instanceof ec&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="__type__",DM="__max__",tf={mapValue:{}},Jw="__vector__",Gf="value";function _r(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?py(n)?4:MM(n)?9007199254740991:OM(n)?10:11:Tt(28295,{value:n})}function Ni(n,t){if(n===t)return!0;const e=_r(n);if(e!==_r(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return tc(n).isEqual(tc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=pr(r.timestampValue),h=pr(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,o){return yr(r.bytesValue).isEqual(yr(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return be(r.geoPointValue.latitude)===be(o.geoPointValue.latitude)&&be(r.geoPointValue.longitude)===be(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return be(r.integerValue)===be(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=be(r.doubleValue),h=be(o.doubleValue);return u===h?Ff(u)===Ff(h):isNaN(u)&&isNaN(h)}return!1}(n,t);case 9:return Bo(n.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return function(r,o){const u=r.mapValue.fields||{},h=o.mapValue.fields||{};if(wE(u)!==wE(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Ni(u[f],h[f])))return!1;return!0}(n,t);default:return Tt(52216,{left:n})}}function nc(n,t){return(n.values||[]).find(e=>Ni(e,t))!==void 0}function jo(n,t){if(n===t)return 0;const e=_r(n),i=_r(t);if(e!==i)return Ot(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ot(n.booleanValue,t.booleanValue);case 2:return function(o,u){const h=be(o.integerValue||o.doubleValue),f=be(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,t);case 3:return xE(n.timestampValue,t.timestampValue);case 4:return xE(tc(n),tc(t));case 5:return Ep(n.stringValue,t.stringValue);case 6:return function(o,u){const h=yr(o),f=yr(u);return h.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let g=0;g<h.length&&g<f.length;g++){const y=Ot(h[g],f[g]);if(y!==0)return y}return Ot(h.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,u){const h=Ot(be(o.latitude),be(u.latitude));return h!==0?h:Ot(be(o.longitude),be(u.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return RE(n.arrayValue,t.arrayValue);case 10:return function(o,u){var h,f,g,y;const v=o.fields||{},b=u.fields||{},S=(h=v[Gf])===null||h===void 0?void 0:h.arrayValue,A=(f=b[Gf])===null||f===void 0?void 0:f.arrayValue,I=Ot(((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return I!==0?I:RE(S,A)}(n.mapValue,t.mapValue);case 11:return function(o,u){if(o===tf.mapValue&&u===tf.mapValue)return 0;if(o===tf.mapValue)return 1;if(u===tf.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),g=u.fields||{},y=Object.keys(g);f.sort(),y.sort();for(let v=0;v<f.length&&v<y.length;++v){const b=Ep(f[v],y[v]);if(b!==0)return b;const S=jo(h[f[v]],g[y[v]]);if(S!==0)return S}return Ot(f.length,y.length)}(n.mapValue,t.mapValue);default:throw Tt(23264,{Pe:e})}}function xE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ot(n,t);const e=pr(n),i=pr(t),r=Ot(e.seconds,i.seconds);return r!==0?r:Ot(e.nanos,i.nanos)}function RE(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=jo(e[r],i[r]);if(o)return o}return Ot(e.length,i.length)}function Ho(n){return Tp(n)}function Tp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=pr(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return yr(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return _t.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=Tp(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const u of i)o?o=!1:r+=",",r+=`${u}:${Tp(e.fields[u])}`;return r+"}"}(n.mapValue):Tt(61005,{value:n})}function Af(n){switch(_r(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vd(n);return t?16+Af(t):16;case 5:return 2*n.stringValue.length;case 6:return yr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+Af(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Ca(i.fields,(o,u)=>{r+=o.length+Af(u)}),r}(n.mapValue);default:throw Tt(13486,{value:n})}}function CE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Sp(n){return!!n&&"integerValue"in n}function yy(n){return!!n&&"arrayValue"in n}function IE(n){return!!n&&"nullValue"in n}function DE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xf(n){return!!n&&"mapValue"in n}function OM(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Zw])===null||e===void 0?void 0:e.stringValue)===Jw}function zu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Ca(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=zu(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=zu(n.arrayValue.values[e]);return t}return Object.assign({},n)}function MM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===DM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!xf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=zu(e)}setAll(t){let e=We.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=zu(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());xf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];xf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Ca(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new qn(zu(this.value))}}function tA(n){const t=[];return Ca(n.fields,(e,i)=>{const r=new We([e]);if(xf(i)){const o=tA(i.mapValue).fields;if(o.length===0)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new ni(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t,e,i,r,o,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new rn(t,0,wt.min(),wt.min(),wt.min(),qn.empty(),0)}static newFoundDocument(t,e,i,r){return new rn(t,1,e,wt.min(),i,r,0)}static newNoDocument(t,e){return new rn(t,2,e,wt.min(),wt.min(),qn.empty(),0)}static newUnknownDocument(t,e){return new rn(t,3,e,wt.min(),wt.min(),qn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,e){this.position=t,this.inclusive=e}}function OE(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(o.field.isKeyField()?i=_t.comparator(_t.fromName(u.referenceValue),e.key):i=jo(u,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function ME(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ni(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,e="asc"){this.field=t,this.dir=e}}function kM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{}class Re extends eA{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new PM(t,e,i):e==="array-contains"?new UM(t,i):e==="in"?new zM(t,i):e==="not-in"?new BM(t,i):e==="array-contains-any"?new jM(t,i):new Re(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new VM(t,i):new LM(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(jo(e,this.value)):e!==null&&_r(this.value)===_r(e)&&this.matchesComparison(jo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends eA{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new ai(t,e)}matches(t){return nA(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function nA(n){return n.op==="and"}function iA(n){return NM(n)&&nA(n)}function NM(n){for(const t of n.filters)if(t instanceof ai)return!1;return!0}function wp(n){if(n instanceof Re)return n.field.canonicalString()+n.op.toString()+Ho(n.value);if(iA(n))return n.filters.map(t=>wp(t)).join(",");{const t=n.filters.map(e=>wp(e)).join(",");return`${n.op}(${t})`}}function sA(n,t){return n instanceof Re?function(i,r){return r instanceof Re&&i.op===r.op&&i.field.isEqual(r.field)&&Ni(i.value,r.value)}(n,t):n instanceof ai?function(i,r){return r instanceof ai&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,u,h)=>o&&sA(u,r.filters[h]),!0):!1}(n,t):void Tt(19439)}function rA(n){return n instanceof Re?function(e){return`${e.field.canonicalString()} ${e.op} ${Ho(e.value)}`}(n):n instanceof ai?function(e){return e.op.toString()+" {"+e.getFilters().map(rA).join(" ,")+"}"}(n):"Filter"}class PM extends Re{constructor(t,e,i){super(t,e,i),this.key=_t.fromName(i.referenceValue)}matches(t){const e=_t.comparator(t.key,this.key);return this.matchesComparison(e)}}class VM extends Re{constructor(t,e){super(t,"in",e),this.keys=aA("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class LM extends Re{constructor(t,e){super(t,"not-in",e),this.keys=aA("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function aA(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>_t.fromName(i.referenceValue))}class UM extends Re{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return yy(e)&&nc(e.arrayValue,this.value)}}class zM extends Re{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&nc(this.value.arrayValue,e)}}class BM extends Re{constructor(t,e){super(t,"not-in",e)}matches(t){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!nc(this.value.arrayValue,e)}}class jM extends Re{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!yy(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>nc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function kE(n,t=null,e=[],i=[],r=null,o=null,u=null){return new HM(n,t,e,i,r,o,u)}function _y(n){const t=Rt(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>wp(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),_d(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Ho(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Ho(i)).join(",")),t.Ie=e}return t.Ie}function vy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!kM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!sA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!ME(n.startAt,t.startAt)&&ME(n.endAt,t.endAt)}function Ap(n){return _t.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function FM(n,t,e,i,r,o,u,h){return new sl(n,t,e,i,r,o,u,h)}function by(n){return new sl(n)}function NE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function oA(n){return n.collectionGroup!==null}function Bu(n){const t=Rt(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ee.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Ne(We.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ee.push(new ic(o,i))}),e.has(We.keyField().canonicalString())||t.Ee.push(new ic(We.keyField(),i))}return t.Ee}function Oi(n){const t=Rt(n);return t.de||(t.de=qM(t,Bu(n))),t.de}function qM(n,t){if(n.limitType==="F")return kE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new ic(r.field,o)});const e=n.endAt?new Yf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Yf(n.startAt.position,n.startAt.inclusive):null;return kE(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function xp(n,t){const e=n.filters.concat([t]);return new sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Kf(n,t,e){return new sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function bd(n,t){return vy(Oi(n),Oi(t))&&n.limitType===t.limitType}function lA(n){return`${_y(Oi(n))}|lt:${n.limitType}`}function Io(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>rA(r)).join(", ")}]`),_d(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Ho(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Ho(r)).join(",")),`Target(${i})`}(Oi(n))}; limitType=${n.limitType})`}function Ed(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):_t.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of Bu(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(u,h,f){const g=OE(u,h,f);return u.inclusive?g<=0:g<0}(i.startAt,Bu(i),r)||i.endAt&&!function(u,h,f){const g=OE(u,h,f);return u.inclusive?g>=0:g>0}(i.endAt,Bu(i),r))}(n,t)}function GM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uA(n){return(t,e)=>{let i=!1;for(const r of Bu(n)){const o=YM(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function YM(n,t,e){const i=n.field.isKeyField()?_t.comparator(t.key,e.key):function(o,u,h){const f=u.data.field(o),g=h.data.field(o);return f!==null&&g!==null?jo(f,g):Tt(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Tt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ca(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return Yw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=new de(_t.comparator);function Ts(){return KM}const cA=new de(_t.comparator);function Iu(...n){let t=cA;for(const e of n)t=t.insert(e.key,e);return t}function hA(n){let t=cA;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ma(){return ju()}function fA(){return ju()}function ju(){return new Ia(n=>n.toString(),(n,t)=>n.isEqual(t))}const $M=new de(_t.comparator),QM=new Ne(_t.comparator);function Lt(...n){let t=QM;for(const e of n)t=t.add(e);return t}const WM=new Ne(Ot);function XM(){return WM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ff(t)?"-0":t}}function dA(n){return{integerValue:""+n}}function ZM(n,t){return AM(t)?dA(t):Ey(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this._=void 0}}function JM(n,t,e){return n instanceof $f?function(r,o){const u={fields:{[Qw]:{stringValue:$w},[Xw]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&py(o)&&(o=vd(o)),o&&(u.fields[Ww]=o),{mapValue:u}}(e,t):n instanceof sc?mA(n,t):n instanceof rc?pA(n,t):function(r,o){const u=gA(r,o),h=PE(u)+PE(r.Re);return Sp(u)&&Sp(r.Re)?dA(h):Ey(r.serializer,h)}(n,t)}function tk(n,t,e){return n instanceof sc?mA(n,t):n instanceof rc?pA(n,t):e}function gA(n,t){return n instanceof Qf?function(i){return Sp(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class $f extends Td{}class sc extends Td{constructor(t){super(),this.elements=t}}function mA(n,t){const e=yA(t);for(const i of n.elements)e.some(r=>Ni(r,i))||e.push(i);return{arrayValue:{values:e}}}class rc extends Td{constructor(t){super(),this.elements=t}}function pA(n,t){let e=yA(t);for(const i of n.elements)e=e.filter(r=>!Ni(r,i));return{arrayValue:{values:e}}}class Qf extends Td{constructor(t,e){super(),this.serializer=t,this.Re=e}}function PE(n){return be(n.integerValue||n.doubleValue)}function yA(n){return yy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ek(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof sc&&r instanceof sc||i instanceof rc&&r instanceof rc?Bo(i.elements,r.elements,Ni):i instanceof Qf&&r instanceof Qf?Ni(i.Re,r.Re):i instanceof $f&&r instanceof $f}(n.transform,t.transform)}class nk{constructor(t,e){this.version=t,this.transformResults=e}}class ys{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ys}static exists(t){return new ys(void 0,t)}static updateTime(t){return new ys(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Sd{}function _A(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new bA(n.key,ys.none()):new Ec(n.key,n.data,ys.none());{const e=n.data,i=qn.empty();let r=new Ne(We.comparator);for(let o of t.fields)if(!r.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?i.delete(o):i.set(o,u),r=r.add(o)}return new Da(n.key,i,new ni(r.toArray()),ys.none())}}function ik(n,t,e){n instanceof Ec?function(r,o,u){const h=r.value.clone(),f=LE(r.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,t,e):n instanceof Da?function(r,o,u){if(!Rf(r.precondition,o))return void o.convertToUnknownDocument(u.version);const h=LE(r.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(vA(r)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,t,e):function(r,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,e)}function Hu(n,t,e,i){return n instanceof Ec?function(o,u,h,f){if(!Rf(o.precondition,u))return h;const g=o.value.clone(),y=UE(o.fieldTransforms,f,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof Da?function(o,u,h,f){if(!Rf(o.precondition,u))return h;const g=UE(o.fieldTransforms,f,u),y=u.data;return y.setAll(vA(o)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,t,e,i):function(o,u,h){return Rf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,t,e)}function sk(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=gA(i.transform,r||null);o!=null&&(e===null&&(e=qn.empty()),e.set(i.field,o))}return e||null}function VE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Bo(i,r,(o,u)=>ek(o,u))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Ec extends Sd{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Da extends Sd{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function vA(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function LE(n,t,e){const i=new Map;Kt(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,tk(u,h,e[r]))}return i}function UE(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,JM(o,u,t))}return i}class bA extends Sd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rk extends Sd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&ik(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Hu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Hu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=fA();return this.mutations.forEach(r=>{const o=t.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(r.key)?null:h;const f=_A(u,h);f!==null&&i.set(r.key,f),u.isValidDocument()||u.convertToNoDocument(wt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Lt())}isEqual(t){return this.batchId===t.batchId&&Bo(this.mutations,t.mutations,(e,i)=>VE(e,i))&&Bo(this.baseMutations,t.baseMutations,(e,i)=>VE(e,i))}}class Ty{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Kt(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return $M}();const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new Ty(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,jt;function uk(n){switch(n){case it.OK:return Tt(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Tt(15467,{code:n})}}function EA(n){if(n===void 0)return Es("GRPC error has no .code"),it.UNKNOWN;switch(n){case xe.OK:return it.OK;case xe.CANCELLED:return it.CANCELLED;case xe.UNKNOWN:return it.UNKNOWN;case xe.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case xe.INTERNAL:return it.INTERNAL;case xe.UNAVAILABLE:return it.UNAVAILABLE;case xe.UNAUTHENTICATED:return it.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case xe.NOT_FOUND:return it.NOT_FOUND;case xe.ALREADY_EXISTS:return it.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return it.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case xe.ABORTED:return it.ABORTED;case xe.OUT_OF_RANGE:return it.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return it.UNIMPLEMENTED;case xe.DATA_LOSS:return it.DATA_LOSS;default:return Tt(39323,{code:n})}}(jt=xe||(xe={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new fr([4294967295,4294967295],0);function zE(n){const t=Fw().encode(n),e=new Pw;return e.update(t),new Uint8Array(e.digest())}function BE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new fr([e,i],0),new fr([r,o],0)]}class Sy{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Du(`Invalid padding: ${e}`);if(i<0)throw new Du(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Du(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Du(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=fr.fromNumber(this.pe)}we(t,e,i){let r=t.add(e.multiply(fr.fromNumber(i)));return r.compare(ck)===1&&(r=new fr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=zE(t),[i,r]=BE(e);for(let o=0;o<this.hashCount;o++){const u=this.we(i,r,o);if(!this.be(u))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new Sy(o,r,e);return i.forEach(h=>u.insert(h)),u}insert(t){if(this.pe===0)return;const e=zE(t),[i,r]=BE(e);for(let o=0;o<this.hashCount;o++){const u=this.we(i,r,o);this.Se(u)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Tc.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new wd(wt.min(),r,new de(Ot),Ts(),Lt())}}class Tc{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Tc(i,e,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(t,e,i,r){this.De=t,this.removedTargetIds=e,this.key=i,this.ve=r}}class TA{constructor(t,e){this.targetId=t,this.Ce=e}}class SA{constructor(t,e,i=Xe.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class jE{constructor(){this.Fe=0,this.Me=HE(),this.xe=Xe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Lt(),e=Lt(),i=Lt();return this.Me.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Tt(38017,{changeType:o})}}),new Tc(this.xe,this.Oe,t,e,i)}Qe(){this.Ne=!1,this.Me=HE()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class hk{constructor(t){this.ze=t,this.je=new Map,this.He=Ts(),this.Je=ef(),this.Ye=ef(),this.Ze=new de(Ot)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const i=this.rt(e);switch(t.state){case 0:this.it(e)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(e);break;case 3:this.it(e)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),i.ke(t.resumeToken));break;default:Tt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((i,r)=>{this.it(r)&&e(r)})}ot(t){const e=t.targetId,i=t.Ce.count,r=this._t(e);if(r){const o=r.target;if(Ap(o))if(i===0){const u=new _t(o.path);this.tt(e,u,rn.newNoDocument(u,wt.min()))}else Kt(i===1,20013,{expectedCount:i});else{const u=this.ut(e);if(u!==i){const h=this.ct(t),f=h?this.lt(h,t,u):1;if(f!==0){this.st(e);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let u,h;try{u=yr(i).toUint8Array()}catch(f){if(f instanceof Kw)return zo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Sy(u,r,o)}catch(f){return zo(f instanceof Du?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(t,e,i){return e.Ce.count===i-this.Tt(t,e.targetId)?0:2}Tt(t,e){const i=this.ze.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.tt(e,o,null),r++)}),r}It(t){const e=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&Ap(h.target)){const f=new _t(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,rn.newNoDocument(f,t))}o.Le&&(e.set(u,o.qe()),o.Qe())}});let i=Lt();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const g=this._t(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.He.forEach((o,u)=>u.setReadTime(t));const r=new wd(t,e,this.Ze,this.He,i);return this.He=Ts(),this.Je=ef(),this.Ye=ef(),this.Ze=new de(Ot),r}et(t,e){if(!this.it(t))return;const i=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,i),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,i){if(!this.it(t))return;const r=this.rt(t);this.dt(t,e)?r.$e(e,1):r.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),i&&(this.He=this.He.insert(e,i))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new jE,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Ne(Ot),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Ne(Ot),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new jE),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function ef(){return new de(_t.comparator)}function HE(){return new de(_t.comparator)}const fk={asc:"ASCENDING",desc:"DESCENDING"},dk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gk={and:"AND",or:"OR"};class mk{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Rp(n,t){return n.useProto3Json||_d(t)?t:{value:t}}function Wf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function pk(n,t){return Wf(n,t.toTimestamp())}function Mi(n){return Kt(!!n,49232),wt.fromTimestamp(function(e){const i=pr(e);return new ke(i.seconds,i.nanos)}(n))}function wy(n,t){return Cp(n,t).canonicalString()}function Cp(n,t){const e=function(r){return new le(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function AA(n){const t=le.fromString(n);return Kt(DA(t),10190,{key:t.toString()}),t}function Ip(n,t){return wy(n.databaseId,t.path)}function Wm(n,t){const e=AA(t);if(e.get(1)!==n.databaseId.projectId)throw new ft(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ft(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new _t(RA(e))}function xA(n,t){return wy(n.databaseId,t)}function yk(n){const t=AA(n);return t.length===4?le.emptyPath():RA(t)}function Dp(n){return new le(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function RA(n){return Kt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function FE(n,t,e){return{name:Ip(n,t),fields:e.value.mapValue.fields}}function _k(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(g,y){return g.useProto3Json?(Kt(y===void 0||typeof y=="string",58123),Xe.fromBase64String(y||"")):(Kt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Xe.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(g){const y=g.code===void 0?it.UNKNOWN:EA(g.code);return new ft(y,g.message||"")}(u);e=new SA(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Wm(n,i.document.name),o=Mi(i.document.updateTime),u=i.document.createTime?Mi(i.document.createTime):wt.min(),h=new qn({mapValue:{fields:i.document.fields}}),f=rn.newFoundDocument(r,o,u,h),g=i.targetIds||[],y=i.removedTargetIds||[];e=new Cf(g,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Wm(n,i.document),o=i.readTime?Mi(i.readTime):wt.min(),u=rn.newNoDocument(r,o),h=i.removedTargetIds||[];e=new Cf([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Wm(n,i.document),o=i.removedTargetIds||[];e=new Cf([],o,r,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,u=new lk(r,o),h=i.targetId;e=new TA(h,u)}}return e}function vk(n,t){let e;if(t instanceof Ec)e={update:FE(n,t.key,t.value)};else if(t instanceof bA)e={delete:Ip(n,t.key)};else if(t instanceof Da)e={update:FE(n,t.key,t.data),updateMask:Ck(t.fieldMask)};else{if(!(t instanceof rk))return Tt(16599,{ft:t.type});e={verify:Ip(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,u){const h=u.transform;if(h instanceof $f)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof sc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof rc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Qf)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw Tt(20930,{transform:u.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:pk(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Tt(27497)}(n,t.precondition)),e}function bk(n,t){return n&&n.length>0?(Kt(t!==void 0,14353),n.map(e=>function(r,o){let u=r.updateTime?Mi(r.updateTime):Mi(o);return u.isEqual(wt.min())&&(u=Mi(o)),new nk(u,r.transformResults||[])}(e,t))):[]}function Ek(n,t){return{documents:[xA(n,t.path)]}}function Tk(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=xA(n,r);const o=function(g){if(g.length!==0)return IA(ai.create(g,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const u=function(g){if(g.length!==0)return g.map(y=>function(b){return{field:Do(b.field),direction:Ak(b.dir)}}(y))}(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=Rp(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:e,parent:r}}function Sk(n){let t=yk(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Kt(i===1,65062);const y=e.from[0];y.allDescendants?r=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=function(v){const b=CA(v);return b instanceof ai&&iA(b)?b.getFilters():[b]}(e.where));let u=[];e.orderBy&&(u=function(v){return v.map(b=>function(A){return new ic(Oo(A.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(b))}(e.orderBy));let h=null;e.limit&&(h=function(v){let b;return b=typeof v=="object"?v.value:v,_d(b)?null:b}(e.limit));let f=null;e.startAt&&(f=function(v){const b=!!v.before,S=v.values||[];return new Yf(S,b)}(e.startAt));let g=null;return e.endAt&&(g=function(v){const b=!v.before,S=v.values||[];return new Yf(S,b)}(e.endAt)),FM(t,r,u,o,h,"F",f,g)}function wk(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function CA(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Oo(e.unaryFilter.field);return Re.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Oo(e.unaryFilter.field);return Re.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Oo(e.unaryFilter.field);return Re.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Oo(e.unaryFilter.field);return Re.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(n):n.fieldFilter!==void 0?function(e){return Re.create(Oo(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return ai.create(e.compositeFilter.filters.map(i=>CA(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(e.compositeFilter.op))}(n):Tt(30097,{filter:n})}function Ak(n){return fk[n]}function xk(n){return dk[n]}function Rk(n){return gk[n]}function Do(n){return{fieldPath:n.canonicalString()}}function Oo(n){return We.fromServerFormat(n.fieldPath)}function IA(n){return n instanceof Re?function(e){if(e.op==="=="){if(DE(e.value))return{unaryFilter:{field:Do(e.field),op:"IS_NAN"}};if(IE(e.value))return{unaryFilter:{field:Do(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(DE(e.value))return{unaryFilter:{field:Do(e.field),op:"IS_NOT_NAN"}};if(IE(e.value))return{unaryFilter:{field:Do(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(e.field),op:xk(e.op),value:e.value}}}(n):n instanceof ai?function(e){const i=e.getFilters().map(r=>IA(r));return i.length===1?i[0]:{compositeFilter:{op:Rk(e.op),filters:i}}}(n):Tt(54877,{filter:n})}function Ck(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function DA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t,e,i,r,o=wt.min(),u=wt.min(),h=Xe.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new or(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t){this.wt=t}}function Dk(n){const t=Sk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Kf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.yn=new Mk}addToCollectionParentIndex(t,e){return this.yn.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.yn.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve(mr.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve(mr.min())}updateCollectionGroup(t,e,i){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class Mk{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ne(le.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ne(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OA=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(OA,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new Fo(0)}static ir(){return new Fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="LruGarbageCollector",kk=1048576;function YE([n,t],[e,i]){const r=Ot(n,e);return r===0?Ot(t,i):r}class Nk{constructor(t){this.cr=t,this.buffer=new Ne(YE),this.lr=0}hr(){return++this.lr}Pr(t){const e=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();YE(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Pk{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){ht(GE,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){il(e)?ht(GE,"Ignoring IndexedDB error during garbage collection: ",e):await nl(e)}await this.Ir(3e5)})}}class Vk{constructor(t,e){this.Er=t,this.params=e}calculateTargetCount(t,e){return this.Er.dr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return st.resolve(yd.le);const i=new Nk(e);return this.Er.forEachTarget(t,r=>i.Pr(r.sequenceNumber)).next(()=>this.Er.Ar(t,r=>i.Pr(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Er.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Er.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(qE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qE):this.Rr(t,e))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,e){let i,r,o,u,h,f,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,u=Date.now(),this.nthSequenceNumber(t,r))).next(v=>(i=v,h=Date.now(),this.removeTargets(t,i,e))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(v=>(g=Date.now(),Co()<=Vt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${r} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(g-f)+`ms
Total Duration: ${g-y}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:v})))}}function Lk(n,t){return new Vk(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.changes=new Ia(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?st.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&Hu(i.mutation,r,ni.empty(),ke.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Lt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Lt()){const r=ma();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let u=Iu();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=ma();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Lt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let o=Ts();const u=ju(),h=function(){return ju()}();return e.forEach((f,g)=>{const y=i.get(g.key);r.has(g.key)&&(y===void 0||y.mutation instanceof Da)?o=o.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),Hu(y.mutation,g,y.mutation.getFieldMask(),ke.now())):u.set(g.key,ni.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((g,y)=>u.set(g,y)),e.forEach((g,y)=>{var v;return h.set(g,new zk(y,(v=u.get(g))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(t,e){const i=ju();let r=new de((u,h)=>u-h),o=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(f=>{const g=e.get(f);if(g===null)return;let y=i.get(f)||ni.empty();y=h.applyToLocalView(g,y),i.set(f,y);const v=(r.get(h.batchId)||Lt()).add(f);r=r.insert(h.batchId,v)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,y=f.value,v=fA();y.forEach(b=>{if(!o.has(b)){const S=_A(e.get(b),i.get(b));S!==null&&v.set(b,S),o=o.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(t,g,v))}return st.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(u){return _t.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):oA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):st.resolve(ma());let h=Ju,f=o;return u.next(g=>st.forEach(g,(y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(y)?st.resolve():this.remoteDocumentCache.getEntry(t,y).next(b=>{f=f.insert(y,b)}))).next(()=>this.populateOverlays(t,g,o)).next(()=>this.computeViews(t,f,g,Lt())).next(y=>({batchId:h,changes:hA(y)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new _t(e)).next(i=>{let r=Iu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let u=Iu();return this.indexManager.getCollectionParents(t,o).next(h=>st.forEach(h,f=>{const g=function(v,b){return new sl(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,g,i,r).next(y=>{y.forEach((v,b)=>{u=u.insert(v,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(u=>{o.forEach((f,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,rn.newInvalidDocument(y)))});let h=Iu();return u.forEach((f,g)=>{const y=o.get(f);y!==void 0&&Hu(y.mutation,g,ni.empty(),ke.now()),Ed(e,g)&&(h=h.insert(f,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,e){return st.resolve(this.Fr.get(e))}saveBundleMetadata(t,e){return this.Fr.set(e.id,function(r){return{id:r.id,version:r.version,createTime:Mi(r.createTime)}}(e)),st.resolve()}getNamedQuery(t,e){return st.resolve(this.Mr.get(e))}saveNamedQuery(t,e){return this.Mr.set(e.name,function(r){return{name:r.name,query:Dk(r.bundledQuery),readTime:Mi(r.readTime)}}(e)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.overlays=new de(_t.comparator),this.Or=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ma();return st.forEach(e,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.St(t,e,o)}),st.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Or.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(i)),st.resolve()}getOverlaysForCollection(t,e,i){const r=ma(),o=e.length+1,u=new _t(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return st.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new de((g,y)=>g-y);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let y=o.get(g.largestBatchId);y===null&&(y=ma(),o=o.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const h=ma(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,y)=>h.set(g,y)),!(h.size()>=r)););return st.resolve(h)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const u=this.Or.get(r.largestBatchId).delete(i.key);this.Or.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new ok(e,i));let o=this.Or.get(e);o===void 0&&(o=Lt(),this.Or.set(e,o)),this.Or.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(){this.Nr=new Ne(je.Br),this.Lr=new Ne(je.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,e){const i=new je(t,e);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Qr(new je(t,e))}$r(t,e){t.forEach(i=>this.removeReference(i,e))}Ur(t){const e=new _t(new le([])),i=new je(e,t),r=new je(e,t+1),o=[];return this.Lr.forEachInRange([i,r],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const e=new _t(new le([])),i=new je(e,t),r=new je(e,t+1);let o=Lt();return this.Lr.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new je(t,0),i=this.Nr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class je{constructor(t,e){this.key=t,this.Gr=e}static Br(t,e){return _t.comparator(t.key,e.key)||Ot(t.Gr,e.Gr)}static kr(t,e){return Ot(t.Gr,e.Gr)||_t.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Jn=1,this.zr=new Ne(je.Br)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new ak(o,e,i,r);this.mutationQueue.push(u);for(const h of r)this.zr=this.zr.add(new je(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return st.resolve(u)}lookupMutationBatch(t,e){return st.resolve(this.jr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.Hr(i),o=r<0?0:r;return st.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?my:this.Jn-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new je(e,0),r=new je(e,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([i,r],u=>{const h=this.jr(u.Gr);o.push(h)}),st.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ne(Ot);return e.forEach(r=>{const o=new je(r,0),u=new je(r,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],h=>{i=i.add(h.Gr)})}),st.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;_t.isDocumentKey(o)||(o=o.child(""));const u=new je(new _t(o),0);let h=new Ne(Ot);return this.zr.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===r&&(h=h.add(f.Gr)),!0)},u),st.resolve(this.Jr(h))}Jr(t){const e=[];return t.forEach(i=>{const r=this.jr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){Kt(this.Yr(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return st.forEach(e.mutations,r=>{const o=new je(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.zr=i})}Xn(t){}containsKey(t,e){const i=new je(e,0),r=this.zr.firstAfterOrEqual(i);return st.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}Yr(t,e){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const e=this.Hr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(t){this.Zr=t,this.docs=function(){return new de(_t.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.Zr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return st.resolve(i?i.document.mutableCopy():rn.newInvalidDocument(e))}getEntries(t,e){let i=Ts();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():rn.newInvalidDocument(r))}),st.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Ts();const u=e.path,h=new _t(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:y}}=f.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||EM(bM(y),i)<=0||(r.has(y.key)||Ed(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return st.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Tt(9500)}Xr(t,e){return st.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Yk(this)}getSize(t){return st.resolve(this.size)}}class Yk extends Uk{constructor(t){super(),this.vr=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.vr.addEntry(t,r)):this.vr.removeEntry(i)}),st.waitFor(e)}getFromCache(t,e){return this.vr.getEntry(t,e)}getAllFromCache(t,e){return this.vr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(t){this.persistence=t,this.ei=new Ia(e=>_y(e),vy),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.ti=0,this.ni=new Ay,this.targetCount=0,this.ri=Fo.rr()}forEachTarget(t,e){return this.ei.forEach((i,r)=>e(r)),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ti&&(this.ti=e),st.resolve()}ar(t){this.ei.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ri=new Fo(e),this.highestTargetId=e),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,e){return this.ar(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.ar(e),st.resolve()}removeTargetData(t,e){return this.ei.delete(e.target),this.ni.Ur(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.ei.forEach((u,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),st.waitFor(o).next(()=>r)}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const i=this.ei.get(e)||null;return st.resolve(i)}addMatchingKeys(t,e,i){return this.ni.qr(e,i),st.resolve()}removeMatchingKeys(t,e,i){this.ni.$r(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),st.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ni.Ur(e),st.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ni.Wr(e);return st.resolve(i)}containsKey(t,e){return st.resolve(this.ni.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(t,e){this.ii={},this.overlays={},this.si=new yd(0),this.oi=!1,this.oi=!0,this._i=new Fk,this.referenceDelegate=t(this),this.ai=new Kk(this),this.indexManager=new Ok,this.remoteDocumentCache=function(r){return new Gk(r)}(i=>this.referenceDelegate.ui(i)),this.serializer=new Ik(e),this.ci=new jk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Hk,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ii[t.toKey()];return i||(i=new qk(e,this.referenceDelegate),this.ii[t.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,e,i){ht("MemoryPersistence","Starting transaction:",t);const r=new $k(this.si.next());return this.referenceDelegate.li(),i(r).next(o=>this.referenceDelegate.hi(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Pi(t,e){return st.or(Object.values(this.ii).map(i=>()=>i.containsKey(t,e)))}}class $k extends SM{constructor(t){super(),this.currentSequenceNumber=t}}class xy{constructor(t){this.persistence=t,this.Ti=new Ay,this.Ii=null}static Ei(t){return new xy(t)}get di(){if(this.Ii)return this.Ii;throw Tt(60996)}addReference(t,e,i){return this.Ti.addReference(i,e),this.di.delete(i.toString()),st.resolve()}removeReference(t,e,i){return this.Ti.removeReference(i,e),this.di.add(i.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),st.resolve()}removeTarget(t,e){this.Ti.Ur(e.targetId).forEach(r=>this.di.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.di.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}li(){this.Ii=new Set}hi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,i=>{const r=_t.fromPath(i);return this.Ai(t,r).next(o=>{o||e.removeEntry(r,wt.min())})}).next(()=>(this.Ii=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ai(t,e).next(i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())})}ui(t){return 0}Ai(t,e){return st.or([()=>st.resolve(this.Ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Pi(t,e)])}}class Xf{constructor(t,e){this.persistence=t,this.Ri=new Ia(i=>xM(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=Lk(this,e)}static Ei(t,e){return new Xf(t,e)}li(){}hi(t){return st.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Vr(t){let e=0;return this.Ar(t,i=>{e++}).next(()=>e)}Ar(t,e){return st.forEach(this.Ri,(i,r)=>this.gr(t,i,r).next(o=>o?st.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.Xr(t,u=>this.gr(t,u,e).next(h=>{h||(i++,o.removeEntry(u,wt.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.Ri.set(e,t.currentSequenceNumber),st.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.Ri.set(i,t.currentSequenceNumber),st.resolve()}removeReference(t,e,i){return this.Ri.set(i,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,e){return this.Ri.set(e,t.currentSequenceNumber),st.resolve()}ui(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Af(t.data.value)),e}gr(t,e,i){return st.or([()=>this.persistence.Pi(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.Ri.get(e);return st.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ls=i,this.hs=r}static Ps(t,e){let i=Lt(),r=Lt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Ry(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return OI()?8:wM(on())>0?6:4}()}initialize(t,e){this.As=t,this.indexManager=e,this.Ts=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.Rs(t,e).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(t,e,r,i).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new Qk;return this.fs(t,e,u).next(h=>{if(o.result=h,this.Is)return this.gs(t,e,u,h.size)})}).next(()=>o.result)}gs(t,e,i,r){return i.documentReadCount<this.Es?(Co()<=Vt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Io(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),st.resolve()):(Co()<=Vt.DEBUG&&ht("QueryEngine","Query:",Io(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(Co()<=Vt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Io(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oi(e))):st.resolve())}Rs(t,e){if(NE(e))return st.resolve(null);let i=Oi(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=Kf(e,null,"F"),i=Oi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=Lt(...o);return this.As.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(f=>{const g=this.ps(e,h);return this.ys(e,g,u,f.readTime)?this.Rs(t,Kf(e,null,"F")):this.ws(t,g,e,f)}))})))}Vs(t,e,i,r){return NE(e)||r.isEqual(wt.min())?st.resolve(null):this.As.getDocuments(t,i).next(o=>{const u=this.ps(e,o);return this.ys(e,u,i,r)?st.resolve(null):(Co()<=Vt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Io(e)),this.ws(t,u,e,vM(r,Ju)).next(h=>h))})}ps(t,e){let i=new Ne(uA(t));return e.forEach((r,o)=>{Ed(t,o)&&(i=i.add(o))}),i}ys(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}fs(t,e,i){return Co()<=Vt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Io(e)),this.As.getDocumentsMatchingQuery(t,e,mr.min(),i)}ws(t,e,i,r){return this.As.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="LocalStore",Xk=3e8;class Zk{constructor(t,e,i,r){this.persistence=t,this.bs=e,this.serializer=r,this.Ss=new de(Ot),this.Ds=new Ia(o=>_y(o),vy),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(i)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Bk(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ss))}}function Jk(n,t,e,i){return new Zk(n,t,e,i)}async function kA(n,t){const e=Rt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Fs(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let f=Lt();for(const g of r){u.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}for(const g of o){h.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(i,f).next(g=>({Ms:g,removedBatchIds:u,addedBatchIds:h}))})})}function tN(n,t){const e=Rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Cs.newChangeBuffer({trackRemovals:!0});return function(h,f,g,y){const v=g.batch,b=v.keys();let S=st.resolve();return b.forEach(A=>{S=S.next(()=>y.getEntry(f,A)).next(I=>{const C=g.docVersions.get(A);Kt(C!==null,48541),I.version.compareTo(C)<0&&(v.applyToRemoteDocument(I,g),I.isValidDocument()&&(I.setReadTime(g.commitVersion),y.addEntry(I)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(f,v))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=Lt();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function NA(n){const t=Rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ai.getLastRemoteSnapshotVersion(e))}function eN(n,t){const e=Rt(n),i=t.snapshotVersion;let r=e.Ss;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Cs.newChangeBuffer({trackRemovals:!0});r=e.Ss;const h=[];t.targetChanges.forEach((y,v)=>{const b=r.get(v);if(!b)return;h.push(e.ai.removeMatchingKeys(o,y.removedDocuments,v).next(()=>e.ai.addMatchingKeys(o,y.addedDocuments,v)));let S=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?S=S.withResumeToken(Xe.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),r=r.insert(v,S),function(I,C,V){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=Xk?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(b,S,y)&&h.push(e.ai.updateTargetData(o,S))});let f=Ts(),g=Lt();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(nN(o,u,t.documentUpdates).next(y=>{f=y.xs,g=y.Os})),!i.isEqual(wt.min())){const y=e.ai.getLastRemoteSnapshotVersion(o).next(v=>e.ai.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(y)}return st.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,f,g)).next(()=>f)}).then(o=>(e.Ss=r,o))}function nN(n,t,e){let i=Lt(),r=Lt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=Ts();return e.forEach((h,f)=>{const g=o.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(wt.min())?(t.removeEntry(h,f.readTime),u=u.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(f),u=u.insert(h,f)):ht(Cy,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)}),{xs:u,Os:r}})}function iN(n,t){const e=Rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=my),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function sN(n,t){const e=Rt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.ai.getTargetData(i,t).next(o=>o?(r=o,st.resolve(r)):e.ai.allocateTargetId(i).next(u=>(r=new or(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.ai.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ss.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ss=e.Ss.insert(i.targetId,i),e.Ds.set(t,i.targetId)),i})}async function Op(n,t,e){const i=Rt(n),r=i.Ss.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r))}catch(u){if(!il(u))throw u;ht(Cy,`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ss=i.Ss.remove(t),i.Ds.delete(r.target)}function KE(n,t,e){const i=Rt(n);let r=wt.min(),o=Lt();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,g,y){const v=Rt(f),b=v.Ds.get(y);return b!==void 0?st.resolve(v.Ss.get(b)):v.ai.getTargetData(g,y)}(i,u,Oi(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>i.bs.getDocumentsMatchingQuery(u,t,e?r:wt.min(),e?o:Lt())).next(h=>(rN(i,GM(t),h),{documents:h,Ns:o})))}function rN(n,t,e){let i=n.vs.get(t)||wt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.vs.set(t,i)}class $E{constructor(){this.activeTargetIds=XM()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class aN{constructor(){this.So=new $E,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,e,i){this.Do[t]=e}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new $E,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="ConnectivityMonitor";class WE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ht(QE,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){ht(QE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf=null;function Mp(){return nf===null?nf=function(){return 268435456+Math.round(2147483648*Math.random())}():nf++,"0x"+nf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="RestConnection",lN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uN{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=e+"://"+t.host,this.ko=`projects/${i}/databases/${r}`,this.qo=this.databaseId.database===qf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Qo(t,e,i,r,o){const u=Mp(),h=this.$o(t,e.toUriEncodedString());ht(Xm,`Sending RPC '${t}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(f,r,o);const{host:g}=new URL(h),y=gc(g);return this.Ko(t,h,f,i,y).then(v=>(ht(Xm,`Received RPC '${t}' ${u}: `,v),v),v=>{throw zo(Xm,`RPC '${t}' ${u} failed with error: `,v,"url: ",h,"request:",i),v})}Wo(t,e,i,r,o,u){return this.Qo(t,e,i,r,o)}Uo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+el}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}$o(t,e){const i=lN[t];return`${this.Lo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class hN extends uN{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,e,i,r,o){const u=Mp();return new Promise((h,f)=>{const g=new Vw;g.setWithCredentials(!0),g.listenOnce(Lw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case wf.NO_ERROR:const v=g.getResponseJson();ht(en,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),h(v);break;case wf.TIMEOUT:ht(en,`RPC '${t}' ${u} timed out`),f(new ft(it.DEADLINE_EXCEEDED,"Request time out"));break;case wf.HTTP_ERROR:const b=g.getStatus();if(ht(en,`RPC '${t}' ${u} failed with status:`,b,"response text:",g.getResponseText()),b>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S==null?void 0:S.error;if(A&&A.status&&A.message){const I=function(V){const G=V.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(G)>=0?G:it.UNKNOWN}(A.status);f(new ft(I,A.message))}else f(new ft(it.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new ft(it.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{s_:t,streamId:u,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{ht(en,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(r);ht(en,`RPC '${t}' ${u} sending request:`,r),g.send(e,"POST",y,i,15)})}a_(t,e,i){const r=Mp(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=Bw(),h=zw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const y=o.join("");ht(en,`Creating RPC '${t}' stream ${r}: ${y}`,f);const v=u.createWebChannel(y,f);let b=!1,S=!1;const A=new cN({Go:C=>{S?ht(en,`Not sending because RPC '${t}' stream ${r} is closed:`,C):(b||(ht(en,`Opening RPC '${t}' stream ${r} transport.`),v.open(),b=!0),ht(en,`RPC '${t}' stream ${r} sending:`,C),v.send(C))},zo:()=>v.close()}),I=(C,V,G)=>{C.listen(V,H=>{try{G(H)}catch(J){setTimeout(()=>{throw J},0)}})};return I(v,Cu.EventType.OPEN,()=>{S||(ht(en,`RPC '${t}' stream ${r} transport opened.`),A.t_())}),I(v,Cu.EventType.CLOSE,()=>{S||(S=!0,ht(en,`RPC '${t}' stream ${r} transport closed`),A.r_())}),I(v,Cu.EventType.ERROR,C=>{S||(S=!0,zo(en,`RPC '${t}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),A.r_(new ft(it.UNAVAILABLE,"The operation could not be completed")))}),I(v,Cu.EventType.MESSAGE,C=>{var V;if(!S){const G=C.data[0];Kt(!!G,16349);const H=G,J=(H==null?void 0:H.error)||((V=H[0])===null||V===void 0?void 0:V.error);if(J){ht(en,`RPC '${t}' stream ${r} received error:`,J);const Q=J.status;let at=function(D){const N=xe[D];if(N!==void 0)return EA(N)}(Q),O=J.message;at===void 0&&(at=it.INTERNAL,O="Unknown error status: "+Q+" with message "+J.message),S=!0,A.r_(new ft(at,O)),v.close()}else ht(en,`RPC '${t}' stream ${r} received:`,G),A.i_(G)}}),I(h,Uw.STAT_EVENT,C=>{C.stat===bp.PROXY?ht(en,`RPC '${t}' stream ${r} detected buffering proxy`):C.stat===bp.NOPROXY&&ht(en,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function Zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(n){return new mk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.bi=t,this.timerId=e,this.u_=i,this.c_=r,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const e=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),r=Math.max(0,e-i);r>0&&ht("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="PersistentStream";class VA{constructor(t,e,i,r,o,u,h,f){this.bi=t,this.R_=i,this.V_=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new PA(t,e)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,e){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():e&&e.code===it.RESOURCE_EXHAUSTED?(Es(e.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):e&&e.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(e)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),e=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.m_===e&&this.B_(i,r)},i=>{t(()=>{const r=new ft(it.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(r)})})}B_(t,e){const i=this.N_(this.m_);this.stream=this.k_(t,e),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(r=>{i(()=>this.L_(r))}),this.stream.onMessage(r=>{i(()=>++this.p_==1?this.q_(r):this.onNext(r))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return ht(XE,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return e=>{this.bi.enqueueAndForget(()=>this.m_===t?e():(ht(XE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fN extends VA{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.serializer=o}k_(t,e){return this.connection.a_("Listen",t,e)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const e=_k(this.serializer,t),i=function(o){if(!("targetChange"in o))return wt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?wt.min():u.readTime?Mi(u.readTime):wt.min()}(t);return this.listener.Q_(e,i)}U_(t){const e={};e.database=Dp(this.serializer),e.addTarget=function(o,u){let h;const f=u.target;if(h=Ap(f)?{documents:Ek(o,f)}:{query:Tk(o,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=wA(o,u.resumeToken);const g=Rp(o,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(wt.min())>0){h.readTime=Wf(o,u.snapshotVersion.toTimestamp());const g=Rp(o,u.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,t);const i=wk(this.serializer,t);i&&(e.labels=i),this.F_(e)}K_(t){const e={};e.database=Dp(this.serializer),e.removeTarget=t,this.F_(e)}}class dN extends VA{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,e){return this.connection.a_("Write",t,e)}q_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const e=bk(t.writeResults,t.commitTime),i=Mi(t.commitTime);return this.listener.j_(i,e)}H_(){const t={};t.database=Dp(this.serializer),this.F_(t)}G_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>vk(this.serializer,i))};this.F_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{}class mN extends gN{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new ft(it.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,e,i,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(t,Cp(e,i),r,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ft(it.UNKNOWN,o.toString())})}Wo(t,e,i,r,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(t,Cp(e,i),r,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ft(it.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class pN{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Es(e),this.ea=!1):ht("OnlineStateTracker",e)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="RemoteStore";class yN{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{i.enqueueAndForget(async()=>{Oa(this)&&(ht(wa,"Restarting streams for network reachability change."),await async function(f){const g=Rt(f);g.aa.add(4),await Sc(g),g.la.set("Unknown"),g.aa.delete(4),await xd(g)}(this))})}),this.la=new pN(i,r)}}async function xd(n){if(Oa(n))for(const t of n.ua)await t(!0)}async function Sc(n){for(const t of n.ua)await t(!1)}function LA(n,t){const e=Rt(n);e._a.has(t.targetId)||(e._a.set(t.targetId,t),My(e)?Oy(e):rl(e).b_()&&Dy(e,t))}function Iy(n,t){const e=Rt(n),i=rl(e);e._a.delete(t),i.b_()&&UA(e,t),e._a.size===0&&(i.b_()?i.v_():Oa(e)&&e.la.set("Unknown"))}function Dy(n,t){if(n.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}rl(n).U_(t)}function UA(n,t){n.ha.Ke(t),rl(n).K_(t)}function Oy(n){n.ha=new hk({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n._a.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),rl(n).start(),n.la.ta()}function My(n){return Oa(n)&&!rl(n).w_()&&n._a.size>0}function Oa(n){return Rt(n).aa.size===0}function zA(n){n.ha=void 0}async function _N(n){n.la.set("Online")}async function vN(n){n._a.forEach((t,e)=>{Dy(n,t)})}async function bN(n,t){zA(n),My(n)?(n.la.ia(t),Oy(n)):n.la.set("Unknown")}async function EN(n,t,e){if(n.la.set("Online"),t instanceof SA&&t.state===2&&t.cause)try{await async function(r,o){const u=o.cause;for(const h of o.targetIds)r._a.has(h)&&(await r.remoteSyncer.rejectListen(h,u),r._a.delete(h),r.ha.removeTarget(h))}(n,t)}catch(i){ht(wa,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Zf(n,i)}else if(t instanceof Cf?n.ha.Xe(t):t instanceof TA?n.ha.ot(t):n.ha.nt(t),!e.isEqual(wt.min()))try{const i=await NA(n.localStore);e.compareTo(i)>=0&&await function(o,u){const h=o.ha.It(u);return h.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const y=o._a.get(g);y&&o._a.set(g,y.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,g)=>{const y=o._a.get(f);if(!y)return;o._a.set(f,y.withResumeToken(Xe.EMPTY_BYTE_STRING,y.snapshotVersion)),UA(o,f);const v=new or(y.target,f,g,y.sequenceNumber);Dy(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(n,e)}catch(i){ht(wa,"Failed to raise snapshot:",i),await Zf(n,i)}}async function Zf(n,t,e){if(!il(t))throw t;n.aa.add(1),await Sc(n),n.la.set("Offline"),e||(e=()=>NA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ht(wa,"Retrying IndexedDB access"),await e(),n.aa.delete(1),await xd(n)})}function BA(n,t){return t().catch(e=>Zf(n,e,t))}async function Rd(n){const t=Rt(n),e=vr(t);let i=t.oa.length>0?t.oa[t.oa.length-1].batchId:my;for(;TN(t);)try{const r=await iN(t.localStore,i);if(r===null){t.oa.length===0&&e.v_();break}i=r.batchId,SN(t,r)}catch(r){await Zf(t,r)}jA(t)&&HA(t)}function TN(n){return Oa(n)&&n.oa.length<10}function SN(n,t){n.oa.push(t);const e=vr(n);e.b_()&&e.W_&&e.G_(t.mutations)}function jA(n){return Oa(n)&&!vr(n).w_()&&n.oa.length>0}function HA(n){vr(n).start()}async function wN(n){vr(n).H_()}async function AN(n){const t=vr(n);for(const e of n.oa)t.G_(e.mutations)}async function xN(n,t,e){const i=n.oa.shift(),r=Ty.from(i,t,e);await BA(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await Rd(n)}async function RN(n,t){t&&vr(n).W_&&await async function(i,r){if(function(u){return uk(u)&&u!==it.ABORTED}(r.code)){const o=i.oa.shift();vr(i).D_(),await BA(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Rd(i)}}(n,t),jA(n)&&HA(n)}async function ZE(n,t){const e=Rt(n);e.asyncQueue.verifyOperationInProgress(),ht(wa,"RemoteStore received new credentials");const i=Oa(e);e.aa.add(3),await Sc(e),i&&e.la.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.aa.delete(3),await xd(e)}async function CN(n,t){const e=Rt(n);t?(e.aa.delete(2),await xd(e)):t||(e.aa.add(2),await Sc(e),e.la.set("Unknown"))}function rl(n){return n.Pa||(n.Pa=function(e,i,r){const o=Rt(e);return o.Y_(),new fN(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{jo:_N.bind(null,n),Jo:vN.bind(null,n),Zo:bN.bind(null,n),Q_:EN.bind(null,n)}),n.ua.push(async t=>{t?(n.Pa.D_(),My(n)?Oy(n):n.la.set("Unknown")):(await n.Pa.stop(),zA(n))})),n.Pa}function vr(n){return n.Ta||(n.Ta=function(e,i,r){const o=Rt(e);return o.Y_(),new dN(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:wN.bind(null,n),Zo:RN.bind(null,n),z_:AN.bind(null,n),j_:xN.bind(null,n)}),n.ua.push(async t=>{t?(n.Ta.D_(),await Rd(n)):(await n.Ta.stop(),n.oa.length>0&&(ht(wa,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new ky(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ny(n,t){if(Es("AsyncQueue",`${t}: ${n}`),il(n))return new ft(it.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static emptySet(t){return new Vo(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||_t.comparator(e.key,i.key):(e,i)=>_t.comparator(e.key,i.key),this.keyedMap=Iu(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Vo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Vo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(){this.Ia=new de(_t.comparator)}track(t){const e=t.doc.key,i=this.Ia.get(e);i?t.type!==0&&i.type===3?this.Ia=this.Ia.insert(e,t):t.type===3&&i.type!==1?this.Ia=this.Ia.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Ia=this.Ia.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Ia=this.Ia.remove(e):t.type===1&&i.type===2?this.Ia=this.Ia.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):Tt(63341,{Vt:t,Ea:i}):this.Ia=this.Ia.insert(e,t)}da(){const t=[];return this.Ia.inorderTraversal((e,i)=>{t.push(i)}),t}}class qo{constructor(t,e,i,r,o,u,h,f,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(t,e,i,r,o){const u=[];return e.forEach(h=>{u.push({type:0,doc:h})}),new qo(t,e,Vo.emptySet(e),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class DN{constructor(){this.queries=tT(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(e,i){const r=Rt(e),o=r.queries;r.queries=tT(),o.forEach((u,h)=>{for(const f of h.Ra)f.onError(i)})})(this,new ft(it.ABORTED,"Firestore shutting down"))}}function tT(){return new Ia(n=>lA(n),bd)}async function FA(n,t){const e=Rt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.Va()&&t.ma()&&(i=2):(o=new IN,i=t.ma()?0:1);try{switch(i){case 0:o.Aa=await e.onListen(r,!0);break;case 1:o.Aa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(u){const h=Ny(u,`Initialization of query '${Io(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.Ra.push(t),t.ga(e.onlineState),o.Aa&&t.pa(o.Aa)&&Py(e)}async function qA(n,t){const e=Rt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const u=o.Ra.indexOf(t);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?r=t.ma()?0:1:!o.Va()&&t.ma()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function ON(n,t){const e=Rt(n);let i=!1;for(const r of t){const o=r.query,u=e.queries.get(o);if(u){for(const h of u.Ra)h.pa(r)&&(i=!0);u.Aa=r}}i&&Py(e)}function MN(n,t,e){const i=Rt(n),r=i.queries.get(t);if(r)for(const o of r.Ra)o.onError(e);i.queries.delete(t)}function Py(n){n.fa.forEach(t=>{t.next()})}var kp,eT;(eT=kp||(kp={})).ya="default",eT.Cache="cache";class GA{constructor(t,e,i){this.query=t,this.wa=e,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new qo(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ba?this.Da(t)&&(this.wa.next(t),e=!0):this.va(t,this.onlineState)&&(this.Ca(t),e=!0),this.Sa=t,e}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let e=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),e=!0),e}va(t,e){if(!t.fromCache||!this.ma())return!0;const i=e!=="Offline";return(!this.options.Fa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const e=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Ca(t){t=qo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==kp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(t){this.key=t}}class KA{constructor(t){this.key=t}}class kN{constructor(t,e){this.query=t,this.qa=e,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Lt(),this.mutatedKeys=Lt(),this.Ua=uA(t),this.Ka=new Vo(this.Ua)}get Wa(){return this.qa}Ga(t,e){const i=e?e.za:new JE,r=e?e.Ka:this.Ka;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,g=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((y,v)=>{const b=r.get(y),S=Ed(this.query,v)?v:null,A=!!b&&this.mutatedKeys.has(b.key),I=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let C=!1;b&&S?b.data.isEqual(S.data)?A!==I&&(i.track({type:3,doc:S}),C=!0):this.ja(b,S)||(i.track({type:2,doc:S}),C=!0,(f&&this.Ua(S,f)>0||g&&this.Ua(S,g)<0)&&(h=!0)):!b&&S?(i.track({type:0,doc:S}),C=!0):b&&!S&&(i.track({type:1,doc:b}),C=!0,(f||g)&&(h=!0)),C&&(S?(u=u.add(S),o=I?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{Ka:u,za:i,ys:h,mutatedKeys:o}}ja(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const u=t.za.da();u.sort((y,v)=>function(S,A){const I=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:C})}};return I(S)-I(A)}(y.type,v.type)||this.Ua(y.doc,v.doc)),this.Ha(i),r=r!=null&&r;const h=e&&!r?this.Ja():[],f=this.$a.size===0&&this.current&&!r?1:0,g=f!==this.Qa;return this.Qa=f,u.length!==0||g?{snapshot:new qo(this.query,t.Ka,o,u,t.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new JE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(e=>this.qa=this.qa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qa=this.qa.delete(e)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Lt(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const e=[];return t.forEach(i=>{this.$a.has(i)||e.push(new KA(i))}),this.$a.forEach(i=>{t.has(i)||e.push(new YA(i))}),e}Xa(t){this.qa=t.Ns,this.$a=Lt();const e=this.Ga(t.documents);return this.applyChanges(e,!0)}eu(){return qo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Vy="SyncEngine";class NN{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class PN{constructor(t){this.key=t,this.tu=!1}}class VN{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Ia(h=>lA(h),bd),this.iu=new Map,this.su=new Set,this.ou=new de(_t.comparator),this._u=new Map,this.au=new Ay,this.uu={},this.cu=new Map,this.lu=Fo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function LN(n,t,e=!0){const i=JA(n);let r;const o=i.ru.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.eu()):r=await $A(i,t,e,!0),r}async function UN(n,t){const e=JA(n);await $A(e,t,!0,!1)}async function $A(n,t,e,i){const r=await sN(n.localStore,Oi(t)),o=r.targetId,u=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await zN(n,t,o,u==="current",r.resumeToken)),n.isPrimaryClient&&e&&LA(n.remoteStore,r),h}async function zN(n,t,e,i,r){n.Pu=(v,b,S)=>async function(I,C,V,G){let H=C.view.Ga(V);H.ys&&(H=await KE(I.localStore,C.query,!1).then(({documents:O})=>C.view.Ga(O,H)));const J=G&&G.targetChanges.get(C.targetId),Q=G&&G.targetMismatches.get(C.targetId)!=null,at=C.view.applyChanges(H,I.isPrimaryClient,J,Q);return iT(I,C.targetId,at.Ya),at.snapshot}(n,v,b,S);const o=await KE(n.localStore,t,!0),u=new kN(t,o.Ns),h=u.Ga(o.documents),f=Tc.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),g=u.applyChanges(h,n.isPrimaryClient,f);iT(n,e,g.Ya);const y=new NN(t,e,u);return n.ru.set(t,y),n.iu.has(e)?n.iu.get(e).push(t):n.iu.set(e,[t]),g.snapshot}async function BN(n,t,e){const i=Rt(n),r=i.ru.get(t),o=i.iu.get(r.targetId);if(o.length>1)return i.iu.set(r.targetId,o.filter(u=>!bd(u,t))),void i.ru.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Op(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&Iy(i.remoteStore,r.targetId),Np(i,r.targetId)}).catch(nl)):(Np(i,r.targetId),await Op(i.localStore,r.targetId,!0))}async function jN(n,t){const e=Rt(n),i=e.ru.get(t),r=e.iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Iy(e.remoteStore,i.targetId))}async function HN(n,t,e){const i=QN(n);try{const r=await function(u,h){const f=Rt(u),g=ke.now(),y=h.reduce((S,A)=>S.add(A.key),Lt());let v,b;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let A=Ts(),I=Lt();return f.Cs.getEntries(S,y).next(C=>{A=C,A.forEach((V,G)=>{G.isValidDocument()||(I=I.add(V))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,A)).next(C=>{v=C;const V=[];for(const G of h){const H=sk(G,v.get(G.key).overlayedDocument);H!=null&&V.push(new Da(G.key,H,tA(H.value.mapValue),ys.exists(!0)))}return f.mutationQueue.addMutationBatch(S,g,V,h)}).next(C=>{b=C;const V=C.applyToLocalDocumentSet(v,I);return f.documentOverlayCache.saveOverlays(S,C.batchId,V)})}).then(()=>({batchId:b.batchId,changes:hA(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(u,h,f){let g=u.uu[u.currentUser.toKey()];g||(g=new de(Ot)),g=g.insert(h,f),u.uu[u.currentUser.toKey()]=g}(i,r.batchId,e),await wc(i,r.changes),await Rd(i.remoteStore)}catch(r){const o=Ny(r,"Failed to persist write");e.reject(o)}}async function QA(n,t){const e=Rt(n);try{const i=await eN(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e._u.get(o);u&&(Kt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?u.tu=!0:r.modifiedDocuments.size>0?Kt(u.tu,14607):r.removedDocuments.size>0&&(Kt(u.tu,42227),u.tu=!1))}),await wc(e,i,t)}catch(i){await nl(i)}}function nT(n,t,e){const i=Rt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.ru.forEach((o,u)=>{const h=u.view.ga(t);h.snapshot&&r.push(h.snapshot)}),function(u,h){const f=Rt(u);f.onlineState=h;let g=!1;f.queries.forEach((y,v)=>{for(const b of v.Ra)b.ga(h)&&(g=!0)}),g&&Py(f)}(i.eventManager,t),r.length&&i.nu.Q_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function FN(n,t,e){const i=Rt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i._u.get(t),o=r&&r.key;if(o){let u=new de(_t.comparator);u=u.insert(o,rn.newNoDocument(o,wt.min()));const h=Lt().add(o),f=new wd(wt.min(),new Map,new de(Ot),u,h);await QA(i,f),i.ou=i.ou.remove(o),i._u.delete(t),Ly(i)}else await Op(i.localStore,t,!1).then(()=>Np(i,t,e)).catch(nl)}async function qN(n,t){const e=Rt(n),i=t.batch.batchId;try{const r=await tN(e.localStore,t);XA(e,i,null),WA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await wc(e,r)}catch(r){await nl(r)}}async function GN(n,t,e){const i=Rt(n);try{const r=await function(u,h){const f=Rt(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return f.mutationQueue.lookupMutationBatch(g,h).next(v=>(Kt(v!==null,37113),y=v.keys(),f.mutationQueue.removeMutationBatch(g,v))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>f.localDocuments.getDocuments(g,y))})}(i.localStore,t);XA(i,t,e),WA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await wc(i,r)}catch(r){await nl(r)}}function WA(n,t){(n.cu.get(t)||[]).forEach(e=>{e.resolve()}),n.cu.delete(t)}function XA(n,t,e){const i=Rt(n);let r=i.uu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.uu[i.currentUser.toKey()]=r}}function Np(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.iu.get(t))n.ru.delete(i),e&&n.nu.Tu(i,e);n.iu.delete(t),n.isPrimaryClient&&n.au.Ur(t).forEach(i=>{n.au.containsKey(i)||ZA(n,i)})}function ZA(n,t){n.su.delete(t.path.canonicalString());const e=n.ou.get(t);e!==null&&(Iy(n.remoteStore,e),n.ou=n.ou.remove(t),n._u.delete(e),Ly(n))}function iT(n,t,e){for(const i of e)i instanceof YA?(n.au.addReference(i.key,t),YN(n,i)):i instanceof KA?(ht(Vy,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,t),n.au.containsKey(i.key)||ZA(n,i.key)):Tt(19791,{Iu:i})}function YN(n,t){const e=t.key,i=e.path.canonicalString();n.ou.get(e)||n.su.has(i)||(ht(Vy,"New document in limbo: "+e),n.su.add(i),Ly(n))}function Ly(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const t=n.su.values().next().value;n.su.delete(t);const e=new _t(le.fromString(t)),i=n.lu.next();n._u.set(i,new PN(e)),n.ou=n.ou.insert(e,i),LA(n.remoteStore,new or(Oi(by(e.path)),i,"TargetPurposeLimboResolution",yd.le))}}async function wc(n,t,e){const i=Rt(n),r=[],o=[],u=[];i.ru.isEmpty()||(i.ru.forEach((h,f)=>{u.push(i.Pu(f,t,e).then(g=>{var y;if((g||e)&&i.isPrimaryClient){const v=g?!g.fromCache:(y=e==null?void 0:e.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(g){r.push(g);const v=Ry.Ps(f.targetId,g);o.push(v)}}))}),await Promise.all(u),i.nu.Q_(r),await async function(f,g){const y=Rt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>st.forEach(g,b=>st.forEach(b.ls,S=>y.persistence.referenceDelegate.addReference(v,b.targetId,S)).next(()=>st.forEach(b.hs,S=>y.persistence.referenceDelegate.removeReference(v,b.targetId,S)))))}catch(v){if(!il(v))throw v;ht(Cy,"Failed to update sequence numbers: "+v)}for(const v of g){const b=v.targetId;if(!v.fromCache){const S=y.Ss.get(b),A=S.snapshotVersion,I=S.withLastLimboFreeSnapshotVersion(A);y.Ss=y.Ss.insert(b,I)}}}(i.localStore,o))}async function KN(n,t){const e=Rt(n);if(!e.currentUser.isEqual(t)){ht(Vy,"User change. New user:",t.toKey());const i=await kA(e.localStore,t);e.currentUser=t,function(o,u){o.cu.forEach(h=>{h.forEach(f=>{f.reject(new ft(it.CANCELLED,u))})}),o.cu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await wc(e,i.Ms)}}function $N(n,t){const e=Rt(n),i=e._u.get(t);if(i&&i.tu)return Lt().add(i.key);{let r=Lt();const o=e.iu.get(t);if(!o)return r;for(const u of o){const h=e.ru.get(u);r=r.unionWith(h.view.Wa)}return r}}function JA(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=QA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$N.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=FN.bind(null,t),t.nu.Q_=ON.bind(null,t.eventManager),t.nu.Tu=MN.bind(null,t.eventManager),t}function QN(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=GN.bind(null,t),t}class Jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ad(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,e){return null}fu(t,e){return null}Vu(t){return Jk(this.persistence,new Wk,t.initialUser,this.serializer)}Ru(t){return new MA(xy.Ei,this.serializer)}Au(t){return new aN}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jf.provider={build:()=>new Jf};class WN extends Jf{constructor(t){super(),this.cacheSizeBytes=t}mu(t,e){Kt(this.persistence.referenceDelegate instanceof Xf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Pk(i,t.asyncQueue,e)}Ru(t){const e=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new MA(i=>Xf.Ei(i,e),this.serializer)}}class Pp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>nT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=KN.bind(null,this.syncEngine),await CN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new DN}()}createDatastore(t){const e=Ad(t.databaseInfo.databaseId),i=function(o){return new hN(o)}(t.databaseInfo);return function(o,u,h,f){return new mN(o,u,h,f)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,o,u,h){return new yN(i,r,o,u,h)}(this.localStore,this.datastore,t.asyncQueue,e=>nT(this.syncEngine,e,0),function(){return WE.C()?new WE:new oN}())}createSyncEngine(t,e){return function(r,o,u,h,f,g,y){const v=new VN(r,o,u,h,f,g);return y&&(v.hu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const o=Rt(r);ht(wa,"RemoteStore shutting down."),o.aa.add(5),await Sc(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Pp.provider={build:()=>new Pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Es("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="FirestoreClient";class XN{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=sn.UNAUTHENTICATED,this.clientId=qw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async u=>{ht(br,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ht(br,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Ny(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Jm(n,t){n.asyncQueue.verifyOperationInProgress(),ht(br,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await kA(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function sT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await ZN(n);ht(br,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>ZE(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>ZE(t.remoteStore,r)),n._onlineComponents=t}async function ZN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(br,"Using user provided OfflineComponentProvider");try{await Jm(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===it.FAILED_PRECONDITION||r.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;zo("Error using user provided cache. Falling back to memory cache: "+e),await Jm(n,new Jf)}}else ht(br,"Using default OfflineComponentProvider"),await Jm(n,new WN(void 0));return n._offlineComponents}async function e1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(br,"Using user provided OnlineComponentProvider"),await sT(n,n._uninitializedComponentsProvider._online)):(ht(br,"Using default OnlineComponentProvider"),await sT(n,new Pp))),n._onlineComponents}function JN(n){return e1(n).then(t=>t.syncEngine)}async function n1(n){const t=await e1(n),e=t.eventManager;return e.onListen=LN.bind(null,t.syncEngine),e.onUnlisten=BN.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=UN.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=jN.bind(null,t.syncEngine),e}function tP(n,t,e={}){const i=new ps;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,g){const y=new t1({next:b=>{y.yu(),u.enqueueAndForget(()=>qA(o,v));const S=b.docs.has(h);!S&&b.fromCache?g.reject(new ft(it.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&b.fromCache&&f&&f.source==="server"?g.reject(new ft(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),v=new GA(by(h.path),y,{includeMetadataChanges:!0,Fa:!0});return FA(o,v)}(await n1(n),n.asyncQueue,t,e,i)),i.promise}function eP(n,t,e={}){const i=new ps;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,g){const y=new t1({next:b=>{y.yu(),u.enqueueAndForget(()=>qA(o,v)),b.fromCache&&f.source==="server"?g.reject(new ft(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),v=new GA(h,y,{includeMetadataChanges:!0,Fa:!0});return FA(o,v)}(await n1(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n,t,e){if(!e)throw new ft(it.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function nP(n,t,e,i){if(t===!0&&i===!0)throw new ft(it.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function aT(n){if(!_t.isDocumentKey(n))throw new ft(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oT(n){if(_t.isDocumentKey(n))throw new ft(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Cd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Tt(12329,{type:typeof n})}function Aa(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ft(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Cd(n);throw new ft(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="firestore.googleapis.com",lT=!0;class uT{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new ft(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=r1,this.ssl=lT}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:lT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=OA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kk)throw new ft(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}nP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i1((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ft(it.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ft(it.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ft(it.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Id{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new cM;switch(i.type){case"firstParty":return new gM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ft(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,dd("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=rT.get(e);i&&(ht("ComponentProvider","Removing Datastore"),rT.delete(e),i.terminate())}(this),Promise.resolve()}}function iP(n,t,e,i={}){var r;n=Aa(n,Id);const o=gc(t),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${t}:${e}`;u.host!==r1&&u.host!==f&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:i});if(!va(g,h)&&(n._setSettings(g),o&&($S(`https://${f}`),dd("Firestore",!0)),i.mockUserToken)){let y,v;if(typeof i.mockUserToken=="string")y=i.mockUserToken,v=sn.MOCK_USER;else{y=TI(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new ft(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new sn(b)}n._authCredentials=new hM(new Hw(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ar(this.firestore,t,this._query)}}class _n{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _n(this.firestore,t,this._key)}}class dr extends Ar{constructor(t,e,i){super(t,e,by(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _n(this.firestore,null,new _t(t))}withConverter(t){return new dr(this.firestore,t,this._path)}}function sP(n,t,...e){if(n=Cn(n),s1("collection","path",t),n instanceof Id){const i=le.fromString(t,...e);return oT(i),new dr(n,null,i)}{if(!(n instanceof _n||n instanceof dr))throw new ft(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(le.fromString(t,...e));return oT(i),new dr(n.firestore,null,i)}}function a1(n,t,...e){if(n=Cn(n),arguments.length===1&&(t=qw.newId()),s1("doc","path",t),n instanceof Id){const i=le.fromString(t,...e);return aT(i),new _n(n,null,new _t(i))}{if(!(n instanceof _n||n instanceof dr))throw new ft(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(le.fromString(t,...e));return aT(i),new _n(n.firestore,n instanceof dr?n.converter:null,new _t(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="AsyncQueue";class hT{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new PA(this,"async_queue_retry"),this.ju=()=>{const i=Zm();i&&ht(cT,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=t;const e=Zm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const e=Zm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const e=new ps;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!il(t))throw t;ht(cT,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const e=this.Hu.then(()=>(this.Wu=!0,t().catch(i=>{throw this.Ku=i,this.Wu=!1,Es("INTERNAL UNHANDLED ERROR: ",fT(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=e,e}enqueueAfterDelay(t,e,i){this.Ju(),this.zu.indexOf(t)>-1&&(e=0);const r=ky.createAndSchedule(this,t,e,i,o=>this.Xu(o));return this.Uu.push(r),r}Ju(){this.Ku&&Tt(47125,{ec:fT(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const e of this.Uu)if(e.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const e=this.Uu.indexOf(t);this.Uu.splice(e,1)}}function fT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Dd extends Id{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new hT,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hT(t),this._firestoreClient=void 0,await t}}}function rP(n,t){const e=typeof n=="object"?n:ZS(),i=typeof n=="string"?n:qf,r=sy(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=bI("firestore");o&&iP(r,...o)}return r}function Uy(n){if(n._terminated)throw new ft(it.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||aP(n),n._firestoreClient}function aP(n){var t,e,i;const r=n._freezeSettings(),o=function(h,f,g,y){return new IM(h,f,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,i1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new XN(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Go(Xe.fromBase64String(t))}catch(e){throw new ft(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Go(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ft(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ft(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ft(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=/^__.*__$/;class lP{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Da(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ec(t,this.data,e,this.fieldTransforms)}}function l1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{oc:n})}}class Hy{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Hy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.ac({path:i,cc:!1});return r.lc(t),r}hc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.ac({path:i,cc:!1});return r._c(),r}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return td(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(l1(this.oc)&&oP.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class uP{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Ad(t)}dc(t,e,i,r=!1){return new Hy({oc:t,methodName:e,Ec:i,path:We.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u1(n){const t=n._freezeSettings(),e=Ad(n._databaseId);return new uP(n._databaseId,!!t.ignoreUndefinedProperties,e)}function cP(n,t,e,i,r,o={}){const u=n.dc(o.merge||o.mergeFields?2:0,t,e,r);f1("Data must be an object, but it was:",u,i);const h=c1(i,u);let f,g;if(o.merge)f=new ni(u.fieldMask),g=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const v of o.mergeFields){const b=fP(t,v,e);if(!u.contains(b))throw new ft(it.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);gP(y,b)||y.push(b)}f=new ni(y),g=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,g=u.fieldTransforms;return new lP(new qn(h),f,g)}function hP(n,t,e,i=!1){return Fy(e,n.dc(i?4:3,t))}function Fy(n,t){if(h1(n=Cn(n)))return f1("Unsupported field value:",t,n),c1(n,t);if(n instanceof o1)return function(i,r){if(!l1(r.oc))throw r.Tc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Tc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(i,r){const o=[];let u=0;for(const h of i){let f=Fy(h,r.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if((i=Cn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ZM(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=ke.fromDate(i);return{timestampValue:Wf(r.serializer,o)}}if(i instanceof ke){const o=new ke(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Wf(r.serializer,o)}}if(i instanceof By)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Go)return{bytesValue:wA(r.serializer,i._byteString)};if(i instanceof _n){const o=r.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw r.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wy(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof jy)return function(u,h){return{mapValue:{fields:{[Zw]:{stringValue:Jw},[Gf]:{arrayValue:{values:u.toArray().map(g=>{if(typeof g!="number")throw h.Tc("VectorValues must only contain numeric values.");return Ey(h.serializer,g)})}}}}}}(i,r);throw r.Tc(`Unsupported field value: ${Cd(i)}`)}(n,t)}function c1(n,t){const e={};return Yw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ca(n,(i,r)=>{const o=Fy(r,t.uc(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function h1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ke||n instanceof By||n instanceof Go||n instanceof _n||n instanceof o1||n instanceof jy)}function f1(n,t,e){if(!h1(e)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(e)){const i=Cd(e);throw i==="an object"?t.Tc(n+" a custom object"):t.Tc(n+" "+i)}}function fP(n,t,e){if((t=Cn(t))instanceof zy)return t._internalPath;if(typeof t=="string")return d1(n,t);throw td("Field path arguments must be of type string or ",n,!1,void 0,e)}const dP=new RegExp("[~\\*/\\[\\]]");function d1(n,t,e){if(t.search(dP)>=0)throw td(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new zy(...t.split("."))._internalPath}catch{throw td(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function td(n,t,e,i,r){const o=i&&!i.isEmpty(),u=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${i}`),u&&(f+=` in document ${r}`),f+=")"),new ft(it.INVALID_ARGUMENT,h+n+f)}function gP(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new mP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(qy("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class mP extends g1{data(){return super.data()}}function qy(n,t){return typeof t=="string"?d1(n,t):t instanceof zy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ft(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gy{}class Yy extends Gy{}function yP(n,t,...e){let i=[];t instanceof Gy&&i.push(t),i=i.concat(e),function(o){const u=o.filter(f=>f instanceof $y).length,h=o.filter(f=>f instanceof Ky).length;if(u>1||u>0&&h>0)throw new ft(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Ky extends Yy{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Ky(t,e,i)}_apply(t){const e=this._parse(t);return m1(t._query,e),new Ar(t.firestore,t.converter,xp(t._query,e))}_parse(t){const e=u1(t.firestore);return function(o,u,h,f,g,y,v){let b;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ft(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){gT(v,y);const A=[];for(const I of v)A.push(dT(f,o,I));b={arrayValue:{values:A}}}else b=dT(f,o,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||gT(v,y),b=hP(h,u,v,y==="in"||y==="not-in");return Re.create(g,y,b)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class $y extends Gy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new $y(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:ai.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(r,o){let u=r;const h=o.getFlattenedFilters();for(const f of h)m1(u,f),u=xp(u,f)}(t._query,e),new Ar(t.firestore,t.converter,xp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qy extends Yy{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Qy(t,e)}_apply(t){const e=function(r,o,u){if(r.startAt!==null)throw new ft(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ft(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ic(o,u)}(t._query,this._field,this._direction);return new Ar(t.firestore,t.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new sl(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}function _P(n,t="asc"){const e=t,i=qy("orderBy",n);return Qy._create(i,e)}class Wy extends Yy{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new Wy(t,e,i)}_apply(t){return new Ar(t.firestore,t.converter,Kf(t._query,this._limit,this._limitType))}}function vP(n){return Wy._create("limit",n,"F")}function dT(n,t,e){if(typeof(e=Cn(e))=="string"){if(e==="")throw new ft(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oA(t)&&e.indexOf("/")!==-1)throw new ft(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(le.fromString(e));if(!_t.isDocumentKey(i))throw new ft(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return CE(n,new _t(i))}if(e instanceof _n)return CE(n,e._key);throw new ft(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cd(e)}.`)}function gT(n,t){if(!Array.isArray(n)||n.length===0)throw new ft(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function m1(n,t){const e=function(r,o){for(const u of r)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new ft(it.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(it.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class bP{convertValue(t,e="none"){switch(_r(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ca(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;const o=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[Gf].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(u=>be(u.doubleValue));return new jy(o)}convertGeoPoint(t){return new By(be(t.latitude),be(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=vd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(tc(t));default:return null}}convertTimestamp(t){const e=pr(t);return new ke(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=le.fromString(t);Kt(DA(i),9688,{name:t});const r=new ec(i.get(1),i.get(3)),o=new _t(i.popFirst(5));return r.isEqual(e)||Es(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(n,t,e){let i;return i=n?n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class p1 extends g1{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new If(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(qy("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class If extends p1{data(t={}){return super.data(t)}}class TP{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ou(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new If(this._firestore,this._userDataWriter,i.key,i,new Ou(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ft(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(h=>{const f=new If(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Ou(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new If(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Ou(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,y=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:SP(h.type),doc:f,oldIndex:g,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function SP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(n){n=Aa(n,_n);const t=Aa(n.firestore,Dd);return tP(Uy(t),n._key).then(e=>CP(t,n,e))}class y1 extends bP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Go(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new _n(this.firestore,null,e)}}function AP(n){n=Aa(n,Ar);const t=Aa(n.firestore,Dd),e=Uy(t),i=new y1(t);return pP(n._query),eP(e,n._query).then(r=>new TP(t,i,n,r))}function xP(n,t,e){n=Aa(n,_n);const i=Aa(n.firestore,Dd),r=EP(n.converter,t);return RP(i,[cP(u1(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,ys.none())])}function RP(n,t){return function(i,r){const o=new ps;return i.asyncQueue.enqueueAndForget(async()=>HN(await JN(i),r,o)),o.promise}(Uy(n),t)}function CP(n,t,e){const i=e.docs.get(t._key),r=new y1(n);return new p1(n,r,t._key,i,new Ou(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){el=r})(Jo),Uo(new ba("firestore",(i,{instanceIdentifier:r,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new Dd(new fM(i.getProvider("auth-internal")),new mM(u,i.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ft(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(g.options.projectId,y)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),hr(pE,yE,t),hr(pE,yE,"esm2017")})();const IP={apiKey:"AIzaSyDdwctagHhj-kj_JPZLhsmrJm4korAkdu4",authDomain:"monitoringaquarium-52f11.firebaseapp.com",projectId:"monitoringaquarium-52f11",storageBucket:"monitoringaquarium-52f11.appspot.com",messagingSenderId:"426687097538",appId:"1:426687097538:web:28d11407fcecd635e3295b",measurementId:"G-J192Z92LPE"},_1=XS(IP),al=lM(_1),Xy=rP(_1);function DP(){const[n,t]=W.useState(""),[e,i]=W.useState(""),[r,o]=W.useState(""),u=Zo(),h=async f=>{f.preventDefault();try{await QD(al,n,e),u("/dashboard")}catch(g){o(g.message)}};return nt.jsxs("div",{className:"bg-gradient-to-br from-blue-100 to-blue-300 min-h-screen flex flex-col items-center justify-center px-4",children:[nt.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-blue-800 mb-6 drop-shadow-lg",children:"Web Monitoring Aquarium"}),nt.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-xl w-full max-w-md transition-all duration-500 hover:shadow-2xl",children:[nt.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Login"}),nt.jsxs("form",{onSubmit:h,className:"space-y-5",children:[nt.jsxs("div",{children:[nt.jsx("label",{htmlFor:"email",className:"block font-medium mb-1 text-gray-700",children:"Email"}),nt.jsx("input",{type:"email",id:"email",className:"w-full px-4 py-2 border rounded focus:ring-2 focus:ring-blue-400 focus:outline-none",required:!0,value:n,onChange:f=>t(f.target.value)})]}),nt.jsxs("div",{children:[nt.jsx("label",{htmlFor:"password",className:"block font-medium mb-1 text-gray-700",children:"Password"}),nt.jsx("input",{type:"password",id:"password",className:"w-full px-4 py-2 border rounded focus:ring-2 focus:ring-blue-400 focus:outline-none",required:!0,value:e,onChange:f=>i(f.target.value)})]}),r&&nt.jsx("p",{className:"text-sm text-red-600 text-center",children:r}),nt.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition-all duration-300",children:"Login"}),nt.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Belum punya akun?"," ",nt.jsx(hd,{to:"/register",className:"text-blue-500 hover:underline",children:"Daftar"})]})]})]})]})}function OP(){const n=Zo(),[t,e]=W.useState({firstName:"",lastName:"",dob:"",phone:"",address:"",age:"",email:"",password:"",confirmPassword:""}),[i,r]=W.useState(""),o=h=>{e(f=>({...f,[h.target.id]:h.target.value}))},u=async h=>{if(h.preventDefault(),t.password!==t.confirmPassword)return r("Password tidak cocok.");try{const g=(await $D(al,t.email,t.password)).user.uid;await xP(a1(Xy,"users",g),{...t,password:void 0,confirmPassword:void 0}),n("/dashboard")}catch(f){r("Gagal registrasi: "+f.message)}};return nt.jsx("div",{className:"bg-gray-100 flex items-center justify-center min-h-screen",children:nt.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md w-full max-w-md",children:[nt.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Register"}),nt.jsxs("form",{onSubmit:u,className:"space-y-3",children:[["firstName","lastName","dob","phone","address","age","email","password","confirmPassword"].map(h=>nt.jsx("input",{type:h.includes("password")?"password":h==="dob"?"date":h==="email"?"email":"text",id:h,placeholder:h==="firstName"?"Nama Depan":h==="lastName"?"Nama Belakang":h==="dob"?"Tanggal Lahir":h==="phone"?"Nomor HP":h==="address"?"Alamat":h==="age"?"Umur":h==="email"?"Email":h==="password"?"Password":"Konfirmasi Password",className:"w-full px-4 py-2 border rounded",required:!0,value:t[h],onChange:o},h)),nt.jsx("p",{className:"text-red-500 text-center text-sm",children:i}),nt.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Daftar"})]}),nt.jsxs("p",{className:"text-center mt-4 text-sm",children:["Sudah punya akun? ",nt.jsx(hd,{to:"/",className:"text-blue-500",children:"Login"})]})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ac(n){return n+.5|0}const lr=(n,t,e)=>Math.max(Math.min(n,e),t);function Mu(n){return lr(Ac(n*2.55),0,255)}function gr(n){return lr(Ac(n*255),0,255)}function hs(n){return lr(Ac(n/2.55)/100,0,1)}function mT(n){return lr(Ac(n*100),0,100)}const Hn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Vp=[..."0123456789ABCDEF"],MP=n=>Vp[n&15],kP=n=>Vp[(n&240)>>4]+Vp[n&15],sf=n=>(n&240)>>4===(n&15),NP=n=>sf(n.r)&&sf(n.g)&&sf(n.b)&&sf(n.a);function PP(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Hn[n[1]]*17,g:255&Hn[n[2]]*17,b:255&Hn[n[3]]*17,a:t===5?Hn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Hn[n[1]]<<4|Hn[n[2]],g:Hn[n[3]]<<4|Hn[n[4]],b:Hn[n[5]]<<4|Hn[n[6]],a:t===9?Hn[n[7]]<<4|Hn[n[8]]:255})),e}const VP=(n,t)=>n<255?t(n):"";function LP(n){var t=NP(n)?MP:kP;return n?"#"+t(n.r)+t(n.g)+t(n.b)+VP(n.a,t):void 0}const UP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function v1(n,t,e){const i=t*Math.min(e,1-e),r=(o,u=(o+n/30)%12)=>e-i*Math.max(Math.min(u-3,9-u,1),-1);return[r(0),r(8),r(4)]}function zP(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function BP(n,t,e){const i=v1(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function jP(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Zy(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),u=Math.min(e,i,r),h=(o+u)/2;let f,g,y;return o!==u&&(y=o-u,g=h>.5?y/(2-o-u):y/(o+u),f=jP(e,i,r,y,o),f=f*60+.5),[f|0,g||0,h]}function Jy(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(gr)}function t_(n,t,e){return Jy(v1,n,t,e)}function HP(n,t,e){return Jy(BP,n,t,e)}function FP(n,t,e){return Jy(zP,n,t,e)}function b1(n){return(n%360+360)%360}function qP(n){const t=UP.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Mu(+t[5]):gr(+t[5]));const r=b1(+t[2]),o=+t[3]/100,u=+t[4]/100;return t[1]==="hwb"?i=HP(r,o,u):t[1]==="hsv"?i=FP(r,o,u):i=t_(r,o,u),{r:i[0],g:i[1],b:i[2],a:e}}function GP(n,t){var e=Zy(n);e[0]=b1(e[0]+t),e=t_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function YP(n){if(!n)return;const t=Zy(n),e=t[0],i=mT(t[1]),r=mT(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${hs(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const pT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},yT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function KP(){const n={},t=Object.keys(yT),e=Object.keys(pT);let i,r,o,u,h;for(i=0;i<t.length;i++){for(u=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,pT[o]);o=parseInt(yT[u],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let rf;function $P(n){rf||(rf=KP(),rf.transparent=[0,0,0,0]);const t=rf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const QP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function WP(n){const t=QP.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const u=+t[7];e=t[8]?Mu(u):lr(u*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Mu(i):lr(i,0,255)),r=255&(t[4]?Mu(r):lr(r,0,255)),o=255&(t[6]?Mu(o):lr(o,0,255)),{r:i,g:r,b:o,a:e}}}function XP(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${hs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const tp=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,xo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function ZP(n,t,e){const i=xo(hs(n.r)),r=xo(hs(n.g)),o=xo(hs(n.b));return{r:gr(tp(i+e*(xo(hs(t.r))-i))),g:gr(tp(r+e*(xo(hs(t.g))-r))),b:gr(tp(o+e*(xo(hs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function af(n,t,e){if(n){let i=Zy(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=t_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function E1(n,t){return n&&Object.assign(t||{},n)}function _T(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=gr(n[3]))):(t=E1(n,{r:0,g:0,b:0,a:1}),t.a=gr(t.a)),t}function JP(n){return n.charAt(0)==="r"?WP(n):qP(n)}class ac{constructor(t){if(t instanceof ac)return t;const e=typeof t;let i;e==="object"?i=_T(t):e==="string"&&(i=PP(t)||$P(t)||JP(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=E1(this._rgb);return t&&(t.a=hs(t.a)),t}set rgb(t){this._rgb=_T(t)}rgbString(){return this._valid?XP(this._rgb):void 0}hexString(){return this._valid?LP(this._rgb):void 0}hslString(){return this._valid?YP(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const u=e===o?.5:e,h=2*u-1,f=i.a-r.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-g,i.r=255&g*i.r+o*r.r+.5,i.g=255&g*i.g+o*r.g+.5,i.b=255&g*i.b+o*r.b+.5,i.a=u*i.a+(1-u)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=ZP(this._rgb,t._rgb,e)),this}clone(){return new ac(this.rgb)}alpha(t){return this._rgb.a=gr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Ac(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return af(this._rgb,2,t),this}darken(t){return af(this._rgb,2,-t),this}saturate(t){return af(this._rgb,1,t),this}desaturate(t){return af(this._rgb,1,-t),this}rotate(t){return GP(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ls(){}const tV=(()=>{let n=0;return()=>n++})();function ae(n){return n==null}function He(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Gt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Kn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ai(n,t){return Kn(n)?n:t}function Ht(n,t){return typeof n>"u"?t:n}const eV=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function oe(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Xt(n,t,e,i){let r,o,u;if(He(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Gt(n))for(u=Object.keys(n),o=u.length,r=0;r<o;r++)t.call(e,n[u[r]],u[r])}function ed(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function nd(n){if(He(n))return n.map(nd);if(Gt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=nd(n[e[r]]);return t}return n}function T1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function nV(n,t,e,i){if(!T1(n))return;const r=t[n],o=e[n];Gt(r)&&Gt(o)?oc(r,o,i):t[n]=nd(o)}function oc(n,t,e){const i=He(t)?t:[t],r=i.length;if(!Gt(n))return n;e=e||{};const o=e.merger||nV;let u;for(let h=0;h<r;++h){if(u=i[h],!Gt(u))continue;const f=Object.keys(u);for(let g=0,y=f.length;g<y;++g)o(f[g],n,u,e)}return n}function Fu(n,t){return oc(n,t,{merger:iV})}function iV(n,t,e){if(!T1(n))return;const i=t[n],r=e[n];Gt(i)&&Gt(r)?Fu(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=nd(r))}const vT={"":n=>n,x:n=>n.x,y:n=>n.y};function sV(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function rV(n){const t=sV(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function id(n,t){return(vT[t]||(vT[t]=rV(t)))(n)}function e_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const sd=n=>typeof n<"u",Er=n=>typeof n=="function",bT=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function aV(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Fe=Math.PI,ki=2*Fe,oV=ki+Fe,rd=Number.POSITIVE_INFINITY,lV=Fe/180,ii=Fe/2,ua=Fe/4,ET=Fe*2/3,S1=Math.log10,Yo=Math.sign;function qu(n,t,e){return Math.abs(n-t)<e}function TT(n){const t=Math.round(n);n=qu(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(S1(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function uV(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function cV(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function lc(n){return!cV(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function hV(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function fV(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function pa(n){return n*(Fe/180)}function dV(n){return n*(180/Fe)}function ST(n){if(!Kn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function gV(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Fe&&(o+=ki),{angle:o,distance:r}}function Lp(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function mV(n,t){return(n-t+oV)%ki-Fe}function nr(n){return(n%ki+ki)%ki}function w1(n,t,e,i){const r=nr(n),o=nr(t),u=nr(e),h=nr(o-r),f=nr(u-r),g=nr(r-o),y=nr(r-u);return r===o||r===u||i&&o===u||h>f&&g<y}function Gn(n,t,e){return Math.max(t,Math.min(e,n))}function pV(n){return Gn(n,-32768,32767)}function ku(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function n_(n,t,e){e=e||(u=>n[u]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const ya=(n,t,e,i)=>n_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),yV=(n,t,e)=>n_(n,e,i=>n[i][t]>=e);function _V(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const A1=["push","pop","shift","splice","unshift"];function vV(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),A1.forEach(e=>{const i="_onData"+e_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const u=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),u}})})}function wT(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(A1.forEach(o=>{delete n[o]}),delete n._chartjs)}function bV(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const x1=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function R1(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,x1.call(window,()=>{i=!1,n.apply(t,e)}))}}function EV(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const i_=n=>n==="start"?"left":n==="end"?"right":"center",nn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,TV=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function SV(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:u,vScale:h,_parsed:f}=n,g=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,y=u.axis,{min:v,max:b,minDefined:S,maxDefined:A}=u.getUserBounds();if(S){if(r=Math.min(ya(f,y,v).lo,e?i:ya(t,y,u.getPixelForValue(v)).lo),g){const I=f.slice(0,r+1).reverse().findIndex(C=>!ae(C[h.axis]));r-=Math.max(0,I)}r=Gn(r,0,i-1)}if(A){let I=Math.max(ya(f,u.axis,b,!0).hi+1,e?0:ya(t,y,u.getPixelForValue(b),!0).hi+1);if(g){const C=f.slice(I-1).findIndex(V=>!ae(V[h.axis]));I+=Math.max(0,C)}o=Gn(I,r,i)-r}else o=i-r}return{start:r,count:o}}function wV(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const of=n=>n===0||n===1,AT=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ki/e)),xT=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ki/e)+1,Gu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ii)+1,easeOutSine:n=>Math.sin(n*ii),easeInOutSine:n=>-.5*(Math.cos(Fe*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>of(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>of(n)?n:AT(n,.075,.3),easeOutElastic:n=>of(n)?n:xT(n,.075,.3),easeInOutElastic(n){return of(n)?n:n<.5?.5*AT(n*2,.1125,.45):.5+.5*xT(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Gu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Gu.easeInBounce(n*2)*.5:Gu.easeOutBounce(n*2-1)*.5+.5};function s_(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function RT(n){return s_(n)?n:new ac(n)}function ep(n){return s_(n)?n:new ac(n).saturate(.5).darken(.1).hexString()}const AV=["x","y","borderWidth","radius","tension"],xV=["color","borderColor","backgroundColor"];function RV(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:xV},numbers:{type:"number",properties:AV}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function CV(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const CT=new Map;function IV(n,t){t=t||{};const e=n+JSON.stringify(t);let i=CT.get(e);return i||(i=new Intl.NumberFormat(n,t),CT.set(e,i)),i}function C1(n,t,e){return IV(t,e).format(n)}const DV={values(n){return He(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),o=OV(n,e)}const u=S1(Math.abs(o)),h=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),C1(n,i,f)}};function OV(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var I1={formatters:DV};function MV(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:I1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const xa=Object.create(null),Up=Object.create(null);function Yu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function np(n,t,e){return typeof t=="string"?oc(Yu(n,t),e):oc(Yu(n,""),t)}class kV{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>ep(r.backgroundColor),this.hoverBorderColor=(i,r)=>ep(r.borderColor),this.hoverColor=(i,r)=>ep(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return np(this,t,e)}get(t){return Yu(this,t)}describe(t,e){return np(Up,t,e)}override(t,e){return np(xa,t,e)}route(t,e,i,r){const o=Yu(this,t),u=Yu(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],g=u[r];return Gt(f)?Object.assign({},g,f):Ht(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Ee=new kV({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[RV,CV,MV]);function NV(n){return!n||ae(n.size)||ae(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function IT(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function ca(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function DT(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function zp(n,t,e,i){D1(n,t,e,i,null)}function D1(n,t,e,i,r){let o,u,h,f,g,y,v,b;const S=t.pointStyle,A=t.rotation,I=t.radius;let C=(A||0)*lV;if(S&&typeof S=="object"&&(o=S.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(C),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(I)||I<=0)){switch(n.beginPath(),S){default:r?n.ellipse(e,i,r/2,I,0,0,ki):n.arc(e,i,I,0,ki),n.closePath();break;case"triangle":y=r?r/2:I,n.moveTo(e+Math.sin(C)*y,i-Math.cos(C)*I),C+=ET,n.lineTo(e+Math.sin(C)*y,i-Math.cos(C)*I),C+=ET,n.lineTo(e+Math.sin(C)*y,i-Math.cos(C)*I),n.closePath();break;case"rectRounded":g=I*.516,f=I-g,u=Math.cos(C+ua)*f,v=Math.cos(C+ua)*(r?r/2-g:f),h=Math.sin(C+ua)*f,b=Math.sin(C+ua)*(r?r/2-g:f),n.arc(e-v,i-h,g,C-Fe,C-ii),n.arc(e+b,i-u,g,C-ii,C),n.arc(e+v,i+h,g,C,C+ii),n.arc(e-b,i+u,g,C+ii,C+Fe),n.closePath();break;case"rect":if(!A){f=Math.SQRT1_2*I,y=r?r/2:f,n.rect(e-y,i-f,2*y,2*f);break}C+=ua;case"rectRot":v=Math.cos(C)*(r?r/2:I),u=Math.cos(C)*I,h=Math.sin(C)*I,b=Math.sin(C)*(r?r/2:I),n.moveTo(e-v,i-h),n.lineTo(e+b,i-u),n.lineTo(e+v,i+h),n.lineTo(e-b,i+u),n.closePath();break;case"crossRot":C+=ua;case"cross":v=Math.cos(C)*(r?r/2:I),u=Math.cos(C)*I,h=Math.sin(C)*I,b=Math.sin(C)*(r?r/2:I),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-u),n.lineTo(e-b,i+u);break;case"star":v=Math.cos(C)*(r?r/2:I),u=Math.cos(C)*I,h=Math.sin(C)*I,b=Math.sin(C)*(r?r/2:I),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-u),n.lineTo(e-b,i+u),C+=ua,v=Math.cos(C)*(r?r/2:I),u=Math.cos(C)*I,h=Math.sin(C)*I,b=Math.sin(C)*(r?r/2:I),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-u),n.lineTo(e-b,i+u);break;case"line":u=r?r/2:Math.cos(C)*I,h=Math.sin(C)*I,n.moveTo(e-u,i-h),n.lineTo(e+u,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(C)*(r?r/2:I),i+Math.sin(C)*I);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function uc(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function r_(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function a_(n){n.restore()}function PV(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function VV(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function LV(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),ae(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function UV(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),u=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,y=r.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(u,y),n.lineTo(h,y),n.stroke()}}function zV(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function cc(n,t,e,i,r,o={}){const u=He(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,g;for(n.save(),n.font=r.string,LV(n,o),f=0;f<u.length;++f)g=u[f],o.backdrop&&zV(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),ae(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),UV(n,e,i,g,o),i+=Number(r.lineHeight);n.restore()}function Bp(n,t){const{x:e,y:i,w:r,h:o,radius:u}=t;n.arc(e+u.topLeft,i+u.topLeft,u.topLeft,1.5*Fe,Fe,!0),n.lineTo(e,i+o-u.bottomLeft),n.arc(e+u.bottomLeft,i+o-u.bottomLeft,u.bottomLeft,Fe,ii,!0),n.lineTo(e+r-u.bottomRight,i+o),n.arc(e+r-u.bottomRight,i+o-u.bottomRight,u.bottomRight,ii,0,!0),n.lineTo(e+r,i+u.topRight),n.arc(e+r-u.topRight,i+u.topRight,u.topRight,0,-ii,!0),n.lineTo(e+u.topLeft,i)}const BV=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,jV=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function HV(n,t){const e=(""+n).match(BV);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const FV=n=>+n||0;function O1(n,t){const e={},i=Gt(t),r=i?Object.keys(t):t,o=Gt(n)?i?u=>Ht(n[u],n[t[u]]):u=>n[u]:()=>n;for(const u of r)e[u]=FV(o(u));return e}function qV(n){return O1(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ku(n){return O1(n,["topLeft","topRight","bottomLeft","bottomRight"])}function $n(n){const t=qV(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function an(n,t){n=n||{},t=t||Ee.font;let e=Ht(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ht(n.style,t.style);i&&!(""+i).match(jV)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ht(n.family,t.family),lineHeight:HV(Ht(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ht(n.weight,t.weight),string:""};return r.string=NV(r),r}function lf(n,t,e,i){let r,o,u;for(r=0,o=n.length;r<o;++r)if(u=n[r],u!==void 0&&u!==void 0)return u}function GV(n,t,e){const{min:i,max:r}=n,o=eV(t,(r-i)/2),u=(h,f)=>e&&h===0?0:h+f;return{min:u(i,-Math.abs(o)),max:u(r,o)}}function Ma(n,t){return Object.assign(Object.create(n),t)}function o_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=P1("_fallback",n));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>o_([h,...n],t,o,i)};return new Proxy(u,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return k1(h,f,()=>JV(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return MT(h).includes(f)},ownKeys(h){return MT(h)},set(h,f,g){const y=h._storage||(h._storage=r());return h[f]=y[f]=g,delete h._keys,!0}})}function Ko(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:M1(n,i),setContext:o=>Ko(n,o,e,i),override:o=>Ko(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,u){return delete o[u],delete n[u],!0},get(o,u,h){return k1(o,u,()=>KV(o,u,h))},getOwnPropertyDescriptor(o,u){return o._descriptors.allKeys?Reflect.has(n,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,u)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,u){return Reflect.has(n,u)},ownKeys(){return Reflect.ownKeys(n)},set(o,u,h){return n[u]=h,delete o[u],!0}})}function M1(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Er(e)?e:()=>e,isIndexable:Er(i)?i:()=>i}}const YV=(n,t)=>n?n+e_(t):t,l_=(n,t)=>Gt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function k1(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function KV(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:u}=n;let h=i[t];return Er(h)&&u.isScriptable(t)&&(h=$V(t,h,n,e)),He(h)&&h.length&&(h=QV(t,h,n,u.isIndexable)),l_(t,h)&&(h=Ko(h,r,o&&o[t],u)),h}function $V(n,t,e,i){const{_proxy:r,_context:o,_subProxy:u,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,u||i);return h.delete(n),l_(n,f)&&(f=u_(r._scopes,r,n,f)),f}function QV(n,t,e,i){const{_proxy:r,_context:o,_subProxy:u,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Gt(t[0])){const f=t,g=r._scopes.filter(y=>y!==f);t=[];for(const y of f){const v=u_(g,r,n,y);t.push(Ko(v,o,u&&u[n],h))}}return t}function N1(n,t,e){return Er(n)?n(t,e):n}const WV=(n,t)=>n===!0?t:typeof n=="string"?id(t,n):void 0;function XV(n,t,e,i,r){for(const o of t){const u=WV(e,o);if(u){n.add(u);const h=N1(u._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(u===!1&&typeof i<"u"&&e!==i)return null}return!1}function u_(n,t,e,i){const r=t._rootScopes,o=N1(t._fallback,e,i),u=[...n,...r],h=new Set;h.add(i);let f=OT(h,u,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=OT(h,u,o,f,i),f===null)?!1:o_(Array.from(h),[""],r,o,()=>ZV(t,e,i))}function OT(n,t,e,i,r){for(;e;)e=XV(n,t,e,i,r);return e}function ZV(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return He(r)&&Gt(e)?e:r||{}}function JV(n,t,e,i){let r;for(const o of t)if(r=P1(YV(o,n),e),typeof r<"u")return l_(n,r)?u_(e,i,n,r):r}function P1(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function MT(n){let t=n._keys;return t||(t=n._keys=tL(n._scopes)),t}function tL(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const eL=Number.EPSILON||1e-14,$o=(n,t)=>t<n.length&&!n[t].skip&&n[t],V1=n=>n==="x"?"y":"x";function nL(n,t,e,i){const r=n.skip?t:n,o=t,u=e.skip?t:e,h=Lp(o,r),f=Lp(u,o);let g=h/(h+f),y=f/(h+f);g=isNaN(g)?0:g,y=isNaN(y)?0:y;const v=i*g,b=i*y;return{previous:{x:o.x-v*(u.x-r.x),y:o.y-v*(u.y-r.y)},next:{x:o.x+b*(u.x-r.x),y:o.y+b*(u.y-r.y)}}}function iL(n,t,e){const i=n.length;let r,o,u,h,f,g=$o(n,0);for(let y=0;y<i-1;++y)if(f=g,g=$o(n,y+1),!(!f||!g)){if(qu(t[y],0,eL)){e[y]=e[y+1]=0;continue}r=e[y]/t[y],o=e[y+1]/t[y],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(u=3/Math.sqrt(h),e[y]=r*u*t[y],e[y+1]=o*u*t[y])}}function sL(n,t,e="x"){const i=V1(e),r=n.length;let o,u,h,f=$o(n,0);for(let g=0;g<r;++g){if(u=h,h=f,f=$o(n,g+1),!h)continue;const y=h[e],v=h[i];u&&(o=(y-u[e])/3,h[`cp1${e}`]=y-o,h[`cp1${i}`]=v-o*t[g]),f&&(o=(f[e]-y)/3,h[`cp2${e}`]=y+o,h[`cp2${i}`]=v+o*t[g])}}function rL(n,t="x"){const e=V1(t),i=n.length,r=Array(i).fill(0),o=Array(i);let u,h,f,g=$o(n,0);for(u=0;u<i;++u)if(h=f,f=g,g=$o(n,u+1),!!f){if(g){const y=g[t]-f[t];r[u]=y!==0?(g[e]-f[e])/y:0}o[u]=h?g?Yo(r[u-1])!==Yo(r[u])?0:(r[u-1]+r[u])/2:r[u-1]:r[u]}iL(n,r,o),sL(n,o,t)}function uf(n,t,e){return Math.max(Math.min(n,e),t)}function aL(n,t){let e,i,r,o,u,h=uc(n[0],t);for(e=0,i=n.length;e<i;++e)u=o,o=h,h=e<i-1&&uc(n[e+1],t),o&&(r=n[e],u&&(r.cp1x=uf(r.cp1x,t.left,t.right),r.cp1y=uf(r.cp1y,t.top,t.bottom)),h&&(r.cp2x=uf(r.cp2x,t.left,t.right),r.cp2y=uf(r.cp2y,t.top,t.bottom)))}function oL(n,t,e,i,r){let o,u,h,f;if(t.spanGaps&&(n=n.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")rL(n,r);else{let g=i?n[n.length-1]:n[0];for(o=0,u=n.length;o<u;++o)h=n[o],f=nL(g,h,n[Math.min(o+1,u-(i?0:1))%u],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,g=h}t.capBezierPoints&&aL(n,e)}function c_(){return typeof window<"u"&&typeof document<"u"}function h_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function ad(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Od=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function lL(n,t){return Od(n).getPropertyValue(t)}const uL=["top","right","bottom","left"];function _a(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=uL[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const cL=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function hL(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let u=!1,h,f;if(cL(r,o,n.target))h=r,f=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,f=i.clientY-g.top,u=!0}return{x:h,y:f,box:u}}function da(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=Od(e),o=r.boxSizing==="border-box",u=_a(r,"padding"),h=_a(r,"border","width"),{x:f,y:g,box:y}=hL(n,e),v=u.left+(y&&h.left),b=u.top+(y&&h.top);let{width:S,height:A}=t;return o&&(S-=u.width+h.width,A-=u.height+h.height),{x:Math.round((f-v)/S*e.width/i),y:Math.round((g-b)/A*e.height/i)}}function fL(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&h_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const u=o.getBoundingClientRect(),h=Od(o),f=_a(h,"border","width"),g=_a(h,"padding");t=u.width-g.width-f.width,e=u.height-g.height-f.height,i=ad(h.maxWidth,o,"clientWidth"),r=ad(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||rd,maxHeight:r||rd}}const cf=n=>Math.round(n*10)/10;function dL(n,t,e,i){const r=Od(n),o=_a(r,"margin"),u=ad(r.maxWidth,n,"clientWidth")||rd,h=ad(r.maxHeight,n,"clientHeight")||rd,f=fL(n,t,e);let{width:g,height:y}=f;if(r.boxSizing==="content-box"){const b=_a(r,"border","width"),S=_a(r,"padding");g-=S.width+b.width,y-=S.height+b.height}return g=Math.max(0,g-o.width),y=Math.max(0,i?g/i:y-o.height),g=cf(Math.min(g,u,f.maxWidth)),y=cf(Math.min(y,h,f.maxHeight)),g&&!y&&(y=cf(g/2)),(t!==void 0||e!==void 0)&&i&&f.height&&y>f.height&&(y=f.height,g=cf(Math.floor(y*i))),{width:g,height:y}}function kT(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const u=n.canvas;return u.style&&(e||!u.style.height&&!u.style.width)&&(u.style.height=`${n.height}px`,u.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||u.height!==r||u.width!==o?(n.currentDevicePixelRatio=i,u.height=r,u.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const gL=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};c_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function NT(n,t){const e=lL(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ga(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function mL(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function pL(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},u=ga(n,r,e),h=ga(r,o,e),f=ga(o,t,e),g=ga(u,h,e),y=ga(h,f,e);return ga(g,y,e)}const yL=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},_L=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Lo(n,t,e){return n?yL(t,e):_L()}function L1(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function U1(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function z1(n){return n==="angle"?{between:w1,compare:mV,normalize:nr}:{between:ku,compare:(t,e)=>t-e,normalize:t=>t}}function PT({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function vL(n,t,e){const{property:i,start:r,end:o}=e,{between:u,normalize:h}=z1(i),f=t.length;let{start:g,end:y,loop:v}=n,b,S;if(v){for(g+=f,y+=f,b=0,S=f;b<S&&u(h(t[g%f][i]),r,o);++b)g--,y--;g%=f,y%=f}return y<g&&(y+=f),{start:g,end:y,loop:v,style:n.style}}function bL(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,u=t.length,{compare:h,between:f,normalize:g}=z1(i),{start:y,end:v,loop:b,style:S}=vL(n,t,e),A=[];let I=!1,C=null,V,G,H;const J=()=>f(r,H,V)&&h(r,H)!==0,Q=()=>h(o,V)===0||f(o,H,V),at=()=>I||J(),O=()=>!I||Q();for(let R=y,D=y;R<=v;++R)G=t[R%u],!G.skip&&(V=g(G[i]),V!==H&&(I=f(V,r,o),C===null&&at()&&(C=h(V,r)===0?R:D),C!==null&&O()&&(A.push(PT({start:C,end:R,loop:b,count:u,style:S})),C=null),D=R,H=V));return C!==null&&A.push(PT({start:C,end:v,loop:b,count:u,style:S})),A}function EL(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=bL(i[r],n.points,t);o.length&&e.push(...o)}return e}function TL(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function SL(n,t,e,i){const r=n.length,o=[];let u=t,h=n[t],f;for(f=t+1;f<=e;++f){const g=n[f%r];g.skip||g.stop?h.skip||(i=!1,o.push({start:t%r,end:(f-1)%r,loop:i}),t=u=g.stop?f:null):(u=f,h.skip&&(t=f)),h=g}return u!==null&&o.push({start:t%r,end:u%r,loop:i}),o}function wL(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:u,end:h}=TL(e,r,o,i);if(i===!0)return VT(n,[{start:u,end:h,loop:o}],e,t);const f=h<u?h+r:h,g=!!n._fullLoop&&u===0&&h===r-1;return VT(n,SL(e,u,f,g),e,t)}function VT(n,t,e,i){return!i||!i.setContext||!e?t:AL(n,t,e,i)}function AL(n,t,e,i){const r=n._chart.getContext(),o=LT(n.options),{_datasetIndex:u,options:{spanGaps:h}}=n,f=e.length,g=[];let y=o,v=t[0].start,b=v;function S(A,I,C,V){const G=h?-1:1;if(A!==I){for(A+=f;e[A%f].skip;)A-=G;for(;e[I%f].skip;)I+=G;A%f!==I%f&&(g.push({start:A%f,end:I%f,loop:C,style:V}),y=V,v=I%f)}}for(const A of t){v=h?v:A.start;let I=e[v%f],C;for(b=v+1;b<=A.end;b++){const V=e[b%f];C=LT(i.setContext(Ma(r,{type:"segment",p0:I,p1:V,p0DataIndex:(b-1)%f,p1DataIndex:b%f,datasetIndex:u}))),xL(C,y)&&S(v,b-1,A.loop,y),I=V,y=C}v<b-1&&S(v,b-1,A.loop,y)}return g}function LT(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function xL(n,t){if(!t)return!1;const e=[],i=function(r,o){return s_(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function hf(n,t,e){return n.options.clip?n[e]:t[e]}function RL(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:hf(e,t,"left"),right:hf(e,t,"right"),top:hf(i,t,"top"),bottom:hf(i,t,"bottom")}:t}function CL(n,t){const e=t._clip;if(e.disabled)return!1;const i=RL(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class IL{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],u=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:u,currentStep:Math.min(i-e.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=x1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let u=o.length-1,h=!1,f;for(;u>=0;--u)f=o[u],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[u]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var us=new IL;const UT="transparent",DL={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=RT(n||UT),r=i.valid&&RT(t||UT);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class OL{constructor(t,e,i,r){const o=e[i];r=lf([t.to,r,o,t.from]);const u=lf([t.from,o,r]);this._active=!0,this._fn=t.fn||DL[t.type||typeof u],this._easing=Gu[t.easing]||Gu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=u,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,u=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=lf([t.to,e,r,t.from]),this._from=lf([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,u=this._loop,h=this._to;let f;if(this._active=o!==h&&(u||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=u&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class B1{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Gt(t))return;const e=Object.keys(Ee.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Gt(o))return;const u={};for(const h of e)u[h]=o[h];(He(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,u)})})}_animateOptions(t,e){const i=e.options,r=kL(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&ML(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),u=Object.keys(e),h=Date.now();let f;for(f=u.length-1;f>=0;--f){const g=u[f];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,e));continue}const y=e[g];let v=o[g];const b=i.get(g);if(v)if(b&&v.active()){v.update(b,y,h);continue}else v.cancel();if(!b||!b.duration){t[g]=y;continue}o[g]=v=new OL(b,t,g,y),r.push(v)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return us.add(this._chart,i),!0}}function ML(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function kL(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function zT(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function NL(n,t,e){if(e===!1)return!1;const i=zT(n,e),r=zT(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function PL(n){let t,e,i,r;return Gt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function j1(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function BT(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let u,h,f,g;if(t===null)return;let y=!1;for(u=0,h=r.length;u<h;++u){if(f=+r[u],f===e){if(y=!0,i.all)continue;break}g=n.values[f],Kn(g)&&(o||t===0||Yo(t)===Yo(g))&&(t+=g)}return!y&&!i.all?0:t}function VL(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",u=Object.keys(n),h=new Array(u.length);let f,g,y;for(f=0,g=u.length;f<g;++f)y=u[f],h[f]={[r]:y,[o]:n[y]};return h}function ip(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function LL(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function UL(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function zL(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function jT(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function HT(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:u,index:h}=i,f=o.axis,g=u.axis,y=LL(o,u,i),v=t.length;let b;for(let S=0;S<v;++S){const A=t[S],{[f]:I,[g]:C}=A,V=A._stacks||(A._stacks={});b=V[g]=zL(r,y,I),b[h]=C,b._top=jT(b,u,!0,i.type),b._bottom=jT(b,u,!1,i.type);const G=b._visualValues||(b._visualValues={});G[h]=C}}function sp(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function BL(n,t){return Ma(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function jL(n,t,e){return Ma(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Eu(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const rp=n=>n==="reset"||n==="none",FT=(n,t)=>t?n:Object.assign({},n),HL=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:j1(e,!0),values:null};class $u{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ip(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Eu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(v,b,S,A)=>v==="x"?b:v==="r"?A:S,o=e.xAxisID=Ht(i.xAxisID,sp(t,"x")),u=e.yAxisID=Ht(i.yAxisID,sp(t,"y")),h=e.rAxisID=Ht(i.rAxisID,sp(t,"r")),f=e.indexAxis,g=e.iAxisID=r(f,o,u,h),y=e.vAxisID=r(f,u,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(u),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&wT(this._data,this),t._stacked&&Eu(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Gt(e)){const r=this._cachedMeta;this._data=VL(e,r)}else if(i!==e){if(i){wT(i,this);const r=this._cachedMeta;Eu(r),r._parsed=[]}e&&Object.isExtensible(e)&&vV(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=ip(e.vScale,e),e.stack!==i.stack&&(r=!0,Eu(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(HT(this,e._parsed),e._stacked=ip(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:u}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,g=t>0&&i._parsed[t-1],y,v,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{He(r[t])?b=this.parseArrayData(i,r,t,e):Gt(r[t])?b=this.parseObjectData(i,r,t,e):b=this.parsePrimitiveData(i,r,t,e);const S=()=>v[h]===null||g&&v[h]<g[h];for(y=0;y<e;++y)i._parsed[y+t]=v=b[y],f&&(S()&&(f=!1),g=v);i._sorted=f}u&&HT(this,b)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:u}=t,h=o.axis,f=u.axis,g=o.getLabels(),y=o===u,v=new Array(r);let b,S,A;for(b=0,S=r;b<S;++b)A=b+i,v[b]={[h]:y||o.parse(g[A],A),[f]:u.parse(e[A],A)};return v}parseArrayData(t,e,i,r){const{xScale:o,yScale:u}=t,h=new Array(r);let f,g,y,v;for(f=0,g=r;f<g;++f)y=f+i,v=e[y],h[f]={x:o.parse(v[0],y),y:u.parse(v[1],y)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:u}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(r);let y,v,b,S;for(y=0,v=r;y<v;++y)b=y+i,S=e[b],g[y]={x:o.parse(id(S,h),b),y:u.parse(id(S,f),b)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,u=e[t.axis],h={keys:j1(r,!0),values:e._stacks[t.axis]._visualValues};return BT(h,u,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let u=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,u=BT(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,u=r.length,h=this._getOtherScale(t),f=HL(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:v}=UL(h);let b,S;function A(){S=r[b];const I=S[h.axis];return!Kn(S[t.axis])||y>I||v<I}for(b=0;b<u&&!(!A()&&(this.updateRangeFromParsed(g,t,S,f),o));++b);if(o){for(b=u-1;b>=0;--b)if(!A()){this.updateRangeFromParsed(g,t,S,f);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,u;for(r=0,o=e.length;r<o;++r)u=e[r][t.axis],Kn(u)&&i.push(u);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=PL(Ht(this.options.clip,NL(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,u=[],h=this._drawStart||0,f=this._drawCount||r.length-h,g=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,f),y=h;y<h+f;++y){const v=r[y];v.hidden||(v.active&&g?u.push(v):v.draw(t,o))}for(y=0;y<u.length;++y)u[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];o=u.$context||(u.$context=jL(this.getContext(),t,u)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=BL(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,u=t+"-"+e,h=o[u],f=this.enableOptionSharing&&sd(i);if(h)return FT(h,f);const g=this.chart.config,y=g.datasetElementScopeKeys(this._type,t),v=r?[`${t}Hover`,"hover",t,""]:[t,""],b=g.getOptionScopes(this.getDataset(),y),S=Object.keys(Ee.elements[t]),A=()=>this.getContext(i,r,e),I=g.resolveNamedOptions(b,S,A,v);return I.$shared&&(I.$shared=f,o[u]=Object.freeze(FT(I,f))),I}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,u=`animation-${e}`,h=o[u];if(h)return h;let f;if(r.options.animation!==!1){const y=this.chart.config,v=y.datasetAnimationScopeKeys(this._type,e),b=y.getOptionScopes(this.getDataset(),v);f=y.createResolver(b,this.getContext(t,i,e))}const g=new B1(r,f&&f.animations);return f&&f._cacheable&&(o[u]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||rp(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),u=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:u}}updateElement(t,e,i,r){rp(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!rp(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const r=i.length,o=e.length,u=Math.min(o,r);u&&this.parse(0,u),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,u=t+e;let h;const f=g=>{for(g.length+=e,h=g.length-1;h>=u;h--)g[h]=g[h-e]};for(f(o),h=t;h<u;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Eu(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}It($u,"defaults",{}),It($u,"datasetElementType",null),It($u,"dataElementType",null);class Df extends $u{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,u=this.chart._animationsDisabled;let{start:h,count:f}=SV(e,r,u);this._drawStart=h,this._drawCount=f,wV(e)&&(h=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(i,void 0,{animated:!u,options:g},t),this.updateElements(r,h,f,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:u,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,{sharedOptions:y,includeOptions:v}=this._getSharedOptions(e,r),b=u.axis,S=h.axis,{spanGaps:A,segment:I}=this.options,C=lc(A)?A:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||o||r==="none",G=e+i,H=t.length;let J=e>0&&this.getParsed(e-1);for(let Q=0;Q<H;++Q){const at=t[Q],O=V?at:{};if(Q<e||Q>=G){O.skip=!0;continue}const R=this.getParsed(Q),D=ae(R[S]),N=O[b]=u.getPixelForValue(R[b],Q),P=O[S]=o||D?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,R,f):R[S],Q);O.skip=isNaN(N)||isNaN(P)||D,O.stop=Q>0&&Math.abs(R[b]-J[b])>C,I&&(O.parsed=R,O.raw=g.data[Q]),v&&(O.options=y||this.resolveDataElementOptions(Q,at.active?"active":r)),V||this.updateElement(at,Q,O,r),J=R}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),u=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,u)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}It(Df,"id","line"),It(Df,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),It(Df,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function ha(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class f_{constructor(t){It(this,"options");this.options=t||{}}static override(t){Object.assign(f_.prototype,t)}init(){}formats(){return ha()}parse(){return ha()}format(){return ha()}add(){return ha()}diff(){return ha()}startOf(){return ha()}endOf(){return ha()}}var FL={_date:f_};function qL(n,t,e,i){const{controller:r,data:o,_sorted:u}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&u&&o.length){const g=h._reversePixels?yV:ya;if(i){if(r._sharedOptions){const y=o[0],v=typeof y.getRange=="function"&&y.getRange(t);if(v){const b=g(o,t,e-v),S=g(o,t,e+v);return{lo:b.lo,hi:S.hi}}}}else{const y=g(o,t,e);if(f){const{vScale:v}=r._cachedMeta,{_parsed:b}=n,S=b.slice(0,y.lo+1).reverse().findIndex(I=>!ae(I[v.axis]));y.lo-=Math.max(0,S);const A=b.slice(y.hi).findIndex(I=>!ae(I[v.axis]));y.hi+=Math.max(0,A)}return y}}return{lo:0,hi:o.length-1}}function Md(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),u=e[t];for(let h=0,f=o.length;h<f;++h){const{index:g,data:y}=o[h],{lo:v,hi:b}=qL(o[h],t,u,r);for(let S=v;S<=b;++S){const A=y[S];A.skip||i(A,g,S)}}}function GL(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,u=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(u,2))}}function ap(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Md(n,e,t,function(h,f,g){!r&&!uc(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:g})},!0),o}function YL(n,t,e,i){let r=[];function o(u,h,f){const{startAngle:g,endAngle:y}=u.getProps(["startAngle","endAngle"],i),{angle:v}=gV(u,{x:t.x,y:t.y});w1(v,g,y)&&r.push({element:u,datasetIndex:h,index:f})}return Md(n,e,t,o),r}function KL(n,t,e,i,r,o){let u=[];const h=GL(e);let f=Number.POSITIVE_INFINITY;function g(y,v,b){const S=y.inRange(t.x,t.y,r);if(i&&!S)return;const A=y.getCenterPoint(r);if(!(!!o||n.isPointInArea(A))&&!S)return;const C=h(t,A);C<f?(u=[{element:y,datasetIndex:v,index:b}],f=C):C===f&&u.push({element:y,datasetIndex:v,index:b})}return Md(n,e,t,g),u}function op(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?YL(n,t,e,r):KL(n,t,e,i,r,o)}function qT(n,t,e,i,r){const o=[],u=e==="x"?"inXRange":"inYRange";let h=!1;return Md(n,e,t,(f,g,y)=>{f[u]&&f[u](t[e],r)&&(o.push({element:f,datasetIndex:g,index:y}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var $L={modes:{index(n,t,e,i){const r=da(t,n),o=e.axis||"x",u=e.includeInvisible||!1,h=e.intersect?ap(n,r,o,i,u):op(n,r,o,!1,i,u),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const y=h[0].index,v=g.data[y];v&&!v.skip&&f.push({element:v,datasetIndex:g.index,index:y})}),f):[]},dataset(n,t,e,i){const r=da(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;let h=e.intersect?ap(n,r,o,i,u):op(n,r,o,!1,i,u);if(h.length>0){const f=h[0].datasetIndex,g=n.getDatasetMeta(f).data;h=[];for(let y=0;y<g.length;++y)h.push({element:g[y],datasetIndex:f,index:y})}return h},point(n,t,e,i){const r=da(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;return ap(n,r,o,i,u)},nearest(n,t,e,i){const r=da(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;return op(n,r,o,e.intersect,i,u)},x(n,t,e,i){const r=da(t,n);return qT(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=da(t,n);return qT(n,r,"y",e.intersect,i)}}};const H1=["left","top","right","bottom"];function Tu(n,t){return n.filter(e=>e.pos===t)}function GT(n,t){return n.filter(e=>H1.indexOf(e.pos)===-1&&e.box.axis===t)}function Su(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function QL(n){const t=[];let e,i,r,o,u,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:u,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:u&&o+u,stackWeight:h});return t}function WL(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!H1.includes(r))continue;const u=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=o}return t}function XL(n,t){const e=WL(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,u,h;for(o=0,u=n.length;o<u;++o){h=n[o];const{fullSize:f}=h.box,g=e[h.stack],y=g&&h.stackWeight/g.weight;h.horizontal?(h.width=y?y*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=y?y*r:f&&t.availableHeight)}return e}function ZL(n){const t=QL(n),e=Su(t.filter(g=>g.box.fullSize),!0),i=Su(Tu(t,"left"),!0),r=Su(Tu(t,"right")),o=Su(Tu(t,"top"),!0),u=Su(Tu(t,"bottom")),h=GT(t,"x"),f=GT(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(u).concat(h),chartArea:Tu(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(u).concat(h)}}function YT(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function F1(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function JL(n,t,e,i){const{pos:r,box:o}=e,u=n.maxPadding;if(!Gt(r)){e.size&&(n[r]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,n[r]+=e.size}o.getPadding&&F1(u,o.getPadding());const h=Math.max(0,t.outerWidth-YT(u,n,"left","right")),f=Math.max(0,t.outerHeight-YT(u,n,"top","bottom")),g=h!==n.w,y=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:g,other:y}:{same:y,other:g}}function t4(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function e4(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(u=>{o[u]=Math.max(t[u],e[u])}),o}return i(n?["left","right"]:["top","bottom"])}function Nu(n,t,e,i){const r=[];let o,u,h,f,g,y;for(o=0,u=n.length,g=0;o<u;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,e4(h.horizontal,t));const{same:v,other:b}=JL(t,e,h,i);g|=v&&r.length,y=y||b,f.fullSize||r.push(h)}return g&&Nu(r,t,e,i)||y}function ff(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function KT(n,t,e,i){const r=e.padding;let{x:o,y:u}=t;for(const h of n){const f=h.box,g=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/g.weight||1;if(h.horizontal){const v=t.w*y,b=g.size||f.height;sd(g.start)&&(u=g.start),f.fullSize?ff(f,r.left,u,e.outerWidth-r.right-r.left,b):ff(f,t.left+g.placed,u,v,b),g.start=u,g.placed+=v,u=f.bottom}else{const v=t.h*y,b=g.size||f.width;sd(g.start)&&(o=g.start),f.fullSize?ff(f,o,r.top,b,e.outerHeight-r.bottom-r.top):ff(f,o,t.top+g.placed,b,v),g.start=o,g.placed+=v,o=f.right}}t.x=o,t.y=u}var Yn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=$n(n.options.layout.padding),o=Math.max(t-r.width,0),u=Math.max(e-r.height,0),h=ZL(n.boxes),f=h.vertical,g=h.horizontal;Xt(n.boxes,I=>{typeof I.beforeLayout=="function"&&I.beforeLayout()});const y=f.reduce((I,C)=>C.box.options&&C.box.options.display===!1?I:I+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:u,vBoxMaxWidth:o/2/y,hBoxMaxHeight:u/2}),b=Object.assign({},r);F1(b,$n(i));const S=Object.assign({maxPadding:b,w:o,h:u,x:r.left,y:r.top},r),A=XL(f.concat(g),v);Nu(h.fullSize,S,v,A),Nu(f,S,v,A),Nu(g,S,v,A)&&Nu(f,S,v,A),t4(S),KT(h.leftAndTop,S,v,A),S.x+=S.w,S.y+=S.h,KT(h.rightAndBottom,S,v,A),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Xt(h.chartArea,I=>{const C=I.box;Object.assign(C,n.chartArea),C.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class q1{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class n4 extends q1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Of="$chartjs",i4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},$T=n=>n===null||n==="";function s4(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Of]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",$T(r)){const o=NT(n,"width");o!==void 0&&(n.width=o)}if($T(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=NT(n,"height");o!==void 0&&(n.height=o)}return n}const G1=gL?{passive:!0}:!1;function r4(n,t,e){n&&n.addEventListener(t,e,G1)}function a4(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,G1)}function o4(n,t){const e=i4[n.type]||n.type,{x:i,y:r}=da(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function od(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function l4(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||od(h.addedNodes,i),u=u&&!od(h.removedNodes,i);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function u4(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||od(h.removedNodes,i),u=u&&!od(h.addedNodes,i);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const hc=new Map;let QT=0;function Y1(){const n=window.devicePixelRatio;n!==QT&&(QT=n,hc.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function c4(n,t){hc.size||window.addEventListener("resize",Y1),hc.set(n,t)}function h4(n){hc.delete(n),hc.size||window.removeEventListener("resize",Y1)}function f4(n,t,e){const i=n.canvas,r=i&&h_(i);if(!r)return;const o=R1((h,f)=>{const g=r.clientWidth;e(h,f),g<r.clientWidth&&e()},window),u=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,y=f.contentRect.height;g===0&&y===0||o(g,y)});return u.observe(r),c4(n,o),u}function lp(n,t,e){e&&e.disconnect(),t==="resize"&&h4(n)}function d4(n,t,e){const i=n.canvas,r=R1(o=>{n.ctx!==null&&e(o4(o,n))},n);return r4(i,t,r),r}class g4 extends q1{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(s4(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Of])return!1;const i=e[Of].initial;["height","width"].forEach(o=>{const u=i[o];ae(u)?e.removeAttribute(o):e.setAttribute(o,u)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Of],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),u={attach:l4,detach:u4,resize:f4}[e]||d4;r[e]=u(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:lp,detach:lp,resize:lp}[e]||a4)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return dL(t,e,i,r)}isAttached(t){const e=t&&h_(t);return!!(e&&e.isConnected)}}function m4(n){return!c_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?n4:g4}class Ss{constructor(){It(this,"x");It(this,"y");It(this,"active",!1);It(this,"options");It(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return lc(this.x)&&lc(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}It(Ss,"defaults",{}),It(Ss,"defaultRoutes");function p4(n,t){const e=n.options.ticks,i=y4(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?v4(t):[],u=o.length,h=o[0],f=o[u-1],g=[];if(u>r)return b4(t,g,o,u/r),g;const y=_4(o,t,r);if(u>0){let v,b;const S=u>1?Math.round((f-h)/(u-1)):null;for(df(t,g,y,ae(S)?0:h-S,h),v=0,b=u-1;v<b;v++)df(t,g,y,o[v],o[v+1]);return df(t,g,y,f,ae(S)?t.length:f+S),g}return df(t,g,y),g}function y4(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function _4(n,t,e){const i=E4(n),r=t.length/e;if(!i)return Math.max(r,1);const o=uV(i);for(let u=0,h=o.length-1;u<h;u++){const f=o[u];if(f>r)return f}return Math.max(r,1)}function v4(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function b4(n,t,e,i){let r=0,o=e[0],u;for(i=Math.ceil(i),u=0;u<n.length;u++)u===o&&(t.push(n[u]),r++,o=e[r*i])}function df(n,t,e,i,r){const o=Ht(i,0),u=Math.min(Ht(r,n.length),n.length);let h=0,f,g,y;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(g=Math.max(o,0);g<u;g++)g===y&&(t.push(n[g]),h++,y=Math.round(o+h*e))}function E4(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const T4=n=>n==="left"?"right":n==="right"?"left":n,WT=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,XT=(n,t)=>Math.min(t||n,n);function ZT(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function S4(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,u=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),g;if(!(e&&(i===1?g=Math.max(f-o,u-f):t===0?g=(n.getPixelForTick(1)-f)/2:g=(f-n.getPixelForTick(r-1))/2,f+=r<t?g:-g,f<o-h||f>u+h)))return f}function w4(n,t){Xt(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function wu(n){return n.drawTicks?n.tickLength:0}function JT(n,t){if(!n.display)return 0;const e=an(n.font,t),i=$n(n.padding);return(He(n.text)?n.text.length:1)*e.lineHeight+i.height}function A4(n,t){return Ma(n,{scale:t,type:"scale"})}function x4(n,t,e){return Ma(n,{tick:e,index:t,type:"tick"})}function R4(n,t,e){let i=i_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=T4(i)),i}function C4(n,t,e,i){const{top:r,left:o,bottom:u,right:h,chart:f}=n,{chartArea:g,scales:y}=f;let v=0,b,S,A;const I=u-r,C=h-o;if(n.isHorizontal()){if(S=nn(i,o,h),Gt(e)){const V=Object.keys(e)[0],G=e[V];A=y[V].getPixelForValue(G)+I-t}else e==="center"?A=(g.bottom+g.top)/2+I-t:A=WT(n,e,t);b=h-o}else{if(Gt(e)){const V=Object.keys(e)[0],G=e[V];S=y[V].getPixelForValue(G)-C+t}else e==="center"?S=(g.left+g.right)/2-C+t:S=WT(n,e,t);A=nn(i,u,r),v=e==="left"?-ii:ii}return{titleX:S,titleY:A,maxWidth:b,rotation:v}}class ol extends Ss{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Ai(t,Number.POSITIVE_INFINITY),e=Ai(e,Number.NEGATIVE_INFINITY),i=Ai(i,Number.POSITIVE_INFINITY),r=Ai(r,Number.NEGATIVE_INFINITY),{min:Ai(t,i),max:Ai(e,r),minDefined:Kn(t),maxDefined:Kn(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),u;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)u=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,u.min)),o||(i=Math.max(i,u.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Ai(e,Ai(i,e)),max:Ai(i,Ai(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){oe(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:u}=this.options,h=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=GV(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?ZT(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=p4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){oe(this.options.afterUpdate,[this])}beforeSetDimensions(){oe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){oe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),oe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){oe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=oe(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){oe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){oe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=XT(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let u=r,h,f,g;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),v=y.widest.width,b=y.highest.height,S=Gn(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/i:S/(i-1),v+6>h&&(h=S/(i-(t.offset?.5:1)),f=this.maxHeight-wu(t.grid)-e.padding-JT(t.title,this.chart.options.font),g=Math.sqrt(v*v+b*b),u=dV(Math.min(Math.asin(Gn((y.highest.height+6)/h,-1,1)),Math.asin(Gn(f/g,-1,1))-Math.asin(Gn(b/g,-1,1)))),u=Math.max(r,Math.min(o,u))),this.labelRotation=u}afterCalculateLabelRotation(){oe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){oe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,u=this._isVisible(),h=this.isHorizontal();if(u){const f=JT(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=wu(o)+f):(t.height=this.maxHeight,t.width=wu(o)+f),i.display&&this.ticks.length){const{first:g,last:y,widest:v,highest:b}=this._getLabelSizes(),S=i.padding*2,A=pa(this.labelRotation),I=Math.cos(A),C=Math.sin(A);if(h){const V=i.mirror?0:C*v.width+I*b.height;t.height=Math.min(this.maxHeight,t.height+V+S)}else{const V=i.mirror?0:I*v.width+C*b.height;t.width=Math.min(this.maxWidth,t.width+V+S)}this._calculatePadding(g,y,C,I)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:u},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,S=0;f?g?(b=r*t.width,S=i*e.height):(b=i*t.height,S=r*e.width):o==="start"?S=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,S=e.width/2),this.paddingLeft=Math.max((b-y+u)*this.width/(this.width-y),0),this.paddingRight=Math.max((S-v+u)*this.width/(this.width-v),0)}else{let y=e.height/2,v=t.height/2;o==="start"?(y=0,v=t.height):o==="end"&&(y=e.height,v=0),this.paddingTop=y+u,this.paddingBottom=v+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){oe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)ae(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=ZT(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,u=[],h=[],f=Math.floor(e/XT(e,i));let g=0,y=0,v,b,S,A,I,C,V,G,H,J,Q;for(v=0;v<e;v+=f){if(A=t[v].label,I=this._resolveTickFontOptions(v),r.font=C=I.string,V=o[C]=o[C]||{data:{},gc:[]},G=I.lineHeight,H=J=0,!ae(A)&&!He(A))H=IT(r,V.data,V.gc,H,A),J=G;else if(He(A))for(b=0,S=A.length;b<S;++b)Q=A[b],!ae(Q)&&!He(Q)&&(H=IT(r,V.data,V.gc,H,Q),J+=G);u.push(H),h.push(J),g=Math.max(H,g),y=Math.max(J,y)}w4(o,e);const at=u.indexOf(g),O=h.indexOf(y),R=D=>({width:u[D]||0,height:h[D]||0});return{first:R(0),last:R(e-1),widest:R(at),highest:R(O),widths:u,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return pV(this._alignToPixels?ca(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=x4(this.getContext(),t,i))}return this.$context||(this.$context=A4(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=pa(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),u=t.autoSkipPadding||0,h=o?o.widest.width+u:0,f=o?o.highest.height+u:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:u,border:h}=r,f=o.offset,g=this.isHorizontal(),v=this.ticks.length+(f?1:0),b=wu(o),S=[],A=h.setContext(this.getContext()),I=A.display?A.width:0,C=I/2,V=function($){return ca(i,$,I)};let G,H,J,Q,at,O,R,D,N,P,U,M;if(u==="top")G=V(this.bottom),O=this.bottom-b,D=G-C,P=V(t.top)+C,M=t.bottom;else if(u==="bottom")G=V(this.top),P=t.top,M=V(t.bottom)-C,O=G+C,D=this.top+b;else if(u==="left")G=V(this.right),at=this.right-b,R=G-C,N=V(t.left)+C,U=t.right;else if(u==="right")G=V(this.left),N=t.left,U=V(t.right)-C,at=G+C,R=this.left+b;else if(e==="x"){if(u==="center")G=V((t.top+t.bottom)/2+.5);else if(Gt(u)){const $=Object.keys(u)[0],lt=u[$];G=V(this.chart.scales[$].getPixelForValue(lt))}P=t.top,M=t.bottom,O=G+C,D=O+b}else if(e==="y"){if(u==="center")G=V((t.left+t.right)/2);else if(Gt(u)){const $=Object.keys(u)[0],lt=u[$];G=V(this.chart.scales[$].getPixelForValue(lt))}at=G-C,R=at-b,N=t.left,U=t.right}const Zt=Ht(r.ticks.maxTicksLimit,v),At=Math.max(1,Math.ceil(v/Zt));for(H=0;H<v;H+=At){const $=this.getContext(H),lt=o.setContext($),mt=h.setContext($),Pt=lt.lineWidth,L=lt.color,rt=mt.dash||[],ct=mt.dashOffset,ot=lt.tickWidth,gt=lt.tickColor,xt=lt.tickBorderDash||[],yt=lt.tickBorderDashOffset;J=S4(this,H,f),J!==void 0&&(Q=ca(i,J,Pt),g?at=R=N=U=Q:O=D=P=M=Q,S.push({tx1:at,ty1:O,tx2:R,ty2:D,x1:N,y1:P,x2:U,y2:M,width:Pt,color:L,borderDash:rt,borderDashOffset:ct,tickWidth:ot,tickColor:gt,tickBorderDash:xt,tickBorderDashOffset:yt}))}return this._ticksLength=v,this._borderValue=G,S}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,u=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:y,mirror:v}=o,b=wu(i.grid),S=b+y,A=v?-y:S,I=-pa(this.labelRotation),C=[];let V,G,H,J,Q,at,O,R,D,N,P,U,M="middle";if(r==="top")at=this.bottom-A,O=this._getXAxisLabelAlignment();else if(r==="bottom")at=this.top+A,O=this._getXAxisLabelAlignment();else if(r==="left"){const At=this._getYAxisLabelAlignment(b);O=At.textAlign,Q=At.x}else if(r==="right"){const At=this._getYAxisLabelAlignment(b);O=At.textAlign,Q=At.x}else if(e==="x"){if(r==="center")at=(t.top+t.bottom)/2+S;else if(Gt(r)){const At=Object.keys(r)[0],$=r[At];at=this.chart.scales[At].getPixelForValue($)+S}O=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")Q=(t.left+t.right)/2-S;else if(Gt(r)){const At=Object.keys(r)[0],$=r[At];Q=this.chart.scales[At].getPixelForValue($)}O=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(f==="start"?M="top":f==="end"&&(M="bottom"));const Zt=this._getLabelSizes();for(V=0,G=h.length;V<G;++V){H=h[V],J=H.label;const At=o.setContext(this.getContext(V));R=this.getPixelForTick(V)+o.labelOffset,D=this._resolveTickFontOptions(V),N=D.lineHeight,P=He(J)?J.length:1;const $=P/2,lt=At.color,mt=At.textStrokeColor,Pt=At.textStrokeWidth;let L=O;u?(Q=R,O==="inner"&&(V===G-1?L=this.options.reverse?"left":"right":V===0?L=this.options.reverse?"right":"left":L="center"),r==="top"?g==="near"||I!==0?U=-P*N+N/2:g==="center"?U=-Zt.highest.height/2-$*N+N:U=-Zt.highest.height+N/2:g==="near"||I!==0?U=N/2:g==="center"?U=Zt.highest.height/2-$*N:U=Zt.highest.height-P*N,v&&(U*=-1),I!==0&&!At.showLabelBackdrop&&(Q+=N/2*Math.sin(I))):(at=R,U=(1-P)*N/2);let rt;if(At.showLabelBackdrop){const ct=$n(At.backdropPadding),ot=Zt.heights[V],gt=Zt.widths[V];let xt=U-ct.top,yt=0-ct.left;switch(M){case"middle":xt-=ot/2;break;case"bottom":xt-=ot;break}switch(O){case"center":yt-=gt/2;break;case"right":yt-=gt;break;case"inner":V===G-1?yt-=gt:V>0&&(yt-=gt/2);break}rt={left:yt,top:xt,width:gt+ct.width,height:ot+ct.height,color:At.backdropColor}}C.push({label:J,font:D,textOffset:U,options:{rotation:I,color:lt,strokeColor:mt,strokeWidth:Pt,textAlign:L,textBaseline:M,translation:[Q,at],backdrop:rt}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-pa(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,u=this._getLabelSizes(),h=t+o,f=u.widest.width;let g,y;return e==="left"?r?(y=this.right+o,i==="near"?g="left":i==="center"?(g="center",y+=f/2):(g="right",y+=f)):(y=this.right-h,i==="near"?g="right":i==="center"?(g="center",y-=f/2):(g="left",y=this.left)):e==="right"?r?(y=this.left+o,i==="near"?g="right":i==="center"?(g="center",y-=f/2):(g="left",y-=f)):(y=this.left+h,i==="near"?g="left":i==="center"?(g="center",y+=f/2):(g="right",y=this.right)):g="right",{textAlign:g,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:u}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,u),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,u;const h=(f,g,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,u=r.length;o<u;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),u=i.display?o.width:0;if(!u)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,y,v,b;this.isHorizontal()?(g=ca(t,this.left,u)-u/2,y=ca(t,this.right,h)+h/2,v=b=f):(v=ca(t,this.top,u)-u/2,b=ca(t,this.bottom,h)+h/2,g=y=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,v),e.lineTo(y,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&r_(i,r);const o=this.getLabelItems(t);for(const u of o){const h=u.options,f=u.font,g=u.label,y=u.textOffset;cc(i,g,0,y,f,h)}r&&a_(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=an(i.font),u=$n(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Gt(e)?(f+=u.bottom,He(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=u.top;const{titleX:g,titleY:y,maxWidth:v,rotation:b}=C4(this,f,e,h);cc(t,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:b,textAlign:R4(h,e,r),textBaseline:"middle",translation:[g,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ht(t.grid&&t.grid.z,-1),r=Ht(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ol.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,u;for(o=0,u=e.length;o<u;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return an(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class gf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;O4(e)&&(i=this.register(e));const r=this.items,o=t.id,u=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,I4(t,u,i),this.override&&Ee.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ee[r]&&(delete Ee[r][i],this.override&&delete xa[i])}}function I4(n,t,e){const i=oc(Object.create(null),[e?Ee.get(e):{},Ee.get(t),n.defaults]);Ee.set(t,i),n.defaultRoutes&&D4(t,n.defaultRoutes),n.descriptors&&Ee.describe(t,n.descriptors)}function D4(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),u=t[e].split("."),h=u.pop(),f=u.join(".");Ee.route(o,r,f,h)})}function O4(n){return"id"in n&&"defaults"in n}class M4{constructor(){this.controllers=new gf($u,"datasets",!0),this.elements=new gf(Ss,"elements"),this.plugins=new gf(Object,"plugins"),this.scales=new gf(ol,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Xt(r,u=>{const h=i||this._getRegistryForType(u);this._exec(t,h,u)})})}_exec(t,e,i){const r=e_(t);oe(i["before"+r],[],i),e[t](i),oe(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Ri=new M4;class k4{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),u=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),u}_notify(t,e,i,r){r=r||{};for(const o of t){const u=o.plugin,h=u[i],f=[e,r,o.options];if(oe(h,f,u)===!1&&r.cancelable)return!1}return!0}invalidate(){ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Ht(i.options&&i.options.plugins,{}),o=N4(i);return r===!1&&!e?[]:V4(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,u)=>o.filter(h=>!u.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function N4(n){const t={},e=[],i=Object.keys(Ri.plugins.items);for(let o=0;o<i.length;o++)e.push(Ri.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const u=r[o];e.indexOf(u)===-1&&(e.push(u),t[u.id]=!0)}return{plugins:e,localIds:t}}function P4(n,t){return!t&&n===!1?null:n===!0?{}:n}function V4(n,{plugins:t,localIds:e},i,r){const o=[],u=n.getContext();for(const h of t){const f=h.id,g=P4(i[f],r);g!==null&&o.push({plugin:h,options:L4(n.config,{plugin:h,local:e[f]},g,u)})}return o}function L4(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),u=n.getOptionScopes(i,o);return e&&t.defaults&&u.push(t.defaults),n.createResolver(u,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function jp(n,t){const e=Ee.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function U4(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function z4(n,t){return n===t?"_index_":"_value_"}function tS(n){if(n==="x"||n==="y"||n==="r")return n}function B4(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Hp(n,...t){if(tS(n))return n;for(const e of t){const i=e.axis||B4(e.position)||n.length>1&&tS(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function eS(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function j4(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return eS(n,"x",e[0])||eS(n,"y",e[0])}return{}}function H4(n,t){const e=xa[n.type]||{scales:{}},i=t.scales||{},r=jp(n.type,t),o=Object.create(null);return Object.keys(i).forEach(u=>{const h=i[u];if(!Gt(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const f=Hp(u,h,j4(u,n),Ee.scales[h.type]),g=z4(f,r),y=e.scales||{};o[u]=Fu(Object.create(null),[{axis:f},h,y[f],y[g]])}),n.data.datasets.forEach(u=>{const h=u.type||n.type,f=u.indexAxis||jp(h,t),y=(xa[h]||{}).scales||{};Object.keys(y).forEach(v=>{const b=U4(v,f),S=u[b+"AxisID"]||b;o[S]=o[S]||Object.create(null),Fu(o[S],[{axis:b},i[S],y[v]])})}),Object.keys(o).forEach(u=>{const h=o[u];Fu(h,[Ee.scales[h.type],Ee.scale])}),o}function K1(n){const t=n.options||(n.options={});t.plugins=Ht(t.plugins,{}),t.scales=H4(n,t)}function $1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function F4(n){return n=n||{},n.data=$1(n.data),K1(n),n}const nS=new Map,Q1=new Set;function mf(n,t){let e=nS.get(n);return e||(e=t(),nS.set(n,e),Q1.add(e)),e}const Au=(n,t,e)=>{const i=id(t,e);i!==void 0&&n.add(i)};class q4{constructor(t){this._config=F4(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=$1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),K1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return mf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return mf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return mf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return mf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,u=this._cachedScopes(t,i),h=u.get(e);if(h)return h;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(v=>Au(f,t,v))),y.forEach(v=>Au(f,r,v)),y.forEach(v=>Au(f,xa[o]||{},v)),y.forEach(v=>Au(f,Ee,v)),y.forEach(v=>Au(f,Up,v))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),Q1.has(e)&&u.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,xa[e]||{},Ee.datasets[e]||{},{type:e},Ee,Up]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:u,subPrefixes:h}=iS(this._resolverCache,t,r);let f=u;if(Y4(u,e)){o.$shared=!1,i=Er(i)?i():i;const g=this.createResolver(t,i,h);f=Ko(u,i,g)}for(const g of e)o[g]=f[g];return o}createResolver(t,e,i=[""],r){const{resolver:o}=iS(this._resolverCache,t,i);return Gt(e)?Ko(o,e,void 0,r):o}}function iS(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:o_(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const G4=n=>Gt(n)&&Object.getOwnPropertyNames(n).some(t=>Er(n[t]));function Y4(n,t){const{isScriptable:e,isIndexable:i}=M1(n);for(const r of t){const o=e(r),u=i(r),h=(u||o)&&n[r];if(o&&(Er(h)||G4(h))||u&&He(h))return!0}return!1}var K4="4.4.9";const $4=["top","bottom","left","right","chartArea"];function sS(n,t){return n==="top"||n==="bottom"||$4.indexOf(n)===-1&&t==="x"}function rS(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function aS(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),oe(e&&e.onComplete,[n],t)}function Q4(n){const t=n.chart,e=t.options.animation;oe(e&&e.onProgress,[n],t)}function W1(n){return c_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Mf={},oS=n=>{const t=W1(n);return Object.values(Mf).filter(e=>e.canvas===t).pop()};function W4(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const u=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=u)}}}function X4(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}var er;let kd=(er=class{static register(...t){Ri.add(...t),lS()}static unregister(...t){Ri.remove(...t),lS()}constructor(t,e){const i=this.config=new q4(e),r=W1(t),o=oS(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const u=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||m4(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,u.aspectRatio),f=h&&h.canvas,g=f&&f.height,y=f&&f.width;if(this.id=tV(),this.ctx=h,this.canvas=f,this.width=y,this.height=g,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new k4,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=EV(v=>this.update(v),u.resizeDelay||0),this._dataChanges=[],Mf[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}us.listen(this,"complete",aS),us.listen(this,"progress",Q4),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return ae(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ri}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():kT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return DT(this.canvas,this.ctx),this}stop(){return us.stop(this),this}resize(t,e){us.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,kT(this,h,!0)&&(this.notifyPlugins("resize",{size:u}),oe(i.onResize,[this,u],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Xt(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((u,h)=>(u[h]=!1,u),{});let o=[];e&&(o=o.concat(Object.keys(e).map(u=>{const h=e[u],f=Hp(u,h),g=f==="r",y=f==="x";return{options:h,dposition:g?"chartArea":y?"bottom":"left",dtype:g?"radialLinear":y?"category":"linear"}}))),Xt(o,u=>{const h=u.options,f=h.id,g=Hp(f,h),y=Ht(h.type,u.dtype);(h.position===void 0||sS(h.position,g)!==sS(u.dposition))&&(h.position=u.dposition),r[f]=!0;let v=null;if(f in i&&i[f].type===y)v=i[f];else{const b=Ri.getScale(y);v=new b({id:f,type:y,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(h,t)}),Xt(r,(u,h)=>{u||delete i[h]}),Xt(i,u=>{Yn.configure(this,u,u.options),Yn.addBox(this,u)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(rS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let u=this.getDatasetMeta(i);const h=o.type||this.config.type;if(u.type&&u.type!==h&&(this._destroyDatasetMeta(i),u=this.getDatasetMeta(i)),u.type=h,u.indexAxis=o.indexAxis||jp(h,this.options),u.order=o.order||0,u.index=i,u.label=""+o.label,u.visible=this.isDatasetVisible(i),u.controller)u.controller.updateIndex(i),u.controller.linkScales();else{const f=Ri.getController(h),{datasetElementType:g,dataElementType:y}=Ee.datasets[h];Object.assign(f,{dataElementType:Ri.getElement(y),datasetElementType:g&&Ri.getElement(g)}),u.controller=new f(this,i),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){Xt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let g=0,y=this.data.datasets.length;g<y;g++){const{controller:v}=this.getDatasetMeta(g),b=!r&&o.indexOf(v)===-1;v.buildOrUpdateElements(b),u=Math.max(+v.getMaxOverflow(),u)}u=this._minPadding=i.layout.autoPadding?u:0,this._updateLayout(u),r||Xt(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(rS("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Xt(this.scales,t=>{Yn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!bT(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const u=i==="_removeElements"?-o:o;W4(t,r,u)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(u=>u[0]===o).map((u,h)=>h+","+u.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!bT(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Yn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Xt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Er(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(us.has(this)?this.attached&&!us.running(this)&&us.start(this):(this.draw(),aS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const u=e[r];(!t||u.visible)&&i.push(u)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=CL(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&r_(e,r),t.controller.draw(),r&&a_(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return uc(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=$L.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Ma(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),u=o.controller._resolveAnimations(void 0,r);sd(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),u.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),us.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),DT(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Mf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,u)=>{e.addEventListener(this,o,u),t[o]=u},r=(o,u,h)=>{o.offsetX=u,o.offsetY=h,this._eventHandler(o)};Xt(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},r=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let u;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",u)};u=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():u()}unbindEvents(){Xt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Xt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,u,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){u=t[h];const g=u&&this.getDatasetMeta(u.datasetIndex).controller;g&&g[r+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:u})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[u],index:u}});!ed(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,g)=>f.filter(y=>!g.some(v=>y.datasetIndex===v.datasetIndex&&y.index===v.index)),u=o(e,t),h=i?t:o(t,e);u.length&&this.updateHoverStyle(u,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=u=>(u.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,u=e,h=this._getActiveElements(t,r,i,u),f=aV(t),g=X4(t,this._lastEvent,i,f);i&&(this._lastEvent=null,oe(o.onHover,[t,h,this],this),f&&oe(o.onClick,[t,h,this],this));const y=!ed(h,r);return(y||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=g,y}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}},It(er,"defaults",Ee),It(er,"instances",Mf),It(er,"overrides",xa),It(er,"registry",Ri),It(er,"version",K4),It(er,"getChart",oS),er);function lS(){return Xt(kd.instances,n=>n._plugins.invalidate())}function X1(n,t,e=t){n.lineCap=Ht(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ht(e.borderDash,t.borderDash)),n.lineDashOffset=Ht(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ht(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ht(e.borderWidth,t.borderWidth),n.strokeStyle=Ht(e.borderColor,t.borderColor)}function Z4(n,t,e){n.lineTo(e.x,e.y)}function J4(n){return n.stepped?PV:n.tension||n.cubicInterpolationMode==="monotone"?VV:Z4}function Z1(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:u,end:h}=t,f=Math.max(r,u),g=Math.min(o,h),y=r<u&&o<u||r>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:g<f&&!y?i+g-f:g-f}}function t6(n,t,e,i){const{points:r,options:o}=t,{count:u,start:h,loop:f,ilen:g}=Z1(r,e,i),y=J4(o);let{move:v=!0,reverse:b}=i||{},S,A,I;for(S=0;S<=g;++S)A=r[(h+(b?g-S:S))%u],!A.skip&&(v?(n.moveTo(A.x,A.y),v=!1):y(n,I,A,b,o.stepped),I=A);return f&&(A=r[(h+(b?g:0))%u],y(n,I,A,b,o.stepped)),!!f}function e6(n,t,e,i){const r=t.points,{count:o,start:u,ilen:h}=Z1(r,e,i),{move:f=!0,reverse:g}=i||{};let y=0,v=0,b,S,A,I,C,V;const G=J=>(u+(g?h-J:J))%o,H=()=>{I!==C&&(n.lineTo(y,C),n.lineTo(y,I),n.lineTo(y,V))};for(f&&(S=r[G(0)],n.moveTo(S.x,S.y)),b=0;b<=h;++b){if(S=r[G(b)],S.skip)continue;const J=S.x,Q=S.y,at=J|0;at===A?(Q<I?I=Q:Q>C&&(C=Q),y=(v*y+J)/++v):(H(),n.lineTo(J,Q),A=at,v=0,I=C=Q),V=Q}H()}function Fp(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?e6:t6}function n6(n){return n.stepped?mL:n.tension||n.cubicInterpolationMode==="monotone"?pL:ga}function i6(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),X1(n,t.options),n.stroke(r)}function s6(n,t,e,i){const{segments:r,options:o}=t,u=Fp(t);for(const h of r)X1(n,o,h.style),n.beginPath(),u(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const r6=typeof Path2D=="function";function a6(n,t,e,i){r6&&!t.options.segment?i6(n,t,e,i):s6(n,t,e,i)}class Pu extends Ss{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;oL(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=wL(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,u=EL(this,{property:e,start:r,end:r});if(!u.length)return;const h=[],f=n6(i);let g,y;for(g=0,y=u.length;g<y;++g){const{start:v,end:b}=u[g],S=o[v],A=o[b];if(S===A){h.push(S);continue}const I=Math.abs((r-S[e])/(A[e]-S[e])),C=f(S,A,I,i.stepped);C[e]=t[e],h.push(C)}return h.length===1?h[0]:h}pathSegment(t,e,i){return Fp(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=Fp(this);let u=this._loop;e=e||0,i=i||this.points.length-e;for(const h of r)u&=o(t,this,h,{start:e,end:e+i-1});return!!u}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),a6(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}It(Pu,"id","line"),It(Pu,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),It(Pu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),It(Pu,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function uS(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class kf extends Ss{constructor(e){super();It(this,"parsed");It(this,"skip");It(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const o=this.options,{x:u,y:h}=this.getProps(["x","y"],r);return Math.pow(e-u,2)+Math.pow(i-h,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,i){return uS(this,e,"x",i)}inYRange(e,i){return uS(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const r=i&&e.borderWidth||0;return(i+r)*2}draw(e,i){const r=this.options;this.skip||r.radius<.1||!uc(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,zp(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}It(kf,"id","point"),It(kf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),It(kf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const cS=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},o6=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class hS extends Ss{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=oe(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=an(i.font),o=r.size,u=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=cS(i,o);let g,y;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,y=this._fitRows(u,o,h,f)+10):(y=this.maxHeight,g=this._fitCols(u,r,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:u,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],y=r+h;let v=t;o.textAlign="left",o.textBaseline="middle";let b=-1,S=-y;return this.legendItems.forEach((A,I)=>{const C=i+e/2+o.measureText(A.text).width;(I===0||g[g.length-1]+C+2*h>u)&&(v+=y,g[g.length-(I>0?0:1)]=0,S+=y,b++),f[I]={left:0,top:S,row:b,width:C,height:r},g[g.length-1]+=C+h}),v}_fitCols(t,e,i,r){const{ctx:o,maxHeight:u,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],y=u-t;let v=h,b=0,S=0,A=0,I=0;return this.legendItems.forEach((C,V)=>{const{itemWidth:G,itemHeight:H}=l6(i,e,o,C,r);V>0&&S+H+2*h>y&&(v+=b+h,g.push({width:b,height:S}),A+=b+h,I++,b=S=0),f[V]={left:A,top:S,col:I,width:G,height:H},b=Math.max(b,G),S+=H+h}),v+=b,g.push({width:b,height:S}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,u=Lo(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=nn(i,this.left+r,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,f=nn(i,this.left+r,this.right-this.lineWidths[h])),g.top+=this.top+t+r,g.left=u.leftForLtr(u.x(f),g.width),f+=g.width+r}else{let h=0,f=nn(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,f=nn(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+r,g.left=u.leftForLtr(u.x(g.left),g.width),f+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;r_(t,this),this._draw(),a_(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:u}=t,h=Ee.color,f=Lo(t.rtl,this.left,this.width),g=an(u.font),{padding:y}=u,v=g.size,b=v/2;let S;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:A,boxHeight:I,itemHeight:C}=cS(u,v),V=function(at,O,R){if(isNaN(A)||A<=0||isNaN(I)||I<0)return;r.save();const D=Ht(R.lineWidth,1);if(r.fillStyle=Ht(R.fillStyle,h),r.lineCap=Ht(R.lineCap,"butt"),r.lineDashOffset=Ht(R.lineDashOffset,0),r.lineJoin=Ht(R.lineJoin,"miter"),r.lineWidth=D,r.strokeStyle=Ht(R.strokeStyle,h),r.setLineDash(Ht(R.lineDash,[])),u.usePointStyle){const N={radius:I*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:D},P=f.xPlus(at,A/2),U=O+b;D1(r,N,P,U,u.pointStyleWidth&&A)}else{const N=O+Math.max((v-I)/2,0),P=f.leftForLtr(at,A),U=Ku(R.borderRadius);r.beginPath(),Object.values(U).some(M=>M!==0)?Bp(r,{x:P,y:N,w:A,h:I,radius:U}):r.rect(P,N,A,I),r.fill(),D!==0&&r.stroke()}r.restore()},G=function(at,O,R){cc(r,R.text,at,O+C/2,g,{strikethrough:R.hidden,textAlign:f.textAlign(R.textAlign)})},H=this.isHorizontal(),J=this._computeTitleHeight();H?S={x:nn(o,this.left+y,this.right-i[0]),y:this.top+y+J,line:0}:S={x:this.left+y,y:nn(o,this.top+J+y,this.bottom-e[0].height),line:0},L1(this.ctx,t.textDirection);const Q=C+y;this.legendItems.forEach((at,O)=>{r.strokeStyle=at.fontColor,r.fillStyle=at.fontColor;const R=r.measureText(at.text).width,D=f.textAlign(at.textAlign||(at.textAlign=u.textAlign)),N=A+b+R;let P=S.x,U=S.y;f.setWidth(this.width),H?O>0&&P+N+y>this.right&&(U=S.y+=Q,S.line++,P=S.x=nn(o,this.left+y,this.right-i[S.line])):O>0&&U+Q>this.bottom&&(P=S.x=P+e[S.line].width+y,S.line++,U=S.y=nn(o,this.top+J+y,this.bottom-e[S.line].height));const M=f.x(P);if(V(M,U,at),P=TV(D,P+A+b,H?P+N:this.right,t.rtl),G(f.x(P),U,at),H)S.x+=N+y;else if(typeof at.text!="string"){const Zt=g.lineHeight;S.y+=J1(at,Zt)+y}else S.y+=Q}),U1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=an(e.font),r=$n(e.padding);if(!e.display)return;const o=Lo(t.rtl,this.left,this.width),u=this.ctx,h=e.position,f=i.size/2,g=r.top+f;let y,v=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),y=this.top+g,v=nn(t.align,v,this.right-b);else{const A=this.columnSizes.reduce((I,C)=>Math.max(I,C.height),0);y=g+nn(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const S=nn(h,v,v+b);u.textAlign=o.textAlign(i_(h)),u.textBaseline="middle",u.strokeStyle=e.color,u.fillStyle=e.color,u.font=i.string,cc(u,e.text,S,y,i)}_computeTitleHeight(){const t=this.options.title,e=an(t.font),i=$n(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(ku(t,this.left,this.right)&&ku(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],ku(t,r.left,r.left+r.width)&&ku(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!h6(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=o6(r,i);r&&!o&&oe(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&oe(e.onHover,[t,i,this],this)}else i&&oe(e.onClick,[t,i,this],this)}}function l6(n,t,e,i,r){const o=u6(i,n,t,e),u=c6(r,i,t.lineHeight);return{itemWidth:o,itemHeight:u}}function u6(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,u)=>o.length>u.length?o:u)),t+e.size/2+i.measureText(r).width}function c6(n,t,e){let i=n;return typeof t.text!="string"&&(i=J1(t,e)),i}function J1(n,t){const e=n.text?n.text.length:0;return t*e}function h6(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var f6={id:"legend",_element:hS,start(n,t,e){const i=n.legend=new hS({ctx:n.ctx,options:e,chart:n});Yn.configure(n,i,e),Yn.addBox(n,i)},stop(n){Yn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Yn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:u,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),y=$n(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:u&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class tx extends Ss{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=He(i.text)?i.text.length:1;this._padding=$n(i.padding);const o=r*an(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:u}=this,h=u.align;let f=0,g,y,v;return this.isHorizontal()?(y=nn(h,i,o),v=e+t,g=o-i):(u.position==="left"?(y=i+t,v=nn(h,r,e),f=Fe*-.5):(y=o-t,v=nn(h,e,r),f=Fe*.5),g=r-e),{titleX:y,titleY:v,maxWidth:g,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=an(e.font),o=i.lineHeight/2+this._padding.top,{titleX:u,titleY:h,maxWidth:f,rotation:g}=this._drawArgs(o);cc(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:g,textAlign:i_(e.align),textBaseline:"middle",translation:[u,h]})}}function d6(n,t){const e=new tx({ctx:n.ctx,options:t,chart:n});Yn.configure(n,e,t),Yn.addBox(n,e),n.titleBlock=e}var g6={id:"title",_element:tx,start(n,t,e){d6(n,e)},stop(n){const t=n.titleBlock;Yn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Yn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vu={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,u,h;for(o=0,u=n.length;o<u;++o){const f=n[o].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),y=Lp(t,g);y<r&&(r=y,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function xi(n,t){return t&&(He(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function cs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function m6(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:u,value:h}=o.getLabelAndValue(r);return{chart:n,label:u,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function fS(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:u,boxHeight:h}=t,f=an(t.bodyFont),g=an(t.titleFont),y=an(t.footerFont),v=o.length,b=r.length,S=i.length,A=$n(t.padding);let I=A.height,C=0,V=i.reduce((J,Q)=>J+Q.before.length+Q.lines.length+Q.after.length,0);if(V+=n.beforeBody.length+n.afterBody.length,v&&(I+=v*g.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),V){const J=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;I+=S*J+(V-S)*f.lineHeight+(V-1)*t.bodySpacing}b&&(I+=t.footerMarginTop+b*y.lineHeight+(b-1)*t.footerSpacing);let G=0;const H=function(J){C=Math.max(C,e.measureText(J).width+G)};return e.save(),e.font=g.string,Xt(n.title,H),e.font=f.string,Xt(n.beforeBody.concat(n.afterBody),H),G=t.displayColors?u+2+t.boxPadding:0,Xt(i,J=>{Xt(J.before,H),Xt(J.lines,H),Xt(J.after,H)}),G=0,e.font=y.string,Xt(n.footer,H),e.restore(),C+=A.width,{width:C,height:I}}function p6(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function y6(n,t,e,i){const{x:r,width:o}=i,u=e.caretSize+e.caretPadding;if(n==="left"&&r+o+u>t.width||n==="right"&&r-o-u<0)return!0}function _6(n,t,e,i){const{x:r,width:o}=e,{width:u,chartArea:{left:h,right:f}}=n;let g="center";return i==="center"?g=r<=(h+f)/2?"left":"right":r<=o/2?g="left":r>=u-o/2&&(g="right"),y6(g,n,t,e)&&(g="center"),g}function dS(n,t,e){const i=e.yAlign||t.yAlign||p6(n,e);return{xAlign:e.xAlign||t.xAlign||_6(n,t,e,i),yAlign:i}}function v6(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function b6(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function gS(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:u}=n,{xAlign:h,yAlign:f}=e,g=r+o,{topLeft:y,topRight:v,bottomLeft:b,bottomRight:S}=Ku(u);let A=v6(t,h);const I=b6(t,f,g);return f==="center"?h==="left"?A+=g:h==="right"&&(A-=g):h==="left"?A-=Math.max(y,b)+r:h==="right"&&(A+=Math.max(v,S)+r),{x:Gn(A,0,i.width-t.width),y:Gn(I,0,i.height-t.height)}}function pf(n,t,e){const i=$n(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function mS(n){return xi([],cs(n))}function E6(n,t,e){return Ma(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function pS(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const ex={beforeTitle:ls,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:ls,beforeBody:ls,beforeLabel:ls,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return ae(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ls,afterBody:ls,beforeFooter:ls,footer:ls,afterFooter:ls};function mn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?ex[t].call(e,i):r}class qp extends Ss{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new B1(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=E6(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=mn(i,"beforeTitle",this,t),o=mn(i,"title",this,t),u=mn(i,"afterTitle",this,t);let h=[];return h=xi(h,cs(r)),h=xi(h,cs(o)),h=xi(h,cs(u)),h}getBeforeBody(t,e){return mS(mn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Xt(t,o=>{const u={before:[],lines:[],after:[]},h=pS(i,o);xi(u.before,cs(mn(h,"beforeLabel",this,o))),xi(u.lines,mn(h,"label",this,o)),xi(u.after,cs(mn(h,"afterLabel",this,o))),r.push(u)}),r}getAfterBody(t,e){return mS(mn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=mn(i,"beforeFooter",this,t),o=mn(i,"footer",this,t),u=mn(i,"afterFooter",this,t);let h=[];return h=xi(h,cs(r)),h=xi(h,cs(o)),h=xi(h,cs(u)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],u=[];let h=[],f,g;for(f=0,g=e.length;f<g;++f)h.push(m6(this.chart,e[f]));return t.filter&&(h=h.filter((y,v,b)=>t.filter(y,v,b,i))),t.itemSort&&(h=h.sort((y,v)=>t.itemSort(y,v,i))),Xt(h,y=>{const v=pS(t.callbacks,y);r.push(mn(v,"labelColor",this,y)),o.push(mn(v,"labelPointStyle",this,y)),u.push(mn(v,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=u,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,u=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Vu[i.position].call(this,r,this._eventPosition);u=this._createItems(i),this.title=this.getTitle(u,i),this.beforeBody=this.getBeforeBody(u,i),this.body=this.getBody(u,i),this.afterBody=this.getAfterBody(u,i),this.footer=this.getFooter(u,i);const f=this._size=fS(this,i),g=Object.assign({},h,f),y=dS(this.chart,i,g),v=gS(i,g,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=u,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:u,cornerRadius:h}=i,{topLeft:f,topRight:g,bottomLeft:y,bottomRight:v}=Ku(h),{x:b,y:S}=t,{width:A,height:I}=e;let C,V,G,H,J,Q;return o==="center"?(J=S+I/2,r==="left"?(C=b,V=C-u,H=J+u,Q=J-u):(C=b+A,V=C+u,H=J-u,Q=J+u),G=C):(r==="left"?V=b+Math.max(f,y)+u:r==="right"?V=b+A-Math.max(g,v)-u:V=this.caretX,o==="top"?(H=S,J=H-u,C=V-u,G=V+u):(H=S+I,J=H+u,C=V+u,G=V-u),Q=H),{x1:C,x2:V,x3:G,y1:H,y2:J,y3:Q}}drawTitle(t,e,i){const r=this.title,o=r.length;let u,h,f;if(o){const g=Lo(i.rtl,this.x,this.width);for(t.x=pf(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",u=an(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=u.string,f=0;f<o;++f)e.fillText(r[f],g.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const u=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:g}=o,y=an(o.bodyFont),v=pf(this,"left",o),b=r.x(v),S=f<y.lineHeight?(y.lineHeight-f)/2:0,A=e.y+S;if(o.usePointStyle){const I={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},C=r.leftForLtr(b,g)+g/2,V=A+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,zp(t,I,C,V),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,zp(t,I,C,V)}else{t.lineWidth=Gt(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const I=r.leftForLtr(b,g),C=r.leftForLtr(r.xPlus(b,1),g-2),V=Ku(u.borderRadius);Object.values(V).some(G=>G!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Bp(t,{x:I,y:A,w:g,h:f,radius:V}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),Bp(t,{x:C,y:A+1,w:g-2,h:f-2,radius:V}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(I,A,g,f),t.strokeRect(I,A,g,f),t.fillStyle=u.backgroundColor,t.fillRect(C,A+1,g-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:u,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:y}=i,v=an(i.bodyFont);let b=v.lineHeight,S=0;const A=Lo(i.rtl,this.x,this.width),I=function(R){e.fillText(R,A.x(t.x+S),t.y+b/2),t.y+=b+o},C=A.textAlign(u);let V,G,H,J,Q,at,O;for(e.textAlign=u,e.textBaseline="middle",e.font=v.string,t.x=pf(this,C,i),e.fillStyle=i.bodyColor,Xt(this.beforeBody,I),S=h&&C!=="right"?u==="center"?g/2+y:g+2+y:0,J=0,at=r.length;J<at;++J){for(V=r[J],G=this.labelTextColors[J],e.fillStyle=G,Xt(V.before,I),H=V.lines,h&&H.length&&(this._drawColorBox(e,t,J,A,i),b=Math.max(v.lineHeight,f)),Q=0,O=H.length;Q<O;++Q)I(H[Q]),b=v.lineHeight;Xt(V.after,I)}S=0,b=v.lineHeight,Xt(this.afterBody,I),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let u,h;if(o){const f=Lo(i.rtl,this.x,this.width);for(t.x=pf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",u=an(i.footerFont),e.fillStyle=i.footerColor,e.font=u.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:u}=this,{x:h,y:f}=t,{width:g,height:y}=i,{topLeft:v,topRight:b,bottomLeft:S,bottomRight:A}=Ku(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+v,f),u==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+g-b,f),e.quadraticCurveTo(h+g,f,h+g,f+b),u==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+g,f+y-A),e.quadraticCurveTo(h+g,f+y,h+g-A,f+y),u==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+S,f+y),e.quadraticCurveTo(h,f+y,h,f+y-S),u==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+v),e.quadraticCurveTo(h,f,h+v,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const u=Vu[t.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=fS(this,t),f=Object.assign({},u,this._size),g=dS(e,t,f),y=gS(t,f,g,e);(r._to!==y.x||o._to!==y.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const u=$n(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),L1(t,e.textDirection),o.y+=u.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),U1(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),o=!ed(i,r),u=this._positionChanged(r,e);(o||u)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],u=this._getActiveElements(t,o,e,i),h=this._positionChanged(u,t),f=e||!ed(u,o)||h;return f&&(this._active=u,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const u=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&u.reverse(),u}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,u=Vu[o.position].call(this,t,e);return u!==!1&&(i!==u.x||r!==u.y)}}It(qp,"positioners",Vu);var T6={id:"tooltip",_element:qp,positioners:Vu,afterInit(n,t,e){e&&(n.tooltip=new qp({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ex},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const S6=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function w6(n,t,e,i){const r=n.indexOf(t);if(r===-1)return S6(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const A6=(n,t)=>n===null?null:Gn(Math.round(n),0,t);function yS(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Gp extends ol{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(ae(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:w6(i,t,Ht(e,t),this._addedLabels),A6(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let u=t;u<=e;u++)r.push({value:u});return r}getLabelForValue(t){return yS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}It(Gp,"id","category"),It(Gp,"defaults",{ticks:{callback:yS}});function x6(n,t){const e=[],{bounds:r,step:o,min:u,max:h,precision:f,count:g,maxTicks:y,maxDigits:v,includeBounds:b}=n,S=o||1,A=y-1,{min:I,max:C}=t,V=!ae(u),G=!ae(h),H=!ae(g),J=(C-I)/(v+1);let Q=TT((C-I)/A/S)*S,at,O,R,D;if(Q<1e-14&&!V&&!G)return[{value:I},{value:C}];D=Math.ceil(C/Q)-Math.floor(I/Q),D>A&&(Q=TT(D*Q/A/S)*S),ae(f)||(at=Math.pow(10,f),Q=Math.ceil(Q*at)/at),r==="ticks"?(O=Math.floor(I/Q)*Q,R=Math.ceil(C/Q)*Q):(O=I,R=C),V&&G&&o&&hV((h-u)/o,Q/1e3)?(D=Math.round(Math.min((h-u)/Q,y)),Q=(h-u)/D,O=u,R=h):H?(O=V?u:O,R=G?h:R,D=g-1,Q=(R-O)/D):(D=(R-O)/Q,qu(D,Math.round(D),Q/1e3)?D=Math.round(D):D=Math.ceil(D));const N=Math.max(ST(Q),ST(O));at=Math.pow(10,ae(f)?N:f),O=Math.round(O*at)/at,R=Math.round(R*at)/at;let P=0;for(V&&(b&&O!==u?(e.push({value:u}),O<u&&P++,qu(Math.round((O+P*Q)*at)/at,u,_S(u,J,n))&&P++):O<u&&P++);P<D;++P){const U=Math.round((O+P*Q)*at)/at;if(G&&U>h)break;e.push({value:U})}return G&&b&&R!==h?e.length&&qu(e[e.length-1].value,h,_S(h,J,n))?e[e.length-1].value=h:e.push({value:h}):(!G||R===h)&&e.push({value:R}),e}function _S(n,t,{horizontal:e,minRotation:i}){const r=pa(i),o=(e?Math.sin(r):Math.cos(r))||.001,u=.75*t*(""+n).length;return Math.min(t/o,u)}class R6 extends ol{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ae(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const u=f=>r=e?r:f,h=f=>o=i?o:f;if(t){const f=Yo(r),g=Yo(o);f<0&&g<0?h(0):f>0&&g>0&&u(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||u(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,u=x6(r,o);return t.bounds==="ticks"&&fV(u,this,"value"),t.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return C1(t,this.chart.options.locale,this.options.ticks.format)}}class Yp extends R6{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Kn(t)?t:0,this.max=Kn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=pa(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}It(Yp,"id","linear"),It(Yp,"defaults",{ticks:{callback:I1.formatters.numeric}});const Nd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},yn=Object.keys(Nd);function vS(n,t){return n-t}function bS(n,t){if(ae(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let u=t;return typeof i=="function"&&(u=i(u)),Kn(u)||(u=typeof i=="string"?e.parse(u,i):e.parse(u)),u===null?null:(r&&(u=r==="week"&&(lc(o)||o===!0)?e.startOf(u,"isoWeek",o):e.startOf(u,r)),+u)}function ES(n,t,e,i){const r=yn.length;for(let o=yn.indexOf(n);o<r-1;++o){const u=Nd[yn[o]],h=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((e-t)/(h*u.size))<=i)return yn[o]}return yn[r-1]}function C6(n,t,e,i,r){for(let o=yn.length-1;o>=yn.indexOf(e);o--){const u=yn[o];if(Nd[u].common&&n._adapter.diff(r,i,u)>=t-1)return u}return yn[e?yn.indexOf(e):0]}function I6(n){for(let t=yn.indexOf(n)+1,e=yn.length;t<e;++t)if(Nd[yn[t]].common)return yn[t]}function TS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=n_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function D6(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),u=t[t.length-1].value;let h,f;for(h=o;h<=u;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function SS(n,t,e){const i=[],r={},o=t.length;let u,h;for(u=0;u<o;++u)h=t[u],r[h]=u,i.push({value:h,major:!1});return o===0||!e?i:D6(n,i,r,e)}class ld extends ol{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new FL._date(t.adapters.date);r.init(e),Fu(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:bS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:u,maxDefined:h}=this.getUserBounds();function f(g){!u&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!u||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=Kn(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=Kn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,u=this.max,h=_V(r,o,u);return this._unit=e.unit||(i.autoSkip?ES(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):C6(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:I6(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),SS(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;e=Gn(e,0,u),i=Gn(i,0,u),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,u=o.unit||ES(o.minUnit,e,i,this._getLabelCapacity(e)),h=Ht(r.ticks.stepSize,1),f=u==="week"?o.isoWeekday:!1,g=lc(f)||f===!0,y={};let v=e,b,S;if(g&&(v=+t.startOf(v,"isoWeek",f)),v=+t.startOf(v,g?"day":u),t.diff(i,e,u)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+u);const A=r.ticks.source==="data"&&this.getDataTimestamps();for(b=v,S=0;b<i;b=+t.add(b,h,u),S++)TS(y,b,A);return(b===i||r.bounds==="ticks"||S===1)&&TS(y,b,A),Object.keys(y).sort(vS).map(I=>+I)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,u=e||r[o];return this._adapter.format(t,u)}_tickFormatFunction(t,e,i,r){const o=this.options,u=o.ticks.callback;if(u)return oe(u,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,g=this._majorUnit,y=f&&h[f],v=g&&h[g],b=i[e],S=g&&v&&b&&b.major;return this._adapter.format(t,r||(S?v:y))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=pa(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),u=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*u,h:i*u+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,SS(this,[t],this._majorUnit),r),u=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(bS(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return bV(t.sort(vS))}}It(ld,"id","time"),It(ld,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function yf(n,t,e){let i=0,r=n.length-1,o,u,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=ya(n,"pos",t)),{pos:o,time:h}=n[i],{pos:u,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=ya(n,"time",t)),{time:o,pos:h}=n[i],{time:u,pos:f}=n[r]);const g=u-o;return g?h+(f-h)*(t-o)/g:h}class wS extends ld{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=yf(e,this.min),this._tableRange=yf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let u,h,f,g,y;for(u=0,h=t.length;u<h;++u)g=t[u],g>=e&&g<=i&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(u=0,h=r.length;u<h;++u)y=r[u+1],f=r[u-1],g=r[u],Math.round((y+f)/2)!==g&&o.push({time:g,pos:u/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(yf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return yf(this._table,i*this._tableRange+this._minPos,!0)}}It(wS,"id","timeseries"),It(wS,"defaults",ld.defaults);const nx="label";function AS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function O6(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function ix(n,t){n.labels=t}function sx(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:nx;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(u=>u[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function M6(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nx;const e={labels:[],datasets:[]};return ix(e,n.labels),sx(e,n.datasets,t),e}function k6(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:u,data:h,options:f,plugins:g=[],fallbackContent:y,updateMode:v,...b}=n,S=W.useRef(null),A=W.useRef(null),I=()=>{S.current&&(A.current=new kd(S.current,{type:u,data:M6(h,o),options:f&&{...f},plugins:g}),AS(t,A.current))},C=()=>{AS(t,null),A.current&&(A.current.destroy(),A.current=null)};return W.useEffect(()=>{!r&&A.current&&f&&O6(A.current,f)},[r,f]),W.useEffect(()=>{!r&&A.current&&ix(A.current.config.data,h.labels)},[r,h.labels]),W.useEffect(()=>{!r&&A.current&&h.datasets&&sx(A.current.config.data,h.datasets,o)},[r,h.datasets]),W.useEffect(()=>{A.current&&(r?(C(),setTimeout(I)):A.current.update(v))},[r,f,h.labels,h.datasets,v]),W.useEffect(()=>{A.current&&(C(),setTimeout(I))},[u]),W.useEffect(()=>(I(),()=>C()),[]),$p.createElement("canvas",{ref:S,role:"img",height:e,width:i,...b},y)}const N6=W.forwardRef(k6);function P6(n,t){return kd.register(t),W.forwardRef((e,i)=>$p.createElement(N6,{...e,ref:i,type:n}))}const xS=P6("line",Df);kd.register(Gp,Yp,kf,Pu,g6,T6,f6);function V6(){const[n,t]=W.useState([]),[e,i]=W.useState([]),[r,o]=W.useState([]);return W.useEffect(()=>{(async()=>{const h=al.currentUser.uid,f=sP(Xy,"users",h,"sensor"),g=yP(f,_P("__name__","desc"),vP(50)),y=await AP(g),v=[],b=[],S=[];y.docs.reverse().forEach(A=>{const I=A.data();v.push(A.id),b.push(I.temp||0),S.push(I.humidity||0)}),t(v),i(b),o(S)})()},[]),nt.jsxs("main",{className:"p-6 text-white bg-gray-900 min-h-screen",children:[nt.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Dashboard"}),nt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[nt.jsxs("div",{className:"bg-gray-800 p-4 rounded shadow",children:[nt.jsx("h2",{className:"text-lg mb-2",children:"Water Tank"}),nt.jsx("div",{className:"text-5xl font-bold text-center",children:"65.00"})]}),nt.jsxs("div",{className:"bg-gray-800 p-4 rounded shadow",children:[nt.jsx("h2",{className:"text-lg mb-2",children:"Temperature"}),nt.jsx("div",{className:"text-5xl font-bold text-center text-green-400",children:e[e.length-1]||"0.00"})]}),nt.jsxs("div",{className:"bg-gray-800 p-4 rounded shadow",children:[nt.jsx("h2",{className:"text-lg mb-2",children:"Humidity"}),nt.jsx("div",{className:"text-5xl font-bold text-center text-green-400",children:r[r.length-1]||"0.00"})]}),nt.jsxs("div",{className:"bg-gray-800 p-4 rounded shadow col-span-1 lg:col-span-2",children:[nt.jsx("h2",{className:"text-lg mb-4",children:"Temperature Graph"}),nt.jsx(xS,{data:{labels:n,datasets:[{label:"Temperature (°C)",data:e,borderColor:"#4ade80",backgroundColor:"rgba(74, 222, 128, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,plugins:{legend:{labels:{color:"white"}}},scales:{x:{ticks:{color:"white"}},y:{ticks:{color:"white"}}}}})]}),nt.jsxs("div",{className:"bg-gray-800 p-4 rounded shadow col-span-1 lg:col-span-2",children:[nt.jsx("h2",{className:"text-lg mb-4",children:"Humidity Graph"}),nt.jsx(xS,{data:{labels:n,datasets:[{label:"Humidity (%)",data:r,borderColor:"#60a5fa",backgroundColor:"rgba(96, 165, 250, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,plugins:{legend:{labels:{color:"white"}}},scales:{x:{ticks:{color:"white"}},y:{ticks:{color:"white"}}}}})]}),nt.jsxs("div",{className:"bg-gray-800 p-4 rounded shadow",children:[nt.jsx("h2",{className:"text-lg mb-4",children:"Controls"}),nt.jsxs("div",{className:"space-y-2",children:[nt.jsxs("label",{className:"block",children:["Water Level",nt.jsx("input",{type:"range",min:"0",max:"100",value:"65",className:"w-full accent-orange-500"})]}),nt.jsxs("label",{className:"block",children:["Humidity",nt.jsx("input",{type:"range",min:"0",max:"100",value:"65",className:"w-full accent-orange-500"})]})]})]})]})]})}function L6(){const[n,t]=W.useState(null),e=Zo();return W.useEffect(()=>{(async()=>{const r=al.currentUser;if(!r)return e("/");const o=a1(Xy,"users",r.uid),u=await wP(o);u.exists()&&t(u.data())})()},[e]),n?nt.jsxs("main",{className:"p-6 text-white bg-gray-900 min-h-screen",children:[nt.jsx("h1",{className:"text-3xl font-semibold mb-6",children:"User Profile"}),nt.jsxs("div",{className:"bg-gray-800 p-6 rounded shadow max-w-xl space-y-4",children:[nt.jsxs("p",{children:[nt.jsx("span",{className:"font-bold",children:"Nama Depan:"})," ",n.firstName||"-"]}),nt.jsxs("p",{children:[nt.jsx("span",{className:"font-bold",children:"Nama Belakang:"})," ",n.lastName||"-"]}),nt.jsxs("p",{children:[nt.jsx("span",{className:"font-bold",children:"Email:"})," ",n.email||"-"]}),nt.jsxs("p",{children:[nt.jsx("span",{className:"font-bold",children:"Tanggal Lahir:"})," ",n.dob||"-"]}),nt.jsxs("p",{children:[nt.jsx("span",{className:"font-bold",children:"No HP:"})," ",n.phone||"-"]}),nt.jsxs("p",{children:[nt.jsx("span",{className:"font-bold",children:"Alamat:"})," ",n.address||"-"]}),nt.jsxs("p",{children:[nt.jsx("span",{className:"font-bold",children:"Umur:"})," ",n.age||"-"]})]})]}):nt.jsx("div",{className:"text-white text-center mt-10",children:"Loading profile..."})}function U6(){const[n,t]=W.useState(10),[e,i]=W.useState("auto"),r=o=>{o.preventDefault(),console.log("Config saved:",{interval:n,mode:e}),alert("Pengaturan disimpan")};return nt.jsxs("main",{className:"p-6 bg-gray-100 min-h-screen",children:[nt.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Konfigurasi Sistem"}),nt.jsxs("form",{onSubmit:r,className:"space-y-4 bg-white p-6 rounded-lg shadow-md max-w-md mx-auto",children:[nt.jsxs("div",{children:[nt.jsx("label",{className:"block mb-1 font-medium",htmlFor:"interval",children:"Interval Sampling (detik)"}),nt.jsx("input",{type:"number",id:"interval",className:"w-full px-4 py-2 border rounded-md",value:n,onChange:o=>t(o.target.value)})]}),nt.jsxs("div",{children:[nt.jsx("label",{className:"block mb-1 font-medium",htmlFor:"mode",children:"Mode"}),nt.jsxs("select",{id:"mode",className:"w-full px-4 py-2 border rounded-md",value:e,onChange:o=>i(o.target.value),children:[nt.jsx("option",{value:"auto",children:"Auto"}),nt.jsx("option",{value:"manual",children:"Manual"})]})]}),nt.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition",children:"Simpan"})]})]})}function z6(){const[n,t]=W.useState(!1),e=Zo(),i=()=>{al.signOut().then(()=>{e("/")})};return nt.jsxs("header",{className:"flex items-center justify-between bg-gray-800 p-4 shadow text-white",children:[nt.jsx("h1",{className:"text-xl font-bold",children:"AquaMonitor"}),nt.jsxs("div",{className:"relative",children:[nt.jsx("button",{onClick:()=>t(!n),className:"focus:outline-none",children:nt.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:nt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),n&&nt.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-gray-700 rounded-md shadow-lg py-2 z-50",children:[nt.jsx("a",{href:"/dashboard",className:"block px-4 py-2 hover:bg-gray-600",children:"Home"}),nt.jsx("a",{href:"/profile",className:"block px-4 py-2 hover:bg-gray-600",children:"Profile"}),nt.jsx("a",{href:"/settings",className:"block px-4 py-2 hover:bg-gray-600",children:"Settings"}),nt.jsx("button",{onClick:i,className:"w-full text-left px-4 py-2 text-red-400 hover:bg-red-500 hover:text-white",children:"Logout"})]})]})]})}function B6(){const[n,t]=W.useState(null),[e,i]=W.useState(!0);return W.useEffect(()=>{const r=al.onAuthStateChanged(o=>{t(o),i(!1)});return()=>r()},[]),e?nt.jsx("div",{className:"text-center mt-10",children:"Loading..."}):nt.jsxs(nI,{children:[n&&nt.jsx(z6,{}),nt.jsxs(MC,{children:[nt.jsx(Ro,{path:"/",element:n?nt.jsx(vu,{to:"/dashboard"}):nt.jsx(DP,{})}),nt.jsx(Ro,{path:"/register",element:n?nt.jsx(vu,{to:"/dashboard"}):nt.jsx(OP,{})}),nt.jsx(Ro,{path:"/dashboard",element:n?nt.jsx(V6,{}):nt.jsx(vu,{to:"/"})}),nt.jsx(Ro,{path:"/profile",element:n?nt.jsx(L6,{}):nt.jsx(vu,{to:"/"})}),nt.jsx(Ro,{path:"/settings",element:n?nt.jsx(U6,{}):nt.jsx(vu,{to:"/"})})]})]})}jR.createRoot(document.getElementById("root")).render(nt.jsx($p.StrictMode,{children:nt.jsx(B6,{})}));
